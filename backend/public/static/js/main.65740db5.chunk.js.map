{"version":3,"sources":["cmps/UtilCmps/Loader.jsx","assets/img/icons/star.svg","services/util.service.js","cmps/DynamicCmps/SmallGamePreview.jsx","cmps/DynamicCmps/MainGamePreview.jsx","cmps/DynamicCmps/CtgList.jsx","cmps/Video.jsx","cmps/DynamicCmps/VideoGame.jsx","cmps/DynamicCmp.jsx","services/http.service.js","services/game.service.js","store/actions/game.actions.js","pages/Home.jsx","services/socket.service.js","data/user.data.js","services/user.service.js","store/actions/user.actions.js","pages/Login.jsx","cmps/UtilCmps/UserMsg.jsx","cmps/Header.jsx","cmps/GamePreview.jsx","cmps/GameList.jsx","cmps/GameFilter.jsx","cmps/UtilCmps/Item.jsx","pages/GameApp.jsx","cmps/UtilCmps/Rating.jsx","cmps/ReviewCmps/AddReview.jsx","cmps/ReviewCmps/ReviewPreview.jsx","cmps/ReviewCmps/ReviewList.jsx","services/order.service.js","cmps/GameDetailsCmps/DetailsSideBar.jsx","cmps/GameDetailsCmps/DetailsPriceBar.jsx","cmps/InfoBlock.jsx","cmps/GameDetailsCmps/DetailsPanel.jsx","cmps/GameDetailsCmps/DetailsTopNav.jsx","assets/img/icons/twitter.svg","pages/GameDetails.jsx","pages/About.jsx","assets/img/icons/instagram.svg","assets/img/icons/facebook.svg","cmps/Footer.jsx","cmps/cartCmps/CartPreview.jsx","cmps/cartCmps/CartList.jsx","services/async-Storage.service.js","services/cart.service.js","cmps/cartCmps/FriendsList.jsx","cmps/cartCmps/CartInfo.jsx","cmps/cartCmps/CartCheckout.jsx","pages/GameCart.jsx","store/actions/cart.actions.js","store/actions/order.actions.js","cmps/UserCmps/UserHeader.jsx","cmps/UserCmps/DanDUserGameList.jsx","pages/UserProfile.jsx","cmps/UtilCmps/GameSwipe.jsx","App.jsx","serviceWorkerRegistration.js","store/reducers/review.reducer.js","store/reducers/user.reducer.js","store/reducers/system.reducer.js","store/reducers/game.reducer.js","store/reducers/cart.reducer.js","store/reducers/order.reducer.js","store/reducers/index.js","store/store.js","reportWebVitals.js","index.js"],"names":["Loader","className","_path","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgStar","_ref","svgRef","title","titleId","props","focusable","role","xmlns","viewBox","ref","id","fill","d","ForwardRef","utilService","delay","ms","Promise","resolve","setTimeout","getRandomInt","min","max","Math","ceil","floor","random","makeId","txt","possible","charAt","getDateFormat","date","currDate","Date","year","getFullYear","month","getMonth","day","getDay","dateStr","renderStars","rate","stars","round","push","getDateString","toLocaleDateString","getFinalPrice","price","discount","SmallGamePreview","game","gameImg","imgs","largeImgUrls","finalPrice","to","_id","src","alt","toFixed","MainGamePreview","state","games","gameIdx","imgIdx","classTransition","changeGameByDiff","diff","setState","nextIdx","toggleTransition","changeImg","idx","map","img","mainImg","releasedAt","onClick","onMouseOver","onMouseLeave","changeGameByIdx","Component","CtgList","Video","url","autoPlay","width","height","frameBorder","allow","allowFullScreen","VideoGame","videoUrls","gGames","DynamicCmp","type","countGameToCut","filterGames","splice","BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","data","ajax","a","method","params","res","console","log","dir","response","status","window","location","gameService","getGames","filterBy","tag","sortBy","getById","gameId","remove","save","addReview","review","byUser","loadGames","dispatch","_Home","mapDispatchToProps","Home","connect","isLoading","systemModule","gameModule","socketService","socket","setup","io","reconnection","on","eventName","cb","off","removeAllListeners","emit","terminate","createSocketService","x","userService","login","logout","signup","getUsers","userId","update","getLoggedinUser","JSON","parse","sessionStorage","getItem","user","userCred","_saveLocalUser","clear","setItem","stringify","loadUsers","users","userMsg","msg","_Login","loginCred","username","password","signupCred","fullname","isLogIn","loginHandleChange","ev","name","value","prevState","signupHandleChange","doLogin","preventDefault","userCreds","loggedInUser","history","doSignup","signupCreds","toggleLoginSignup","removeUser","signupSection","onSubmit","onChange","autoComplete","loginSection","Login","userModule","UserMsg","_Header","isHidden","toggleIsHidden","readAll","flexClass","onLogout","prevProps","updateData","now","exact","storageKey","notific_key","notific_value","heading","sortedByKey","showDate","size","color","markAsReadFn","imgUrl","Header","GamePreview","previewImg","rating","seller","reviews","sDescription","tags","slice","GameList","GameFilter","handleChange","field","onSetFilter","placeholder","styled","div","_GameApp","paramsString","search","searchParams","URLSearchParams","get","GameApp","Rating","isPreview","onHandleChange","htmlFor","hidden","AddReview","handleSubmit","onAddReview","textInput","cols","rows","ReviewPreview","createdAt","userImg","ReviewList","orderService","getOrders","orderId","order","buyer","checkIsInLibrary","orders","some","DetailsSideBar","isInLibrary","DetailsPriceBar","InfoBlock","DetailsPanel","description","urlImgs","maxLength","DetailsTopNav","_GameDetails","onRemoveGame","removeGame","loadGame","match","descriptions","split","shortStr","newDescs","forEach","desc","getDesc","saveGame","gameToSave","action","GameDetails","About","payment","SvgTwitter","_path2","_path3","SvgInstagram","SvgFacebook","enableBackground","Footer","CartPreview","onRemoveCart","isCheckout","CartList","storageService","query","entityType","entityId","then","entities","find","entity","post","newEntity","_save","put","updatedEntity","findIndex","removeAll","localStorage","STORAGE_KEY","cartService","add","getGamesByCarts","carts","cart","checkIsDuplicate","serialKey","sellerId","addedCart","reduce","acc","filter","FriendsList","friendId","onChoseFriend","frinedsList","onCheckOut","toggleModal","isOpenModal","friend","CartInfo","totalPrice","toggleIsCheckout","onFriendSelect","CartCheckout","_GameCart","buyToUserId","removeCart","newGames","onRemoveCarts","removeCarts","all","saveOrder","savedOrder","getTotalPrice","friends","scrollTo","addToCart","loadCarts","onUpdateCarts","newCart","orderToSave","GameCart","cartModule","UserHeader","DanDUserGameList","onGameClicked","useState","boughtGamess","updateGames","onDragEnd","result","destination","items","Array","from","index","reorderedItem","droppableId","direction","provided","droppableProps","innerRef","draggableId","draggableProps","dragHandleProps","_UserProfile","gamesToSell","componentDidMount","UserProfile","finalSpaceGames","like","thumb","_App","isUpdate","onGameBought","onGiftSent","path","component","App","Boolean","hostname","initialState","localLoggedinUser","loggedinUser","rootReducer","combineReducers","reviewModule","reviewId","orderModule","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"6PAAO,SAASA,IACZ,OACI,qBAAKC,UAAU,sBAAf,SACA,sBAAKA,UAAU,aAAf,UACI,wBAAW,wBAAW,wBAAW,wBACjC,wBAAW,wBAAW,wBAAW,6B,ICLzCC,E,QAEJ,SAASC,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAASS,EAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxMgB,CAA8BZ,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASoB,EAAQC,EAAMC,GACrB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQd,EAAyBU,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAOxB,EAAS,CACtD,cAAe,OACf6B,UAAW,QACX,cAAe,MACf,YAAa,OACb/B,UAAW,0CACXgC,KAAM,MACNC,MAAO,6BACPC,QAAS,cACTC,IAAKR,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DQ,GAAIP,GACHD,GAAS,KAAM3B,IAAUA,EAAqB,gBAAoB,OAAQ,CAC3EoC,KAAM,eACNC,EAAG,uQAIP,IAAIC,EAA0B,aAAiBd,GChClCe,GDiCE,ICjCY,CACvBC,MASJ,WAA2B,IAAZC,EAAW,uDAAN,KAChB,OAAO,IAAIC,SAAQ,SAAAC,GACfC,WAAWD,EAASF,OAVxBI,aAcJ,SAAsBC,EAAKC,GAGvB,OAFAD,EAAME,KAAKC,KAAKH,GAChBC,EAAMC,KAAKE,MAAMH,GACVC,KAAKE,MAAMF,KAAKG,UAAYJ,EAAMD,GAAOA,IAhBhDM,OAmBJ,WAGI,IAHyB,IAAb7C,EAAY,uDAAH,EACjB8C,EAAM,GACNC,EAAW,iEACNjD,EAAI,EAAGA,EAAIE,EAAQF,IACxBgD,GAAOC,EAASC,OAAOP,KAAKE,MAAMF,KAAKG,SAAWG,EAAS/C,SAE/D,OAAO8C,GAxBPG,cA0BJ,SAAuBC,GACnB,IACMC,EAAW,IAAIC,KAAKF,GACpBG,EAAOF,EAASG,cAChBC,EAHS,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YAGzGJ,EAASK,WAAa,GACvCC,EAAMN,EAASO,SAEP,IAARD,IAAWA,EAAM,GACrB,IAAIE,EAAWF,EAAM,GAAP,WAAiBA,GAAjB,UAA4BA,GAE1C,OADAE,GAAO,WAAQJ,EAAR,aAAkBF,IAlCzBO,YAwCJ,SAAqBC,GAEjB,IADA,IAAIC,EAAQ,GACHhE,EAAI,EAAGA,EAAI2C,KAAKsB,MAAMF,GAAO/D,IAClCgE,EAAME,KAAK,cAAC,EAAD,GAAclE,IAE7B,OAAOgE,GA5CPG,cAoCJ,SAAuBf,GACnB,OAAO,IAAIE,KAAKF,GAAMgB,mBAAmB,QAAS,CAAET,IAAK,UAAWF,MAAO,OAAQF,KAAM,aApCzFc,cA8CJ,SAAuBC,EAAOC,GAAW,OAAOD,EAASA,GAASC,EAAS,QCrDpE,SAASC,EAAT,GAAqC,IAATC,EAAQ,EAARA,KACzBC,EAAUD,EAAKE,KAAKC,aAAa,GACjCC,EAAa3C,EAAYmC,cAAcI,EAAKH,MAAOG,EAAKF,UAC9D,OACI,qBAAK7E,UAAU,mCAAf,SACI,8BACI,eAAC,IAAD,CAAMA,UAAU,SAASoF,GAAE,gBAAWL,EAAKM,KAA3C,UACI,qBAAKrF,UAAU,iBAAf,SACI,qBAAKsF,IAAKN,EAASO,IAAI,OAE3B,sBAAKvF,UAAU,gBAAf,UACI,mBAAGA,UAAU,WAAb,SAAyB+E,EAAKF,SAAL,UAAmBE,EAAKF,SAAxB,KAAsC,KAC/D,sBAAK7E,UAAU,cAAf,UACI,oBAAGA,UAAY+E,EAAKF,SAAW,EAAK,UAAY,UAAhD,cAA8DE,EAAKH,MAAMY,QAAQ,MAChFT,EAAKF,SAAW,oBAAG7E,UAAU,UAAb,cAA0BmF,EAAWK,QAAQ,MAAU,gB,WCRvFC,EAAb,4MACIC,MAAQ,CACJC,MAAO,KACPC,QAAS,EACTC,OAAQ,EACRC,gBAAiB,IALzB,EAaIC,iBAAmB,SAACC,GAChB,EAAKC,SAAS,CAAEH,gBAAiB,KACjC,MAA2B,EAAKJ,MAAxBC,EAAR,EAAQA,MACJO,EAAUF,GADd,EAAeJ,QAEXM,EAAU,IAAGA,EAAUP,EAAMnF,OAAS,GACtC0F,GAAWP,EAAMnF,SAAQ0F,EAAU,GACvCrD,YAAW,kBAAM,EAAKoD,SAAS,CAAEL,QAASM,MAAY,KACtD,EAAKC,oBApBb,EA8BIC,UAAY,SAACP,GACT,EAAKI,SAAS,CAAEJ,YA/BxB,uDAOI,WACI,IAAMF,EAAQ5E,KAAKe,MAAM6D,MACzB5E,KAAKoF,mBACLpF,KAAKkF,SAAS,CAAEN,YAVxB,6BAsBI,SAAgBU,GAAM,IAAD,OACjBtF,KAAKkF,SAAS,CAAEH,gBAAiB,KACjCjD,YAAW,kBAAM,EAAKoD,SAAS,CAAEL,QAASS,MAAQ,KAClDtF,KAAKoF,qBAzBb,8BA2BI,WAAoB,IAAD,OACftD,YAAW,kBAAM,EAAKoD,SAAS,CAAEH,gBAAiB,iBAAiB,OA5B3E,oBAiCI,WAAU,IAAD,OACL,EAAoD/E,KAAK2E,MAAjDC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,QAASC,EAAxB,EAAwBA,OAAQC,EAAhC,EAAgCA,gBAChC,IAAKH,IAAUA,EAAMnF,OAAQ,OAAQ,cAACT,EAAD,IACrC,IAAMgF,EAAOY,EAAMC,GACbX,EAAOF,EAAKE,KAAKC,aAAaoB,KAAI,SAAAC,GAAG,OAAIA,KAEzCC,EADab,EAAMC,GAASX,KAAKC,aAAaW,GAE9CY,EAAa1F,KAAKe,MAAMU,YAAYiB,cAAcsB,EAAK0B,YACvDtB,EAAa3C,EAAYmC,cAAcI,EAAKH,MAAOG,EAAKF,UAC9D,OACI,mCACI,gCAEI,sBAAK7E,UAAU,oCAAf,UACI,wBAAQA,UAAU,eAAe0G,QAAS,kBAAM,EAAKX,kBAAkB,IAAvE,oBACA,cAAC,IAAD,CAAMX,GAAE,gBAAWL,EAAKM,KAAxB,SAEI,sBAAKrF,UAAU,gCAAf,UACI,qBAAKA,UAAS,gBAAW8F,GAAzB,SACI,qBAAKR,IAAKkB,EAASjB,IAAI,OAG3B,sBAAKvF,UAAU,6BAAf,UACI,qBACI2G,YAAa,kBAAM,EAAKP,UAAU,IAClCQ,aAAc,kBAAM,EAAKR,UAAU,IACnCpG,UAAW8F,EAAiBR,IAAKL,EAAK,KAC1C,qBAAK0B,YAAa,kBAAM,EAAKP,UAAU,IACnCQ,aAAc,kBAAM,EAAKR,UAAU,IACnCpG,UAAW8F,EAAiBR,IAAKL,EAAK,KAE1C,6BAAKF,EAAKnD,QACV,8CAAiB6E,QAGrB,sBAAKzG,UAAU,2CAAf,UACI,gCACA,qBAAK2G,YAAa,kBAAM,EAAKP,UAAU,IACnCQ,aAAc,kBAAM,EAAKR,UAAU,IACnCpG,UAAW8F,EAAiBR,IAAKL,EAAK,KAC1C,qBAAK0B,YAAa,kBAAM,EAAKP,UAAU,IACnCQ,aAAc,kBAAM,EAAKR,UAAU,IACnCpG,UAAW8F,EAAiBR,IAAKL,EAAK,QAI1C,sBAAKjF,UAAU,gBAAf,UACI,mBAAGA,UAAS,oBAAe+E,EAAKF,UAAY,UAA5C,SAAyDE,EAAKF,SAAL,UAAmBE,EAAKF,SAAxB,KAAsC,MAC/F,sBAAK7E,UAAU,8BAAf,UACI,oBAAGA,UAAS,mBAAc+E,EAAKF,UAAY,UAA3C,cAA0DE,EAAKH,MAAMY,QAAQ,MAC7E,oBAAGxF,UAAS,WAAZ,cAA6BmF,EAAWK,QAAQ,YAIxD,wBAAQxF,UAAU,mBAAlB,kCAIZ,wBAAQA,UAAU,gBAAgB0G,QAAS,kBAAM,EAAKX,iBAAiB,IAAvE,wBAEJ,qBAAK/F,UAAU,mCAAf,SACK2F,EAAMW,KAAI,SAACvB,EAAMsB,GAAP,OACP,qBACIK,QAAS,kBAAM,EAAKG,gBAAgBR,IACpCrG,UAAS,eAAU4F,IAAYS,GAAO,SAA7B,MAFH,OAASA,iBA/F/C,GAAqCS,aCP9B,SAASC,IACZ,OACI,qCACI,oBAAI/G,UAAU,8BAAd,8BACA,sBAAKA,UAAU,wCAAf,UACI,cAAC,IAAD,CAAMA,UAAU,WAAWoF,GAAG,sBAA9B,uBACA,cAAC,IAAD,CAAMpF,UAAU,WAAWoF,GAAG,mBAA9B,oBACA,cAAC,IAAD,CAAMpF,UAAU,WAAWoF,GAAG,mBAA9B,oBACA,cAAC,IAAD,CAAMpF,UAAU,WAAWoF,GAAG,mBAA9B,uBAEJ,sBAAKpF,UAAU,+BAAf,UACI,oBAAIA,UAAU,qBAAd,0BACA,8BACA,cAAC,IAAD,CAAMA,UAAU,oCAAoCoF,GAAG,QAAvD,+BCXT,SAAS4B,EAAT,GAAyB,IAARC,EAAO,EAAPA,IACpB,OACI,qBAAKjH,UAAU,mBAAf,SACI,wBACIkH,UAAU,EACVC,MAAM,MACNC,OAAO,MACP9B,IAAK2B,EACLI,YAAY,IACZC,MAAM,2FACNC,iBAAe,EACf3F,MAAM,uBCXf,SAAS4F,EAAT,GAA+B,IAAV7B,EAAS,EAATA,MACxB,OAAQ,qCACJ,sBAAK3F,UAAU,+BAAf,UACI,oBAAIA,UAAU,qBAAd,kCACA,8BACI,cAAC,IAAD,CAAMA,UAAU,oCAAoCoF,GAAG,QAAvD,4BAKR,qBAAKpF,UAAU,2CAAf,SACK2F,EAAMW,KAAI,SAAAvB,GACP,OACI,sBAAK/E,UAAU,uBAAf,UACI,cAACgH,EAAD,CAAOC,IAAKlC,EAAK0C,UAAU,GAA3B,eACA,eAAC,IAAD,CAAMrC,GAAE,gBAAWL,EAAKM,KAAxB,UAAgCN,EAAKnD,MACjC,qBAAK5B,UAAU,cAHvB,eAAmD+E,EAAKM,cCX5E,IAAIqC,EAAS,GACN,SAASC,EAAT,GAAiE,IAA3ChC,EAA0C,EAA1CA,MAA0C,IAAnCiC,YAAmC,MAA5B,OAA4B,EAAfpF,GAAe,EAApB8C,IAAoB,EAAf9C,aAGhDqF,EAAiB,EACAA,EAAR,SAATD,EAAkC,GACpB,UAATA,EAAmC,EACtB,EAElBF,EAAOlH,OAASqH,IAAgBH,EAAM,YAAO/B,IAGjD,IAAMmC,EAAcJ,EAAOK,OAAO,EAAGF,GAC/BF,EAAa,WACf,OAAQC,GACJ,IAAK,OACD,OACI,cAAC,EAAD,CAAiBjC,MAAOmC,EAAatF,YAAaA,IAE1D,IAAK,QACD,OACI,cAACgF,EAAD,CAAW7B,MAAOmC,IAE1B,IAAK,QACD,OAAQ,qCACJ,cAACf,EAAD,IAEA,qBAAK/G,UAAU,6DAAf,SACK8H,EAAYxB,KAAI,SAACvB,EAAMsB,GACpB,KAAIA,EAAM,GACV,OAAO,cAACvB,EAAD,CAAkBC,KAAMA,GAAWA,EAAKM,aAK/D,QAAS,OAAO,+BAGxB,OACI,qBAAKrF,UAAU,uBAAf,SACI,cAAC2H,EAAD,M,aC3CNK,EACA,QAIFC,E,OAAQC,EAAMC,OAAO,CACrBC,iBAAiB,IAGRC,EAAc,SACnBC,EAAUC,GACV,OAAOC,EAAKF,EAAU,MAAOC,IAFxBF,EAAc,SAIlBC,EAAUC,GACX,OAAOC,EAAKF,EAAU,OAAQC,IALzBF,EAAc,SAOnBC,EAAUC,GACV,OAAOC,EAAKF,EAAU,MAAOC,IARxBF,EAAc,SAUhBC,EAAUC,GACb,OAAOC,EAAKF,EAAU,SAAUC,I,SAIzBC,E,8EAAf,WAAoBF,GAApB,+BAAAG,EAAA,6DAA8BC,EAA9B,+BAAuC,MAAOH,EAA9C,+BAAqD,KAArD,kBAE0BN,EAAM,CACpBhB,IAAI,GAAD,OAAKe,GAAL,OAAgBM,GACnBI,SACAH,OACAI,OAAoB,QAAXD,EAAoBH,EAAO,OANhD,cAEcK,EAFd,yBAQeA,EAAIL,MARnB,sCAUQM,QAAQC,IAAR,qBAA0BJ,EAA1B,yCAAiEJ,EAAjE,wBAAyFC,IACzFM,QAAQE,IAAR,MACI,KAAIC,UAAoC,MAAxB,KAAIA,SAASC,QAC7BC,OAAOC,SAAS/I,OAAO,YAbnC,+D,sBCrBO,IAAMgJ,EAAc,CACvBC,SAOJ,WAAyE,IAAvDC,EAAsD,uDAA3C,CAAEhG,IAAK,GAAIiG,IAAK,MAAOC,OAAQ,SACxD,OAAOnB,EAAgB,OAAQiB,IAP/BG,QAWJ,SAAiBC,GACb,OAAOrB,EAAA,eAAwBqB,GAAUA,IAXzCC,OAmCJ,SAAgBD,GACZ,OAAOrB,EAAA,eAA2BqB,KAnClCE,KAqCJ,SAAc7E,GACV,GAAIA,EAAKM,IACL,OAAOgD,EAAA,eAAwBtD,EAAKM,KAAON,IAtC/C8E,UA4CJ,SAAmBC,EAAQJ,EAAQK,GAC/B,OAAO1B,EAAgB,cAAe,CAACyB,SAAQJ,SAAQK,aCrDpD,SAASC,EAAUV,GACtB,8CAAO,WAAMW,GAAN,eAAAxB,EAAA,sEAECwB,EAAS,CAAErC,KAAM,kBAFlB,SAGqBwB,EAAYC,SAASC,GAH1C,OAGO3D,EAHP,OAICsE,EAAS,CAAErC,KAAM,YAAajC,UAJ/B,gDAMCkD,QAAQC,IAAI,gCAAZ,MAND,yBAQCmB,EAAS,CAAErC,KAAM,iBARlB,4EAAP,sD,ICIEsC,E,4MACJxE,MAAQ,G,uDAGR,WACE3E,KAAKe,MAAMkI,c,oBAKb,WACE,IACQrE,EAAU5E,KAAKe,MAAf6D,MACR,OAAKA,EAEH,sBAAK3F,UAAU,aAAf,UACE,qBAAKA,UAAU,cAAf,SACE,qBAAKA,UAAU,gBAAgBsF,IANtB,8FAMmCC,IAAI,aAElD,qBAAKvF,UAAU,mBAEf,cAAC,EAAD,CAAY2F,MAAOA,EAAOnD,YAAaA,EAAaoF,KAAM,SAC1D,cAAC,EAAD,CAAYjC,MAAOA,EAAOiC,KAAM,UAChC,cAAC,EAAD,CAAYjC,MAAOA,EAAOL,IAAK,GAAIsC,KAAM,aAV1B,cAAC7H,EAAD,Q,GAbH+G,aA4CpB,IAAMqD,EAAqB,CACzBH,aAGWI,EAAOC,aAZpB,SAAyB3E,GACvB,MAAO,CACL4E,UAAW5E,EAAM6E,aAAaD,UAC9B3E,MAAOD,EAAM8E,WAAW7E,SASiBwE,EAAzBE,CAA6CH,G,iCC9CpDO,EASb,WACE,IAAIC,EAAS,KACPD,EAAgB,CACdE,MADc,WACL,OAAD,wGACRD,EADQ,iEAENrC,EAAgB,iBAFV,OAGZqC,EAASE,IAhB0C,GAgB9B,CAAEC,cAAc,KACrB,EAJJ,8CAMRC,GAPc,SAOXC,EAAWC,GAAK,OAAD,uGACjBN,EADiB,gCACHD,EAAcE,QADX,OAEtBD,EAAOI,GAAGC,EAAWC,GAFC,8CAIlBC,IAXc,SAWVF,GAAqB,IAAD,gIAATC,EAAS,+BAAN,KACjBN,EADuB,gCACTD,EAAcE,QADL,OAEvBK,EACAN,EAAOO,IAAIF,EAAWC,GADlBN,EAAOQ,mBAAmBH,GAFP,8CAKxBI,KAhBc,SAgBTJ,EAAWxC,GAAO,OAAD,uGACrBmC,EADqB,gCACPD,EAAcE,QADP,OAE1BD,EAAOS,KAAKJ,EAAWxC,GAFG,8CAI5B6C,UApBoB,WAqBlBV,EAAS,MACO,IAGpB,OAAOD,EApCoBY,GAG7BnC,OAAOuB,cAAgBA,EAsEvB,SAASO,EAAGM,GAAIzC,QAAQC,IAAIwC,GAC5Bb,EAAcK,GAAG,OAAQE,GACzBP,EAAcK,GAAG,OAAQE,GACzBP,EAAcK,GAAG,OAAQE,GACzBP,EAAcU,KAAK,OAAQ,QCtFpB,ICKMI,EAAc,CACvBC,M,6CACAC,O,4CACAC,O,6CACAC,SAYJ,WAEI,OAAOtD,EAAA,SAbPoB,QAgBJ,SAAiBmC,GAEb,OAAOvD,EAAA,eAAwBuD,KAjB/BjC,OAmBJ,SAAgBiC,GAEZ,OAAOvD,EAAA,eAA2BuD,KApBlCC,O,4CACAC,gBAqDJ,WACI,OAAOC,KAAKC,MAAMC,eAAeC,QAAQ,mB,4CAhC7C,WAAsBC,GAAtB,SAAA1D,EAAA,sEAEiBJ,EAAA,eAAwB8D,EAAK9G,KAAO8G,GAFrD,OAEIA,EAFJ,mD,oEAQA,WAAqBC,GAArB,eAAA3D,EAAA,sEAMuBJ,EAAiB,aAAc+D,GANtD,YAMUD,EANV,iDAOqBE,GAAeF,IAPpC,4C,oEASA,WAAsBC,GAAtB,eAAA3D,EAAA,sEAEuBJ,EAAiB,cAAe+D,GAFvD,cAEUD,EAFV,yBAGWE,GAAeF,IAH1B,4C,oEAKA,sBAAA1D,EAAA,6DACIwD,eAAeK,QADnB,SAEiBjE,EAAiB,eAFlC,oF,sBAIA,SAASgE,GAAeF,GAEpB,OADAF,eAAeM,QAAQ,eAAgBR,KAAKS,UAAUL,IAC/CA,EC1DJ,SAASM,KACd,8CAAO,WAAMxC,GAAN,eAAAxB,EAAA,sEAEHwB,EAAS,CAAErC,KAAM,kBAFd,SAGiB2D,EAAYI,WAH7B,OAGGe,EAHH,OAIHzC,EAAS,CAAErC,KAAM,YAAa8E,UAJ3B,gDAMH7D,QAAQC,IAAI,gCAAZ,MANG,yBAQHmB,EAAS,CAAErC,KAAM,iBARd,4EAAP,sDA8CK,SAAS6D,KACd,8CAAO,WAAMxB,GAAN,SAAAxB,EAAA,+EAEG8C,EAAYE,SAFf,OAGHxB,EAAS,CAAErC,KAAM,WAAYuE,KAAM,OAHhC,+CAKHtD,QAAQC,IAAI,6BAAZ,MALG,wDAAP,sDAUK,SAAS6D,GAAQC,GACtB,OAAO,SAAA3C,GACLA,EAAS,CAAErC,KAAM,UAAWgF,SDjDhC1D,OAAOqC,YAAcA,E,IEHfsB,G,4MACJnH,MAAQ,CACNkH,IAAK,GACLE,UAAW,CACTC,SAAU,GACVC,SAAU,IAEZC,WAAY,CACVF,SAAU,GACVC,SAAU,GACVE,SAAU,IAEZC,SAAS,G,EAOXC,kBAAoB,SAAAC,GAClB,MAAwBA,EAAGhN,OAAnBiN,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MACd,EAAKtH,UAAS,SAAAuH,GAAS,MAAK,CAC1BV,UAAU,2BACLU,EAAUV,WADN,kBAENQ,EAAOC,S,EAKdE,mBAAqB,SAAAJ,GACnB,MAAwBA,EAAGhN,OAAnBiN,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MACd,EAAKtH,UAAS,SAAAuH,GAAS,MAAK,CAC1BP,WAAW,2BACNO,EAAUP,YADL,kBAEPK,EAAOC,S,EAKdG,Q,uCAAU,WAAML,GAAN,qBAAA5E,EAAA,yDACR4E,EAAGM,iBADK,EAEuB,EAAKjI,MAAMoH,UAAlCC,EAFA,EAEAA,SAAUC,EAFV,EAEUA,SACbD,EAHG,yCAIC,EAAK9G,SAAS,CAAE2G,IAAK,gCAJtB,cAMFgB,EAAY,CAAEb,WAAUC,YANtB,kBAQA,EAAKlL,MAAM0J,MAAMoC,GARjB,OASNnD,EAAcU,KAAK,QAAS,EAAKrJ,MAAM+L,cACvC,EAAK/L,MAAMgM,QAAQtJ,KAAnB,KAVM,kDAYN,EAAKyB,SAAS,CAAE2G,IAAK,6BAZf,0D,wDAgBVmB,S,uCAAW,WAAMV,GAAN,uBAAA5E,EAAA,yDACT4E,EAAGM,iBADM,EAEgC,EAAKjI,MAAMuH,WAA5CF,EAFC,EAEDA,SAAUC,EAFT,EAESA,SAAUE,EAFnB,EAEmBA,SACvBH,GAAaC,GAAaE,EAHtB,yCAIA,EAAKjH,SAAS,CAAE2G,IAAK,6BAJrB,uBAODoB,EAAc,CAAEjB,WAAUC,WAAUE,YAPnC,SAQD,EAAKpL,MAAM4J,OAAOsC,GARjB,OASP,EAAKlM,MAAMgM,QAAQtJ,KAAnB,KATO,kDAWP,EAAKyB,SAAS,CAAE2G,IAAK,8BAXd,0D,wDAcXqB,kBAAoB,WAChB,IAAQd,EAAY,EAAKzH,MAAjByH,QACR,EAAKlH,SAAS,CAAEkH,SAAUA,K,EAE5Be,WAAa,SAAAtC,GACX,EAAK9J,MAAMoM,WAAWtC,I,uDA3D1B,c,oBA6DE,WACE,GAAI7K,KAAKe,MAAM+L,aAAc,OAAO,KACpC,IAAIM,EACF,qBAAKnO,UAAU,kBAAf,SACE,uBAAMA,UAAU,wCAAwCoO,SAAUrN,KAAKgN,SAAvE,UACE,wCACA,wBAAO/N,UAAU,cAAjB,sBACF,uBACM4H,KAAK,OACL0F,KAAK,WACLC,MAAOxM,KAAK2E,MAAMuH,WAAWC,SAC7BmB,SAAUtN,KAAK0M,mBAEfa,aAAa,gBAIjB,wBAAOtO,UAAU,cAAjB,qBACJ,uBACQ4H,KAAK,OACL0F,KAAK,WACLC,MAAOxM,KAAK2E,MAAMuH,WAAWF,SAC7BsB,SAAUtN,KAAK0M,mBAEfa,aAAa,gBAGjB,wBAAOtO,UAAU,gBAAjB,qBACJ,uBACQA,UAAU,QACVsN,KAAK,WACL1F,KAAK,WACL2F,MAAOxM,KAAK2E,MAAMuH,WAAWD,SAC7BqB,SAAUtN,KAAK0M,mBAEfa,aAAa,qBAEf,wBAAQtO,UAAU,WAAlB,4BAKJuO,EACF,qBAAKvO,UAAU,kBAAf,SACE,uBAAMA,UAAU,wCAAwCoO,SAAUrN,KAAK2M,QAAvE,UACE,mBAAG1N,UAAU,cAAb,sBACA,wBAAOA,UAAU,cAAjB,mCACF,uBACM4H,KAAK,OACL0F,KAAK,WACLC,MAAOxM,KAAK2E,MAAMoH,UAAUC,SAC5BsB,SAAUtN,KAAKqM,uBAKnB,wBAAOpN,UAAU,cAAjB,qBACF,uBACM4H,KAAK,WACL0F,KAAK,WACLC,MAAOxM,KAAK2E,MAAMoH,UAAUE,SAC5BqB,SAAUtN,KAAKqM,uBAInB,wBAAQpN,UAAU,mBAAlB,qBACA,2DAKEmN,EAAYpM,KAAK2E,MAAjByH,QAER,OACE,sBAAKnN,UAAU,uDAAf,UACA,sBAAKA,UAAU,OAAf,UACGmN,GAAWoB,GACVpB,GAAWgB,MAEbhB,GAAW,wBAAQnN,UAAU,WAC7B0G,QAAS3F,KAAKkN,kBADH,2BAIZd,GAAW,sBAAKnN,UAAU,sEAAf,UACV,sBAAKA,UAAU,yCAAf,UACE,wFACA,cAAC,IAAD,CAAMoF,GAAG,SAAT,2BAGF,sBAAKpF,UAAU,6BAAf,UACE,sCAAQ,wCAAR,QAA8B,wCAA9B,eACA,wBAAQA,UAAU,WAChB0G,QAAS3F,KAAKkN,kBADhB,yC,GAvKSnH,aAyLbqD,GAAqB,CACzBqB,MDxKG,SAAeoC,GACpB,8CAAO,WAAM3D,GAAN,eAAAxB,EAAA,+EAEgB8C,EAAYC,MAAMoC,GAFlC,OAEGzB,EAFH,OAGHlC,EAAS,CAAErC,KAAM,WAAYuE,SAH1B,sDAKHtD,QAAQC,IAAI,4BAAZ,MALG,8DAAP,uDCwKE2C,UACAC,OD/JG,SAAgBkC,GACrB,8CAAO,WAAM3D,GAAN,eAAAxB,EAAA,+EAEgB8C,EAAYG,OAAOkC,GAFnC,OAEGzB,EAFH,OAGHlC,EAAS,CAAErC,KAAM,WAAYuE,SAH1B,gDAKHtD,QAAQC,IAAI,6BAAZ,MALG,yDAAP,uDC+JEoF,WDvLG,SAAoBtC,GACzB,8CAAO,WAAM3B,GAAN,SAAAxB,EAAA,+EAEG8C,EAAY5B,OAAOiC,GAFtB,OAGH3B,EAAS,CAAErC,KAAM,cAAegE,WAH7B,+CAKH/C,QAAQC,IAAI,iCAAZ,MALG,wDAAP,uDCuLE2D,cAGW+B,GAAQnE,aAfG,SAAA3E,GACtB,MAAO,CACLgH,MAAOhH,EAAM+I,WAAW/B,MACxBmB,aAAcnI,EAAM+I,WAAWZ,gBAYW1D,GAAzBE,CAA6CwC,I,cC5M7D,SAAS6B,GAAT,GAAyB,IAAP9B,EAAM,EAANA,IACrB,OACI,qBAAK5M,UAAU,WAAf,SACQ,4BAAI4M,M,ICEd+B,G,4MACFjJ,MAAQ,CACJkJ,UAAU,EACVrG,KAAM,I,EAwBVsG,eAAiB,WACb,IAAQD,EAAa,EAAKlJ,MAAlBkJ,SACR,EAAK3I,SAAS,CAAE2I,UAAWA,K,EAG/BE,QAAU,WACN,EAAK7I,SAAS,CAACsC,KAAK,M,EAGxBwG,UAAY,+C,EAEZC,S,sBAAW,sBAAAvG,EAAA,+EAEG,EAAK3G,MAAM2J,SAFd,sDAIH5C,QAAQC,IAAI,MAAZ,MAJG,wD,wDA5BX,SAAmBmG,EAAWzB,GACtByB,EAAUrC,KACW,sBAAlBqC,EAAUrC,KACb7L,KAAKmO,WAAWD,EAAUrC,O,wBAIlC,SAAWA,GACP,IAAMrE,EACN,CACI,OAAUqE,EACV,UAAahJ,KAAKuL,OAEtBpO,KAAKkF,SAAS,CAAEsC,KAAK,GAAD,mBAAMxH,KAAK2E,MAAM6C,MAAjB,CAAuBA,Q,oBAuB/C,WAAU,IAAD,OACEA,EAAQxH,KAAK2E,MAAb6C,KAECsF,EAAiB9M,KAAKe,MAAtB+L,aACR,OAAO,yBAAQ7N,UAAS,cAAjB,UACFe,KAAKe,MAAM8K,KAAO,cAAC8B,GAAD,CAAS9B,IAAK7L,KAAKe,MAAM8K,MAC5C,sBAAK5M,UAAS,oBAAee,KAAKgO,WAAlC,UAEI,cAAC,IAAD,CAAM3J,GAAG,IAAT,SAAa,qBAAKE,IANb,0GAMwBtF,UAAU,WAAWuF,IAAI,OAEtD,sBAAKvF,UAAS,UAAKe,KAAKgO,UAAV,aAAwBhO,KAAK2E,MAAMkJ,UAAY,QAA7D,UACI,sBAAK5O,UAAU,iBAAf,UACI,cAAC,IAAD,CAASoP,OAAK,EAAChK,GAAG,IAAlB,kBACA,cAAC,IAAD,CAASA,GAAG,QAAZ,qBACA,cAAC,IAAD,CAASgK,OAAK,EAAChK,GAAG,SAAlB,uBACEyI,GAAgB,cAAC,IAAD,CAAM7N,UAAU,YAAYoF,GAAG,SAA/B,sBAGrByI,GAAgB,qBAAK7N,UAAU,gBAI/B6N,GAAgB,sBAAK7N,UAAU,4BAAf,UACb,sBAAKA,UAAU,qBAAf,UACI,cAAC,KAAD,CACIuI,KAAMA,EACN8G,WAAW,cACXC,YAAY,YACZC,cAAc,SACdC,QAAQ,sBACRC,aAAa,EACbC,UAAU,EACVC,KAAM,GACNC,MAAM,UACNC,aAAc,kBAAM,EAAKf,aAE7B,qBAAKpI,QAAS,kBAAM,EAAKmI,kBAAkBvJ,IAAKuI,EAAaiC,OAAQvK,IAAI,QAG7E,qBAAKmB,QAAS,kBAAM,EAAKmI,kBAAkB7O,UAAS,oBAAee,KAAK2E,MAAMkJ,UAAY,eAA1F,SACI,sBAAK5O,UAAU,YAAf,UACI,cAAC,IAAD,CAAMoF,GAAG,WAAT,qBACCyI,GAAgB,oBAAGnH,QAAS3F,KAAKe,MAAM2J,OAAvB,oBACpB,uBAAMzL,UAAU,oBAAhB,cAAsC6N,EAAad,eAChD,yCACA,oDAMhB,qBAAKrG,QAAS,kBAAM,EAAKmI,kBACrB7O,UAAS,iBAAYe,KAAK2E,MAAMkJ,UAAY,mBAEhD,wBAAQ5O,UAAU,YAAY0G,QAAS,kBAAM,EAAKmI,kBAAlD,8B,GApGM/H,aA+GhBqD,GAAqB,CACvBsB,WAISsE,GAAS1F,aAVE,SAAA3E,GACpB,MAAO,CACHmI,aAAcnI,EAAM+I,WAAWZ,gBAQQ1D,GAAzBE,CAA6CsE,ICxH5D,SAASqB,GAAT,GAAgC,IAATjL,EAAQ,EAARA,KACpBkL,EAAalL,EAAKE,KAAKC,aAAa,GACpCC,EAAaJ,EAAKH,MAASG,EAAKH,OAASG,EAAKF,SAAS,KACvDqL,EAAS1N,EAAY4B,YAAYW,EAAKmL,QAE5C,OACQ,cAAC,IAAD,CAAM9K,GAAE,gBAAWL,EAAKM,KAAxB,SACI,sBAAKrF,UAAU,aAAf,UACI,qBAAKA,UAAU,mBAAf,SACI,qBAAKsF,IAAK2K,EAAY1K,IAAI,mBAAmBvF,UAAU,kBAE3D,sBAAKA,UAAU,YAAf,UACI,sBAAKA,UAAU,gBAAf,UACI,qBAAIA,UAAU,cAAd,qBAAqC+E,EAAKoL,OAAOjD,YACjD,sBAAKlN,UAAU,4BAAf,UACK+E,EAAKmL,OAAO,EAAG,8BAAIA,EAAJ,eAAiBnL,EAAKqL,QAAQ5P,OAA9B,QAA8C,YAC9D,4BAAI0P,EAAO1P,OAAS,EAAhB,YAAkC,QAE1C,6BAAKuE,EAAKnD,QACV,mBAAG5B,UAAU,oBAAb,SAAkC+E,EAAKsL,kBAG3C,sBAAKrQ,UAAU,gBAAf,UACI,6BAAK+E,EAAKuL,KAAKhK,KAAI,SAACiD,EAAKlD,GAAN,OAAc,uBAAMrG,UAAU,cAAhB,UAAyCuJ,EAAzC,OAAmClD,MAAqBkK,MAAM,EAAG,KAClG,mBAAGvQ,UAAU,WAAb,SAAyB+E,EAAKF,SAAL,UAAkBE,EAAKF,SAAvB,KAAqC,KAC9D,sBAAK7E,UAAU,cAAf,UACI,oBAAGA,UAAY+E,EAAKF,SAAS,EAAI,UAAU,UAA3C,cAAyDE,EAAKH,MAAMY,QAAQ,MAC3ET,EAAKF,SAAW,oBAAG7E,UAAU,UAAb,cAA0BmF,EAAWK,QAAQ,MAAU,iBC3BjG,SAASgL,GAAT,GAA8B,IAAV7K,EAAS,EAATA,MACvB,OAEI,aADA,CACA,OAAK3F,UAAU,qCAAf,SACK2F,EAAMW,KAAI,SAAAvB,GAAI,OAAI,cAACiL,GAAD,CAA4BjL,KAAMA,GAAhBA,EAAKM,UCN/C,I,GAAMoL,GAAb,4MACI/K,MAAQ,CACJ4D,SAAU,CACNhG,IAAK,GACLiG,IAAK,MACLC,OAAQ,UALpB,EASIkH,aAAe,YAAiB,IAAdrQ,EAAa,EAAbA,OACRkN,EAAuBlN,EAAvBkN,MAAaoD,EAAUtQ,EAAhBiN,KACLhE,EAAa,EAAK5D,MAAlB4D,SACR,EAAKrD,SAAS,CAAEqD,SAAS,2BAAMA,GAAP,kBAAkBqH,EAAQpD,MAAW,WACzD,EAAKzL,MAAM8O,YAAY,EAAKlL,MAAM4D,cAb9C,4CAiBI,WACI,IAAQhG,EAAQvC,KAAK2E,MAAM4D,SAAnBhG,IACR,OACI,yBAAStD,UAAU,oBAAnB,SACI,sBAAKA,UAAU,kCAAf,UACI,uBAAOA,UAAU,cAAcsO,aAAa,MACxC1G,KAAK,OAAO0F,KAAK,MAAMC,MAAOjK,EAC9BuN,YAAY,gBAAgBxC,SAAUtN,KAAK2P,eAC/C,yBAAQ1Q,UAAU,kBAAkBsN,KAAK,MAAMe,SAAUtN,KAAK2P,aAA9D,UACI,wBAAQnD,MAAM,MAAd,iBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,MAAd,iBACA,wBAAQA,MAAM,WAAd,sBACA,wBAAQA,MAAM,WAAd,sBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,aAAd,wBACA,wBAAQA,MAAM,UAAd,qBACA,wBAAQA,MAAM,UAAd,qBACA,wBAAQA,MAAM,cAAd,yBACA,wBAAQA,MAAM,YAAd,0BAEJ,yBAAQvN,UAAU,mBAAmBsN,KAAK,SAASe,SAAUtN,KAAK2P,aAAlE,UACI,wBAAQnD,MAAM,QAAd,mBACA,wBAAQA,MAAM,SAAd,yBACA,wBAAQA,MAAM,SAAd,uBACA,wBAAQA,MAAM,SAAd,mCA1CxB,GAAgCzG,a,yBCCjBgK,EAAOC,IAAtB,2N,ICMMC,G,4MAYFJ,YAAc,SAACtH,GACX,EAAKxH,MAAMkI,UAAUV,I,uDAXzB,WACI,IAAM2H,EAAelQ,KAAKe,MAAMqH,SAAS+H,OACnCC,EAAe,IAAIC,gBAAgBH,GAAcI,IAAI,OAC3D,GAAIF,EAAc,CACd,IAAM7H,EAAW,CAAEC,IAAK4H,GACxBpQ,KAAKe,MAAMkI,UAAUV,QAErBvI,KAAKe,MAAMkI,c,oBAOnB,WACI,IAAQrE,EAAU5E,KAAKe,MAAf6D,MAER,OACI,0BAAS3F,UAAU,gBAAnB,UACI,qBAAKA,UAAU,eAAesF,IAHhB,8FAGoCC,IAAI,KAEtD,cAAC,GAAD,CAAYqL,YAAa7P,KAAK6P,cAC9B,cAACJ,GAAD,CAAU7K,MAAOA,W,GAxBVmB,aAoCjBqD,GAAqB,CACvBH,aAGSsH,GAAUjH,aAXC,SAAA3E,GACpB,MAAO,CACH4E,UAAW5E,EAAM6E,aAAaD,UAC9B3E,MAAOD,EAAM8E,WAAW7E,MACxBkI,aAAcnI,EAAM+I,WAAWZ,gBAOS1D,GAAzBE,CAA6C2G,IC9C7D,SAASO,GAAT,GAAoD,IAAlClN,EAAiC,EAAjCA,KAAMqM,EAA2B,EAA3BA,aAAcc,EAAa,EAAbA,UAC3C,SAASC,EAAepE,GACjBmE,GAAWd,EAAarD,GAE/B,OACE,sBAAKrN,UAAU,sBAAf,UACE,uBAAO0R,QAAQ,SAAS1R,UAAWqE,GAAQ,EAAI,cAAgB,GAA/D,SACE,cAAC,EAAD,MAEF,uBAAOuD,KAAK,QAAQ0F,KAAK,OAAOlL,GAAG,SAASmL,MAAO,EAAGc,SAAUoD,EAAgBE,QAAM,IACtF,uBAAOD,QAAQ,SAAS1R,UAAWqE,GAAQ,EAAI,cAAgB,GAA/D,SACE,cAAC,EAAD,MAEF,uBAAOuD,KAAK,QAAQ0F,KAAK,OAAOlL,GAAG,SAASmL,MAAO,EAAGc,SAAUoD,EAAgBE,QAAM,IACtF,uBAAOD,QAAQ,SAAS1R,UAAWqE,GAAQ,EAAI,cAAgB,GAA/D,SACE,cAAC,EAAD,MAEF,uBAAOuD,KAAK,QAAQ0F,KAAK,OAAOlL,GAAG,SAASmL,MAAO,EAAGc,SAAUoD,EAAgBE,QAAM,IACtF,uBAAOD,QAAQ,SAAS1R,UAAWqE,GAAQ,EAAI,cAAgB,GAA/D,SACE,cAAC,EAAD,MAEF,uBAAOuD,KAAK,QAAQ0F,KAAK,OAAOlL,GAAG,SAASmL,MAAO,EAAGc,SAAUoD,EAAgBE,QAAM,IACtF,uBAAOD,QAAQ,SAAS1R,UAAoB,IAATqE,EAAa,cAAgB,GAAhE,SACE,cAAC,EAAD,MAEF,uBAAOuD,KAAK,QAAQ0F,KAAK,OAAOlL,GAAG,SAASmL,MAAO,EAAGc,SAAUoD,EAAgBE,QAAM,O,cCpBrF,IAAMC,GAAb,4MACIlM,MAAQ,CACJoE,OAAQ,CACJzF,KAAM,KACNf,IAAK,KAJjB,EAQIuO,aAAe,SAACxE,GACZA,EAAGM,kBATX,EAWI+C,aAAe,YAAiB,IAAdrQ,EAAa,EAAbA,OACRsQ,EAAQtQ,EAAOiN,KACfC,EAAwB,UAAhBlN,EAAOuH,MAAoBvH,EAAOkN,MAAQlN,EAAOkN,MAC/D,EAAKtH,UAAS,SAAAuH,GAAS,MAAK,CACxB1D,OAAO,2BACA0D,EAAU1D,QADX,kBAED6G,EAAQpD,SAjBzB,EAqBIa,SArBJ,uCAqBe,WAAOf,GAAP,eAAA5E,EAAA,yDACP4E,EAAGM,oBACK7D,EAAW,EAAKpE,MAAhBoE,QACGzF,KAAO,GAHX,uBAIH,EAAKvC,MAAM6K,QAAQ,sBACnB9J,YAAW,WACP,EAAKf,MAAM6K,QAAQ,MAClB,KAPF,0CAUD,EAAK7K,MAAMgQ,YAAYhI,GAVtB,OAWP,EAAK7D,SAAS,CAAC6D,OAAQ,CACnBzF,KAAM,KACNf,IAAK,MAbF,2CArBf,kGAsCI,WACI,MAAsBvC,KAAK2E,MAAMoE,OAAzBzF,EAAR,EAAQA,KAAMf,EAAd,EAAcA,IACNuK,EAAiB9M,KAAKe,MAAtB+L,aACR,OACI,qBAAK7N,UAAU,kBAAf,SACI,uBAAMoO,SAAWP,EAAsB9M,KAAKqN,SAAZ,KAAhC,UACI,iDACA,6BAAKP,GAAgBA,EAAaX,WAClC,cAACqE,GAAD,CAAQlN,KAAMA,EAAMqM,aAAc3P,KAAK2P,eACvC,qBAAK1Q,UAAU,iBAAf,SACA,0BAAUmC,IAAKpB,KAAKgR,UAAWzE,KAAK,MAAMC,MAAOjK,EAAKlB,GAAG,GAAG4P,KAAK,KAAKC,KAAK,KAAK5D,SAAUtN,KAAK2P,iBAE/F,sBAAK1Q,UAAU,aAAf,UACK6N,GAAgB,wBAAS7N,UAAU,iBAAnB,mBACf6N,GAAgB,wBAAS7N,UAAU,mBAAnB,SAAsC,cAAC,IAAD,CAAMoF,GAAG,SAAT,mCApDhF,GAA+B0B,aCLxB,SAASoL,GAAT,GAAoC,IAAXpI,EAAU,EAAVA,OACtBqC,EAAOrC,EAAOC,OACdoI,EAAY,IAAIvO,KAAKkG,EAAOqI,WAAWzN,mBAAmB,QAAS,CAAEb,KAAM,UAAWE,MAAO,OAAQE,IAAK,YAC1GmO,EAAUjG,EAAK2D,OACrB,OACI,sBAAK9P,UAAU,iBAAf,UACI,sBAAKA,UAAU,sBAAf,UACI,qBAAKsF,IAAK8M,EAAS7M,IAAI,aACvB,6BAAK4G,EAAKe,cAEd,sBAAKlN,UAAU,sBAAf,UACKwC,EAAY4B,YAAY0F,EAAOzF,MAChC,yCAAY8N,KACZ,mBAAGnS,UAAU,aAAb,SAA2B8J,EAAOxG,YCb3C,SAAS+O,GAAT,GAAmC,IAAbjC,EAAY,EAAZA,QACzB,OACI,qBAAKpQ,UAAU,cAAf,SACKoQ,EAAQ9J,KAAI,SAAAwD,GAAM,OAAI,cAACoI,GAAD,CAAepI,OAAQA,GAAaA,EAAO1H,GAAKa,KAAKG,eCFjF,IAAMkP,GAAe,CACxBC,UAQJ,WAAoC,IAAjBjJ,EAAgB,uDAAL,GAC1B,OAAOjB,EAAgB,QAASiB,IARhCG,QAYJ,SAAiB+I,GACb,OAAOnK,EAAA,gBAAyBmK,GAAWA,IAX3C5I,KAcJ,SAAc6I,EAAOC,GAQjB,OAAOrK,EAAA,QAJU,CACboK,QACAC,WAnBJC,iB,8FAyBJ,WAAgCjJ,EAAQkC,GAAxC,eAAAnD,EAAA,sEAEuB8C,EAAY9B,QAAQmC,GAF3C,cAEUO,EAFV,yBAGWA,EAAKyG,OAAOC,MAAK,SAAAJ,GAAK,OAAIA,EAAM1N,KAAKM,MAAQqE,MAHxD,4C,sBChCO,SAASoJ,GAAT,GAAwD,IAA9BjF,EAA6B,EAA7BA,aAAckF,EAAe,EAAfA,YAC3C,OACI,sBAAK/S,UAAU,UAAf,UACI,6BAAM6N,GAAgBkF,EAAe,wBAA0B,mCAC/D,4BAAKlF,GAAgBkF,EAAe,+DAAhC,4JAIJ,iCACMlF,GAAgB,cAAC,IAAD,CAAMzI,GAAG,SAAT,qBACjByI,GAAgB,mBAAG7N,UAAU,iBAAb,gCCT1B,SAASgT,GAAT,GAA6D,IAAlCD,EAAiC,EAAjCA,YAAahO,EAAoB,EAApBA,KAAMI,EAAc,EAAdA,WACzCE,EAAgCN,EAAhCM,IAAKR,EAA2BE,EAA3BF,SAAUjD,EAAiBmD,EAAjBnD,MAAOgD,EAAUG,EAAVH,MAE9B,OACI,sBAAK5E,UAAU,4BAAf,UACI,gCACI,gCAAM+S,GAAe,uCAArB,IAAwCnR,KACvCiD,EAAW,IAAM,6DAA+B,mDAGrD,qBAAK7E,UAAU,gBAAf,SACI,sBAAKA,UAAU,mBAAf,WACM+S,GAAe,qBAAKpB,QAAS9M,EAAd,SACb,mBAAG7E,UAAU,YAAb,SAA0B6E,EAAQ,UAAMA,EAAN,KAAoB,QAGxDkO,GAAe,sBAAK/S,UAAU,4DAAf,UACb,oBAAGA,UAAY6E,EAAW,EAAK,UAAY,UAA3C,cAAyDD,EAAMY,QAAQ,MACtEX,EAAW,oBAAG7E,UAAU,UAAb,cAA0BmF,EAAWK,QAAQ,MAAU,MAGtEuN,GAAe,cAAC,IAAD,CAAM/S,UAAU,kBAAkBoF,GAAG,WAArC,0BACd2N,GAAe,cAAC,IAAD,CAAM3N,GAAE,sBAAiBC,GAAzB,SACb,wBAAQrF,UAAU,WAAlB,mCCvBjB,SAASiT,GAAT,GAAsC,IAAjBrR,EAAgB,EAAhBA,MAAO2L,EAAS,EAATA,MAC/B,OACI,sBAAKvN,UAAU,OAAf,UACI,oBAAGA,UAAU,WAAb,UAAyB4B,EAAzB,QACA,mBAAG5B,UAAU,YAAb,SAA0BuN,OCH/B,SAAS2F,GAAT,GAAgD,IAAxBnO,EAAuB,EAAvBA,KAAMN,EAAiB,EAAjBA,cACzBQ,EAA2DF,EAA3DE,KAAMwC,EAAqD1C,EAArD0C,UAAW0L,EAA0CpO,EAA1CoO,YAAa1M,EAA6B1B,EAA7B0B,WAAY0J,EAAiBpL,EAAjBoL,OAAQG,EAASvL,EAATuL,KAEpD8C,EAAUnO,EAAKC,aACrB,OACI,sBAAKlF,UAAU,+CAAf,UACI,qBAAKA,UAAU,kBAAf,SACI,sBAAKA,UAAU,yCAAf,UACI,cAACgH,EAAD,CAAOC,IAAKQ,EAAU,KAEtB,qBAAKzH,UAAU,iBAAf,SACKoT,EAAQ9M,KAAI,SAACC,EAAKF,GACf,KAAIA,GAAO,GACX,OAAO,oCAAuB,qBAAKf,IAAK8N,EAAQ/M,EAAI,GAAId,IAAI,OAA3C,IAAMc,aAKvC,sBAAKrG,UAAU,sBAAf,UACI,gCACI,qBAAKA,UAAU,QAAQsF,IAAK8N,EAAQ,GAAI7N,IAAI,KAC5C,mBAAG8N,UAAU,KAAKrT,UAAU,SAA5B,SAAsCmT,OAE1C,gCACI,cAACF,GAAD,CAAWrR,MAAM,eAAe2L,MAAO9I,EAAcgC,KACrD,cAACwM,GAAD,CAAWrR,MAAM,SAAS2L,MAAO4C,EAAOjD,WAGxC,sBAAKlN,UAAU,uBAAf,UACI,mBAAGA,UAAU,kBAAb,0DACA,qBAAKA,UAAU,2CAAf,SACKsQ,EAAKhK,KAAI,SAACiD,EAAKlD,GAAN,OAAc,eAAC,IAAD,CAAMrG,UAAU,cAAcoF,GAAE,oBAAemE,GAA/C,UAAiEA,EAAjE,MAA2DlD,MAAoBkK,MAAM,EAAG,iBCjCrI,SAAS+C,GAAT,GAAkC,IAATvO,EAAQ,EAARA,KACpBuL,EAAgBvL,EAAhBuL,KAAM1O,EAAUmD,EAAVnD,MACd,OACI,sBAAK5B,UAAU,yBAAf,UACI,cAAC,IAAD,CAAMoF,GAAE,QAAR,yBADJ,IAC4C,IACxC,eAAC,IAAD,CAAMpF,UAAU,UAAUoF,GAAE,gBAAWkL,EAAK,IAA5C,UAAoDA,EAAK,GAAK,KAA9D,QACA,cAAC,IAAD,CAAMlL,GAAE,gBAAWxD,GAAnB,SAA8BA,O,ICPtC,GCkBE2R,G,4MACF7N,MAAQ,CACJX,KAAM,KACNgO,aAAa,G,EAqBjBS,a,uCAAe,WAAO9J,GAAP,SAAAjB,EAAA,sEACL,EAAK3G,MAAM2R,WAAW/J,GADjB,OAEX,EAAK5H,MAAMgM,QAAQtJ,KAAK,UAFb,2C,wDAIfsN,Y,uCAAc,WAAOhI,GAAP,eAAArB,EAAA,6DACJ1D,EAAS,EAAKW,MAAdX,KADI,SAEJ,EAAKjD,MAAM+H,UAAUC,EAAQ/E,EAAKM,IAAK,EAAKvD,MAAM+L,cAF9C,OAGV,EAAK6F,WACL,EAAKzN,SAAS,CAAElB,SAJN,2C,oJAvBd,sBAAA0D,EAAA,sDACI1H,KAAKe,MAAM2K,YACX1L,KAAK2S,WAFT,gD,mHAKA,4BAAAjL,EAAA,sEACuBW,EAAYK,QAAQ1I,KAAKe,MAAM6R,MAAMhL,OAAOe,QADnE,OACU3E,EADV,OAEIhE,KAAKkF,SAAS,CAAElB,SACZhE,KAAKe,MAAM+L,cAAc9M,KAAK4R,mBAHtC,gD,2HAKA,gCAAAlK,EAAA,yDACS1H,KAAK2E,MAAMX,KADpB,wDAEU2E,EAAS3I,KAAK2E,MAAMX,KAAKM,IACzBuG,EAAS7K,KAAKe,MAAM+L,aAAaxI,IAH3C,SAK8BiN,GAAaK,iBAAiBjJ,EAAQkC,GALpE,OAKUmH,EALV,OAMIhS,KAAKkF,SAAS,CAAE8M,gBANpB,gD,2EAoBA,WACI,GAAIhS,KAAK2E,MAAMX,KAAM,CACjB,IACM6O,EADkB7S,KAAK2E,MAAMX,KAA3BoO,YACyBU,MAAM,KACnCC,EAAW,GACXtT,EAAS,EACTuT,EAAW,GASf,OARAH,EAAaI,SAAQ,SAACC,EAAM5N,GACxByN,GAAYG,EAAO,KACf5N,IAAQ7F,IACRA,GAAU,EACVuT,EAASvP,KAAKsP,GACdA,EAAW,OAGZC,K,oBAGf,WACI,MAAgChT,KAAKe,MAA7B4K,EAAR,EAAQA,MAAOmB,EAAf,EAAeA,aACf,EAA8B9M,KAAK2E,MAA3BX,EAAR,EAAQA,KAAMgO,EAAd,EAAcA,YACd,IAAKhO,EAAM,OAAO,cAAChF,EAAD,IAClB,IAAMoF,EAAa3C,EAAYmC,cAAcI,EAAKH,MAAOG,EAAKF,UACxD+O,EAAe7S,KAAKmT,UAC1B,OACI,0BAASlU,UAAU,gBAAnB,UACI,cAACsT,GAAD,CAAevO,KAAMA,IACrB,oBAAI/E,UAAU,YAAd,SAA4B+E,EAAKnD,QACjC,cAACsR,GAAD,CAAcnO,KAAMA,EAAMN,cAAejC,EAAYiC,gBAErD,sBAAKzE,UAAU,2BAAf,UACK6N,IAAiBkF,GAAe,wBAAQ/S,UAAU,sCAAlB,8BAC/B6N,GAAgB,8BAAG,cAAC,IAAD,CAAMzI,GAAI,SAAV,qBAAH,6EAGtB,sBAAKpF,UAAU,6CAAf,UACI,cAACgT,GAAD,CAAiBD,YAAaA,EAAahO,KAAMA,EAAMI,WAAYA,IACnE,cAAC2N,GAAD,CAAgBjF,aAAcA,EAAckF,YAAaA,OAG7D,qBAAK/S,UAAU,uBAAf,SAEI,sBAAKA,UAAU,OAAf,UACI,mBAAGA,UAAU,QAAb,6BAEC4T,EAAatN,KAAI,SAAC2N,EAAK5N,GACpB,OACI,gCACI,4BAAI4N,IACJ,yBAFM,OAAO5N,WAUjC,qBAAKrG,UAAU,uBAAf,SACI,cAAC,GAAD,CAAW6N,aAAcA,EAAciE,YAAa/Q,KAAK+Q,YAAanF,QAAS5L,KAAKe,MAAM6K,YAE9F,qBAAK3M,UAAU,+BAAf,SACI,cAACqS,GAAD,CAAYjC,QAASrL,EAAKqL,QAAS1D,MAAOA,EAAOmB,aAAcA,a,GAhGxD/G,aA+GrBqD,GAAqB,CACvBsC,aACAgH,WzB7FG,SAAoB/J,GACvB,8CAAO,WAAMO,GAAN,SAAAxB,EAAA,+EAEOW,EAAYO,OAAOD,GAF1B,OAGCO,EAAS,CAAErC,KAAM,cAAe8B,WAHjC,+CAKCb,QAAQC,IAAI,iCAAZ,MALD,wDAAP,uDyB6FAqL,SzBrHG,SAAkBpP,GACrB,8CAAO,WAAMkF,GAAN,iBAAAxB,EAAA,+EAIoBW,EAAYQ,KAAK7E,GAJrC,OAICqP,EAJD,OAKOC,EAAWtP,EAAKM,IAAgD,CAAEuC,KAAM,cAAe7C,KAAMqP,GAAtE,CAAExM,KAAM,WAAY7C,KAAMqP,GACvDnK,EAASoK,GANV,gDAQCxL,QAAQC,IAAI,gCAAZ,MARD,yDAAP,uDyBqHAe,UzBzGG,SAAmBC,EAAQJ,EAAQmE,GACtC,8CAAO,WAAM5D,GAAN,eAAAxB,EAAA,+EAEoBW,EAAYS,UAAUC,EAAQJ,EAAQmE,GAF1D,OAEO9I,EAFP,OAGCkF,EAAS,CAAErC,KAAM,cAAe7C,SAHjC,gDAKC8D,QAAQC,IAAI,iCAAZ,MALD,yDAAP,uDyByGA6D,YAES2H,GAAcjK,aAfH,SAAA3E,GACpB,MAAO,CACHgH,MAAOhH,EAAM+I,WAAW/B,MACxBmB,aAAcnI,EAAM+I,WAAWZ,gBAYa1D,GAAzBE,CAA6CkJ,ICxIjE,SAASgB,KAEZ,OACI,sBAAKvU,UAAU,QAAf,UACI,qBAAKA,UAAU,sBAAf,SAEI,sBAAKA,UAAU,cAAf,UACI,2CACA,wEAGR,4dASA,4ZAKA,6BAxBS,CAAC,aAAc,UAAW,OAAQ,mBAAoB,eAAgB,SAAU,SAAU,SAAU,UAAW,WAAY,WAyBtHsG,KAAI,SAACkO,EAASnO,GAAV,OAAkB,6BAAemO,GAANnO,WFxBzD,SAAS,KAA2Q,OAA9P,GAAWlG,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASoU,GAAW/S,EAAMC,GACxB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtD0F,OAAQ,QACRlF,QAAS,cACTiF,MAAO,QACPlF,MAAO,6BACPE,IAAKR,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DQ,GAAIP,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3EU,EAAG,yuCAIP,IG7BI,GAAOoS,GAAQC,GH6Bf,GAA0B,aAAiBF,IAChC,IG5Bf,SAAS,KAA2Q,OAA9P,GAAWtU,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASuU,GAAalT,EAAMC,GAC1B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtD0F,OAAQ,QACRlF,QAAS,cACTiF,MAAO,QACPlF,MAAO,6BACPE,IAAKR,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DQ,GAAIP,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3EU,EAAG,kGACAoS,KAAWA,GAAsB,gBAAoB,OAAQ,CAChEpS,EAAG,snDACAqS,KAAWA,GAAsB,gBAAoB,OAAQ,CAChErS,EAAG,80CAIP,ICjCI,GDiCA,GAA0B,aAAiBsS,IAChC,IChCf,SAAS,KAA2Q,OAA9P,GAAWzU,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,SAASwU,GAAYnT,EAAMC,GACzB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDU,GAAI,SACJ0S,iBAAkB,kBAClB1N,OAAQ,IACRlF,QAAS,cACTiF,MAAO,IACPlF,MAAO,6BACPE,IAAKR,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DQ,GAAIP,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3EU,EAAG,sRAIP,IAAI,GAA0B,aAAiBuS,IAChC,IC3BR,SAASE,KACd,OACE,yBAAQ/U,UAAU,2BAAlB,UACE,sBAAKA,UAAU,mDAAf,UACE,sBAAKA,UAAU,oBAAf,UACE,cAAC,GAAD,CAAYA,UAAU,SACtB,sBAAKA,UAAU,cAAf,UACE,mBAAGA,UAAU,aAAb,mBACA,mDAGJ,sBAAKA,UAAU,oBAAf,UACE,cAAC,GAAD,CAAWA,UAAU,SACrB,sBAAKA,UAAU,cAAf,UACE,mBAAGA,UAAU,aAAb,iBACA,mDAGJ,sBAAKA,UAAU,oBAAf,UACE,cAAC,GAAD,CAAUA,UAAU,SACpB,sBAAKA,UAAU,cAAf,UACE,mBAAGA,UAAU,aAAb,kBACA,kDAIN,qBAAKA,UAAU,cAAcsF,IA3BtB,0GA2BiCC,IAAI,KAC5C,iGC/BC,SAASyP,GAAT,GAA0D,IAAnCjQ,EAAkC,EAAlCA,KAAMkQ,EAA4B,EAA5BA,aAAcC,EAAc,EAAdA,WAExClQ,EAAUD,EAAKE,KAAKC,aAAa,GACjCC,EAAaJ,EAAKH,MAASG,EAAKH,OAASG,EAAKF,SAAS,KAC7D,OACI,sBAAK7E,UAAU,qCAAf,UACI,sBAAKA,UAAU,cAAf,UACI,qBAAKsF,IAAKN,EAASO,IAAI,KACvB,mBAAGvF,UAAU,aAAb,SAA4B+E,EAAKnD,WAGrC,sBAAK5B,UAAU,4DAAf,WACMkV,GAAc,oBAAGlV,UAAW+E,EAAKF,SAAU,UAAW,UAAxC,cAAuDE,EAAKH,MAAMY,QAAQ,MAC1F,oBAAGxF,UAAU,UAAb,cAA0BmF,EAAWK,QAAQ,OAC3C0P,GAAc,mBAAGlV,UAAU,aAAa0G,QAAS,kBAAMuO,EAAalQ,EAAKM,MAA3D,0BCbzB,SAAS8P,GAAT,GAAwD,IAApCxP,EAAmC,EAAnCA,MAAOsP,EAA4B,EAA5BA,aAAcC,EAAc,EAAdA,WAC5C,OACI,mCACKvP,GAASA,EAAMW,KAAI,SAAAvB,GAAI,OAAI,cAACiQ,GAAD,CAExBjQ,KAAMA,EACNkQ,aAAcA,EACdC,WAAYA,GAHPnQ,EAAKM,UCJnB,IAAM+P,GAAiB,CAC1BC,SACAhE,IAaJ,SAAaiE,EAAYC,GACrB,OAAOF,GAAMC,GACRE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAK,SAAAC,GAAM,OAAIA,EAAOtQ,MAAQkQ,SAd7DK,KAgBJ,SAAcN,EAAYO,GAEtB,OADAA,EAAUxQ,IAAM7C,EAAYa,SACrBgS,GAAMC,GACRE,MAAK,SAAAC,GAGF,OAFAA,EAASjR,KAAKqR,GACdC,GAAMR,EAAYG,GACXI,MArBfE,IAyBJ,SAAaT,EAAYU,GACrB,OAAOX,GAAMC,GACRE,MAAK,SAAAC,GACF,IAAMpP,EAAMoP,EAASQ,WAAU,SAAAN,GAAM,OAAIA,EAAOtQ,MAAQ2Q,EAAc3Q,OAGtE,OAFAoQ,EAAS1N,OAAO1B,EAAK,EAAG2P,GACxBF,GAAMR,EAAYG,GACXO,MA9BfrM,OAkCJ,SAAgB2L,EAAYC,GACxB,OAAOF,GAAMC,GACRE,MAAK,SAAAC,GACF,IAAMpP,EAAMoP,EAASQ,WAAU,SAAAN,GAAM,OAAIA,EAAOtQ,MAAQkQ,KACxDE,EAAS1N,OAAO1B,EAAK,GACrByP,GAAMR,EAAYG,OAtC1BS,UAyCJ,SAAmBZ,GACfzM,QAAQC,IAAI,QACZgN,GAAMR,EAAY,MAxCtB,SAASD,GAAMC,GACX,IAAIG,EAAW1J,KAAKC,MAAMmK,aAAajK,QAAQoJ,KAAgB,GAC/D,OAAO3S,QAAQC,QAAQ6S,GA0C3B,SAASK,GAAMR,EAAYG,GACvBU,aAAa5J,QAAQ+I,EAAYvJ,KAAKS,UAAUiJ,ICnDpD,IAAMW,GAAc,OAEPC,GAAc,CACvBC,I,6CACAjB,SACA1L,O,6CACA4M,gB,4CACAL,U,uDAKWb,G,iFAAf,WAAqB/L,GAArB,eAAAb,EAAA,sEAEwB2M,GAAeC,MAAMe,IAF7C,cAEUI,EAFV,yBAGWA,GAHX,4C,oEAKA,WAAsB9M,GAAtB,iBAAAjB,EAAA,sEACwB4M,KADxB,cACUmB,EADV,OAEUC,EAAOD,EAAMd,MAAK,SAAAe,GAAI,OAAIA,EAAK1R,KAAKM,MAAQqE,KAFtD,kBAIW0L,GAAezL,OAAOyM,GAAaK,EAAKpR,MAJnD,4C,oEAMA,WAAyBqE,GAAzB,SAAAjB,EAAA,+EAEW2M,GAAec,UAAUE,KAFpC,4C,+BAKmBM,G,iFAAf,WAAgChN,GAAhC,eAAAjB,EAAA,sEACwB4M,KADxB,cACUmB,EADV,yBAEWA,EAAM3D,MAAK,SAAA4D,GAAI,OAAIA,EAAK1R,KAAKM,MAAQqE,MAFhD,4C,oEAKA,+CAAAjB,EAAA,6DAAqB1D,EAArB,EAAqBA,KACTH,EAAmDG,EAAnDH,MAAOC,EAA4CE,EAA5CF,SAAUjD,EAAkCmD,EAAlCnD,MAAOuO,EAA2BpL,EAA3BoL,OAAQ9K,EAAmBN,EAAnBM,IAAKsR,EAAc5R,EAAd4R,UADjD,SAE8BD,GAAiBrR,GAF/C,2DAG4B,MAH5B,cAKUkB,EAAMxB,EAAKE,KAAKC,aAAa,GAC7BuR,EAAO,CACT1R,KAAM,CACFM,IAAKN,EAAKM,IACVT,QACAC,WACAjD,QACAgV,SAAUzG,EAAO9K,IACjBkB,MACAoQ,cAGFE,EAAYzB,GAAeQ,KAAKQ,GAAaK,GAjBvD,kBAkBWI,GAlBX,6C,oEAoBA,gCAAApO,EAAA,sEACwBW,EAAYC,WADpC,cACU1D,EADV,gBAEwB0P,KAFxB,cAEUmB,EAFV,OAGU1O,EAAc0O,EAAMM,QAAO,SAACC,EAAKN,GACnC,IAAM1R,EAAOY,EAAMqR,QAAO,SAAAjS,GAAI,OAAIA,EAAKM,MAAQoR,EAAK1R,KAAKM,OACzD,MAAM,GAAN,mBAAW0R,GAAX,YAAmBhS,MACpB,IANP,kBAOW+C,GAPX,4C,sBCvDG,IAAMmP,GAAb,4MACIvR,MAAQ,CACJwR,SAAU,MAFlB,EAKIC,cAAgB,SAACD,GACb,EAAKjR,SAAS,CAAEiR,cANxB,4CASI,WAAU,IAAD,OACGA,EAAanW,KAAK2E,MAAlBwR,SACR,EAA8DnW,KAAKe,MAA3DsV,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,WAAYC,EAAjC,EAAiCA,YAAaC,EAA9C,EAA8CA,YAC9C,OACI,sBAAKvX,UAAU,0CAAf,UACI,gCACI,8DACCoX,EAAY9Q,KAAI,SAAAkR,GACb,OACI,8BACI,mBAAGxX,UAAS,kBAAckX,IAAaM,EAAON,UAAa,UAAYxQ,QAAS,kBAAM,EAAKyQ,cAAcK,EAAON,WAAhH,SAA4HM,EAAOtK,YADvI,gBAAmBsK,EAAON,iBAMtC,sBAAKlX,UAAU,sDAAf,UACI,wBAAQA,UAAU,WAAW0G,QAAS,kBAAM2Q,EAAW,EAAK3R,MAAMwR,WAAlE,sBACA,mBAAGlX,UAAU,GAAG0G,QAAS,kBAAM4Q,EAAYC,IAA3C,4BA1BpB,GAAiCzQ,aCA1B,SAAS2Q,GAAT,GAAwH,IAApGC,EAAmG,EAAnGA,WAAYC,EAAuF,EAAvFA,iBAAkCP,GAAqD,EAArEQ,eAAqE,EAArDR,aAAaC,EAAwC,EAAxCA,WAAYE,EAA4B,EAA5BA,YAAaD,EAAe,EAAfA,YAC3G,OACI,qCACI,sBAAKtX,UAAU,yCAAf,UACI,gDACA,8BACI,oBAAGA,UAAU,UAAb,cAA0B0X,UAGlC,sBAAK1X,UAAU,oEAAf,UACI,mBAAGA,UAAU,MAAb,kGACA,sBAAKA,UAAU,8BAAf,UACI,wBAAQ0G,QAAS,kBAAMiR,KACnB3X,UAAU,WADd,iCAEA,wBAAQA,UAAU,WAAW0G,QAAS,kBAAM4Q,EAAYC,IAAxD,sCAIR,sBAAKvX,UAAU,SAAf,UACKuX,GAAe,cAAC,GAAD,CACZA,YAAaA,EACbN,YAAaA,GACbI,WAAYA,EACZD,YAAaA,EACbE,YAAaA,IACjB,8EC3BT,SAASO,GAAT,GAAiE,IAAzCH,EAAwC,EAAxCA,WAAY7J,EAA4B,EAA5BA,aAAcwJ,EAAc,EAAdA,WACrD,OACI,mCACI,sBAAKrX,UAAU,cAAf,UAEI,sBAAKA,UAAU,2CAAf,UACI,sBAAKA,UAAU,OAAf,UACI,mBAAGA,UAAU,WAAb,uBACA,oBAAGA,UAAU,GAAb,cAAmB0X,QAEvB,sBAAK1X,UAAU,WAAf,UACI,mBAAGA,UAAU,WAAb,kBACA,qCAEJ,sBAAKA,UAAU,OAAf,UACI,mBAAGA,UAAU,WAAb,oBACA,oBAAGA,UAAU,UAAb,cAA0B0X,WAIlC,sBAAK1X,UAAU,oBAAf,UACI,mBAAGA,UAAU,WAAb,6BACA,mBAAGA,UAAU,OAAb,oCAEJ,sBAAKA,UAAU,qBAAf,UACI,mBAAGA,UAAU,WAAb,2BACA,0EAEJ,sBAAKA,UAAU,oBAAf,UACI,mBAAGA,UAAU,WAAb,gCACA,mBAAGA,UAAU,UAAb,SAAyB6N,EAAad,cAE1C,qBAAK/M,UAAU,mBAAf,SACI,wBAAQA,UAAU,0BAA0B0G,QAAS,kBAAM2Q,EAAWxJ,EAAaxI,MAAnF,6B,ICpBdyS,G,4MACFpS,MAAQ,CACJ8Q,MAAO,GACP7Q,MAAO,GACPuP,YAAY,EACZ6C,YAAa,KACbX,YAAa,KACbG,aAAa,G,EAajBtC,a,uCAAe,WAAOvL,GAAP,eAAAjB,EAAA,sEACL,EAAK3G,MAAMkW,WAAWtO,GADjB,OAELuO,EAAW,EAAKvS,MAAMC,MAAMqR,QAAO,SAAAjS,GAAI,OAAIA,EAAKM,MAAQqE,KAC9D,EAAKzD,SAAS,CAAEN,MAAOsS,IACvB,EAAKhS,SAAS,CAAEuQ,MAAO,EAAK1U,MAAM0U,QAJvB,2C,wDAOf0B,c,sBAAgB,sBAAAzP,EAAA,sEACN,EAAK3G,MAAMqW,cADL,OAEZ,EAAKlS,SAAS,CAAEN,MAAO,KACvB,EAAKM,SAAS,CAAEuQ,MAAO,KAHX,2C,EAMhBa,W,uCAAa,WAAOU,GAAP,mBAAAtP,EAAA,yDACJsP,EADI,wDAEDvB,EAAU,EAAK9Q,MAAf8Q,MACA3I,EAAiB,EAAK/L,MAAtB+L,aAEJkK,IAAgBlK,EAAaxI,KAC7BqN,EAAQ,CAAErN,IAAK0S,GACf,EAAKT,YAAY,EAAK5R,MAAM6R,cACzB7E,EAAQ7E,EARN,SAUHlL,QAAQyV,IAAI5B,EAAMlQ,IAAN,uCAAU,WAAMmQ,GAAN,eAAAhO,EAAA,sEACC,EAAK3G,MAAMuW,UAAU5B,EAAM/D,GAD5B,cAClB4F,EADkB,gBAElBP,EAFkB,2BAEFlK,EAAaxI,IAFX,6BAEiBoF,EAAcU,KAAK,WAAY4M,GAFhD,wBAE+DtN,EAAcU,KAAK,YAAamN,GAF/F,eAKxB,EAAKxW,MAAM6K,QAAQ,+BACnB9J,YAAW,WACP,EAAKf,MAAM6K,QAAQ,MAEpB,KATqB,kBAUjB2L,GAViB,4CAAV,wDAVT,cAsBTnC,aAAa7J,MAAM,QAtBV,kBAuBFzD,QAAQC,IAAI,oBAvBV,2C,wDA0BbyP,cAAgB,SAAC5S,GACb,OAAIA,EACOA,EAAMmR,QAAO,SAACC,EAAKhS,GACtB,OAAKA,EAAKF,SAEHkS,GADYhS,EAAKH,MAASG,EAAKH,OAASG,EAAKF,SAAW,MADpCkS,EAAOhS,EAAKH,QAGxC,GAAGY,QAAQ,GAEX,G,EAEXmS,iBAAmB,WACf,IAAK,EAAK7V,MAAM+L,aAIZ,OAFA,EAAK/L,MAAM6K,QAAQ,mCAEZ9J,YAAW,WACd,EAAKf,MAAMgM,QAAQtJ,KAAK,UACxB,EAAK1C,MAAM6K,QAAQ,MACpB,MAEW,EAAKjH,MAAf8Q,MACGhW,QACP,EAAKsB,MAAM6K,QAAQ,qBAGvB,EAAK1G,SAAS,CAAEiP,YAAY,K,EAGhC0C,eAAiB,SAACY,GACd,EAAKvS,SAAS,CAAEmR,YAAaoB,K,EAEjClB,YAAc,SAACC,GACX,IAAOiB,EAAW,EAAK1W,MAAM+L,aAAtB2K,QACHA,IACJ,EAAKZ,eAAeY,GACpB,EAAKvS,SAAS,CAAEsR,aAAaA,M,8FApFjC,8BAAA9O,EAAA,6DACIS,OAAOuP,SAAS,EAAG,GADvB,SAEuBrP,EAAYK,QAAQ1I,KAAKe,MAAM6R,MAAMhL,OAAOe,QAFnE,cAEU3E,EAFV,gBAGUhE,KAAKe,MAAM4W,UAAU3T,EAAMhE,KAAKe,MAAM+L,cAHhD,uBAIU9M,KAAKe,MAAM6W,YAJrB,cAKI5X,KAAKkF,SAAS,CAAEuQ,MAAOzV,KAAKe,MAAM0U,QALtC,UAMwBH,GAAYE,gBAAgBxV,KAAKe,MAAM0U,OAN/D,QAMU7Q,EANV,OAOI5E,KAAKkF,SAAS,CAAEN,UAPpB,iD,0EAsFA,WAAU,IAAD,OACL,EAA8D5E,KAAK2E,MAApDC,GAAf,EAAQ6Q,MAAR,EAAe7Q,OAAOuP,EAAtB,EAAsBA,WAAYkC,EAAlC,EAAkCA,YAAYG,EAA9C,EAA8CA,YACtC1J,EAAiB9M,KAAKe,MAAtB+L,aAGF6J,EAAa3W,KAAKwX,cAAc5S,GACtC,OACI,sBAAK3F,UAAU,2BAAf,UAEI,sBAAKA,UAAU,QAAf,UACI,cAAC,IAAD,CAAMoF,GAAE,IAAR,4BADJ,IAC2C,IACvC,uDAGJ,oBAAIpF,UAAU,QAAd,gCAEA,qBAAKA,UAAU,oBAAf,SACI,8BAAMkV,EAA2C,oBAA7B,0BAChB,sBAAMlV,UAAU,uBAIxB,sBAAKA,UAAU,wBAAf,UACI,qBAAKA,UAAS,6BAAwBkV,GAAc,YAApD,SACI,sBAAKlV,UAAU,eAAf,UACI,sBAAKA,UAAU,wCAAf,UACI,cAACmV,GAAD,CAAUxP,MAAOA,EACbsP,aAAclU,KAAKkU,aACnBC,WAAYA,KAGdA,GAAc,cAACuC,GAAD,CACZH,YAAavW,KAAKuW,YAClBC,YAAaA,EACbI,iBAAkB5W,KAAK4W,iBACvBD,WAAYA,EACZE,eAAgB7W,KAAK6W,eACrBR,YAAaA,EACbC,WAAYtW,KAAKsW,WACjBuB,cAAe7X,KAAK6X,gBAEvB1D,GAAc,cAAE2C,GAAF,CACXH,WAAYA,EACZ7J,aAAcA,EACdwJ,WAAYtW,KAAKsW,iBAKvBnC,GAAc,mBAAGxO,QAAS,kBAAM,EAAKwR,iBACnClY,UAAU,uBADE,8BAGhB,+BACMkV,GAAc,cAAC,IAAD,CAAM9P,GAAG,IAAIpF,UAAU,oBAAvB,uCAK1BkV,GAAc,sBAAKlV,UAAU,8BAAf,UACZ,8BACI,qBAAKsF,IAzDZ,qGAyDuBC,IAAI,OAExB,8BACI,qBAAKD,IA3DZ,qGA2DuBC,IAAI,oB,GA/JxBuB,aA+KlBqD,GAAqB,CACvBuO,UC9KG,SAAmB3T,GACtB,8CAAO,WAAMkF,GAAN,eAAAxB,EAAA,+EAEuB4N,GAAYC,IAAI,CAAEvR,SAFzC,QAEO8T,EAFP,SAGc5O,EAAS,CAAErC,KAAM,WAAY6O,KAAMoC,IAHjD,gDAKChQ,QAAQC,IAAI,8BAAZ,MALD,yDAAP,uDD8KA6P,UC1LG,WACH,8CAAO,WAAM1O,GAAN,eAAAxB,EAAA,+EAEqB4N,GAAYhB,QAFjC,OAEOmB,EAFP,OAGCvM,EAAS,CAAErC,KAAM,YAAa4O,UAH/B,gDAKC3N,QAAQC,IAAI,oCAAZ,MALD,yDAAP,uDD0LAkP,WCrKG,SAAoBtO,GACvB,8CAAO,WAAMO,GAAN,SAAAxB,EAAA,+EAEO4N,GAAY1M,OAAOD,GAF1B,OAGCO,EAAS,CAAErC,KAAM,cAAe8B,WAHjC,+CAKCb,QAAQC,IAAI,kCAAZ,MALD,wDAAP,uDDqKAqP,YC5JG,WACH,8CAAO,WAAMlO,GAAN,SAAAxB,EAAA,+EAEO4N,GAAYH,YAFnB,OAGCjM,EAAS,CAAErC,KAAM,iBAHlB,+CAKCiB,QAAQC,IAAI,kCAAZ,MALD,wDAAP,uDD4JAuP,UEnLG,SAAmB5F,EAAOC,GAC7B,8CAAO,WAAMzI,GAAN,eAAAxB,EAAA,+EAG2B6J,GAAa1I,KAAK6I,EAAOC,GAHpD,cAGOoG,EAHP,OAKC7O,EADc,CAAErC,KAAM,YAAa6K,MAAOqG,IAJ3C,kBAMQA,GANR,gCAQCjQ,QAAQC,IAAI,kCAAZ,MARD,yDAAP,uDFmLA6D,YAGSoM,GAAW1O,aAhBA,SAAA3E,GACpB,MAAO,CACHmI,aAAcnI,EAAM+I,WAAWZ,aAC/B2I,MAAO9Q,EAAMsT,WAAWxC,MACxB5J,IAAKlH,EAAM+I,WAAW7B,OAYmBzC,GAAzBE,CAA6CyN,IGrM9D,SAASmB,GAAT,GAAsC,IAAjB/L,EAAgB,EAAhBA,SAElBkF,EAFkC,EAAN7L,IAGlC,OACI,mCACI,sBAAKvG,UAAU,gCAAf,UACI,qBAAKA,UAAU,OAAOsF,IALZ,0GAKgCC,IAAI,KAC9C,8BACI,qBAAKvF,UAAU,SAASsF,IAAK8M,EAAS7M,IAAI,UAGlD,qBAAIvF,UAAU,iBAAd,mBAAuCkN,Q,sBCoB5C,SAASgM,GAAT,GAAsD,IAA1BtG,EAAyB,EAAzBA,OAAQuG,EAAiB,EAAjBA,cACzC,EAAoCC,mBAASxG,GAA7C,oBAAOyG,EAAP,KAAqBC,EAArB,KAYA,OACE,cAAC,KAAD,CAAiBC,UAXnB,SAAyBC,GACvB,GAAKA,EAAOC,YAAZ,CAEA,IAAMC,EAAQC,MAAMC,KAAKP,GACzB,EAAwBK,EAAM3R,OAAOyR,EAAO/Y,OAAOoZ,MAAO,GAAnDC,EAAP,qBACAJ,EAAM3R,OAAOyR,EAAOC,YAAYI,MAAO,EAAGC,GAE1CR,EAAYI,KAIZ,SACE,cAAC,KAAD,CAAWK,YAAY,eAAeC,UAAU,aAAhD,SACG,SAACC,GAAD,OACC,8CAAKja,UAAU,sBAAyBia,EAASC,gBAAjD,IAAiE/X,IAAK8X,EAASE,SAA/E,UACGd,EAAa/S,KAAI,WAAWuT,GAAW,IAAnB9U,EAAkB,EAAlBA,KACnB,OACE,cAAC,KAAD,CAA0BqV,YAAarV,EAAKM,IAAKwU,MAAOA,EAAxD,SACG,SAACI,GAAD,OACC,yDAAKvT,QAAS,kBAAMyS,EAAcpU,EAAK4R,YAAYxU,IAAK8X,EAASE,UAAcF,EAASI,gBAAoBJ,EAASK,iBAArH,aACE,qBAAKta,UAAU,oBAAf,SACE,sBAAKA,UAAU,iBAAf,UACE,qBAAKA,UAAU,qBAAf,SACE,qBAAKsF,IAAKP,EAAKwB,IAAKhB,IAAI,OAE1B,qBAAKvF,UAAU,kBAAf,SACE,6BAAK+E,EAAKnD,oBATNmD,EAAKM,QAmBxB4U,EAASpJ,qB,UC7DhB0J,G,4MACF7U,MAAQ,CACJyG,KAAM,KACNwK,UAAW,GACX6D,YAAa,M,EAEjBC,kB,sBAAoB,kCAAAhS,EAAA,yDACRoF,EAAiB,EAAK/L,MAAtB+L,aADQ,yCAEU,EAAK/L,MAAMgM,QAAQtJ,KAAnB,MAFV,uBAGG+G,EAAY9B,QAAQoE,EAAaxI,KAHpC,cAGV8G,EAHU,OAIhB,EAAKlG,SAAS,CAAEkG,SAJA,SAKV,EAAKrK,MAAMkI,YALD,OAMVrE,EAAQ,EAAK7D,MAAM6D,MACnB6U,EAAc7U,EAAMqR,QAAO,SAAAjS,GAAI,OAAIA,EAAKoL,OAAO9K,MAAQwI,EAAaxI,OAC1E,EAAKY,SAAS,CAAEuU,gBARA,4C,EAmBpBrB,cAAgB,SAACxC,GACb,EAAK1Q,SAAS,CAAE0Q,UAAWA,K,wDAT/B,SAAmB1H,EAAWzB,GAC1B,IAAQK,EAAiB9M,KAAKe,MAAtB+L,aACS9M,KAAK2E,MAAdyG,KACJ8C,EAAUpB,eAAiBA,IACtBA,GAAc9M,KAAKe,MAAMgM,QAAQtJ,KAAnB,Q,oBAO3B,WAAU,IAAD,OACGqJ,EAAiB9M,KAAKe,MAAtB+L,aACR,EAAyC9M,KAAK2E,MAAtCyG,EAAR,EAAQA,KAAMwK,EAAd,EAAcA,UAAW6D,EAAzB,EAAyBA,YACzB,OAAK3M,EACA1B,GACAqO,EAED,0BAASxa,UAAU,oBAAnB,UACI,cAACiZ,GAAD,CAAY/L,SAAUf,EAAKe,SAAU3G,IAAK4F,EAAK2D,SAC/C,sBAAK9P,UAAU,6BAAf,UACI,kDAEA,cAACkZ,GAAD,CAAkBtG,OAAQzG,EAAKyG,OAAQuG,cAAepY,KAAKoY,mBAE/D,sBAAKnZ,UAAU,gCAAf,UACI,gDACA,qBAAKA,UAAU,iBAAf,SACKwa,EAAYlU,KAAI,SAAAvB,GAAI,OAAI,qBAAK/E,UAAU,oBAAf,SACrB,sBAAKA,UAAU,iBAAf,UACI,qBAAKA,UAAU,gBAAf,SACI,qBAAKsF,IAAKP,EAAKE,KAAKC,aAAa,GAAIK,IAAI,OAE7C,sBAAKvF,UAAU,iBAAf,UACI,6BAAK+E,EAAKnD,QACV,+CAAkBmD,EAAKH,gBAP8BG,EAAKM,aA4B7EsR,GAAa,sBAAK3W,UAAU,oBAAf,UACV,mDAAsB2W,KACtB,kEACA,gFACA,iEACA,sCACA,wBAAQ3W,UAAU,gBAAgB0G,QAAS,kBAAM,EAAKyS,cAAc,KAApE,sBA/CM,yCADQ,qD,GA/BPrS,aA6FrBqD,GAAqB,CACvBH,aAES0Q,GAAcrQ,aAVH,SAAA3E,GACpB,MAAO,CACH4E,UAAW5E,EAAM6E,aAAaD,UAC9B3E,MAAOD,EAAM8E,WAAW7E,MACxBkI,aAAcnI,EAAM+I,WAAWZ,gBAMa1D,GAAzBE,CAA6CkQ,ICpGlEI,GAAkB,CACtB,CACEvY,GAAI,OACJwY,KAAM,OACNC,MAAO,qBCULC,IDcyBhU,Y,4MCb7BpB,MAAQ,CACNkH,IAAK,GACLmO,SAAU,M,EAaZC,a,uCAAe,WAAOvI,GAAP,SAAAhK,EAAA,sEACP,EAAK3G,MAAM6K,QAAQ,0BADZ,OAEb,EAAK1G,SAAS,CAAE2G,IAAK,EAAK9K,MAAM8K,IAAKmO,UAAU,IAC/ClY,YAAW,WACT,EAAKf,MAAM6K,QAAQ,MAClB,KACH,EAAK1G,SAAS,CAAE2G,IAAK,EAAK9K,MAAM8K,MANnB,2C,wDAUfqO,W,uCAAa,WAAOxI,GAAP,SAAAhK,EAAA,sEACL,EAAK3G,MAAM6K,QAAQ,qBADd,OAEX,EAAK1G,SAAS,CAAE2G,IAAK,EAAK9K,MAAM8K,MAChC/J,YAAW,WACT,EAAKf,MAAM6K,QAAQ,MAClB,KACH,EAAK1G,SAAS,CAAE2G,IAAK,EAAK9K,MAAM8K,MANrB,2C,oJApBb,sBAAAnE,EAAA,sEACQgC,EAAcE,QADtB,uBAEQF,EAAcK,GAAG,aAAc/J,KAAKia,cAF5C,uBAGQvQ,EAAcK,GAAG,aAAc/J,KAAKka,YAH5C,OAIEla,KAAKkF,SAAS,CAAE2G,IAAK7L,KAAKe,MAAM8K,MAJlC,gD,wFAMA,WACEnC,EAAcW,c,oBAuBhB,WACE,OACE,qBAAKpL,UAAU,MAAf,SACE,eAAC,IAAD,WACE,cAAC+P,GAAD,CAAQnD,IAAK7L,KAAKe,MAAM8K,IAAKmO,SAAUha,KAAK2E,MAAMqV,WAClD,sBAAM/a,UAAU,GAAhB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOkb,KAAK,SAASC,UAAW3M,KAChC,cAAC,IAAD,CAAO0M,KAAK,WAAWC,UAAWT,KAClC,cAAC,IAAD,CAAOQ,KAAK,sBAAsBC,UAAWpC,KAC7C,cAAC,IAAD,CAAOmC,KAAK,gBAAgBC,UAAW7G,KACvC,cAAC,IAAD,CAAO4G,KAAK,QAAQC,UAAW7J,KAC/B,cAAC,IAAD,CAAO4J,KAAK,SAASC,UAAW5G,KAChC,cAAC,IAAD,CAAO2G,KAAK,IAAIC,UAAW/Q,SAG/B,cAAC2K,GAAD,a,GApDSjO,cAgEbqD,GAAqB,CACzBwC,YAGWyO,GAAM/Q,aATK,SAAA3E,GACtB,MAAO,CACLkH,IAAKlH,EAAM+I,WAAW7B,OAOkBzC,GAAzBE,CAA6CyQ,IC5E5CO,QACW,cAA7BnS,OAAOC,SAASmS,UAEe,UAA7BpS,OAAOC,SAASmS,UAEhBpS,OAAOC,SAASmS,SAAS3H,MAAM,2D,8BCjB7B4H,GAAe,CACnBnL,QAAS,ICDX,IAAIoL,GAAoB,KACpBvP,eAAewP,eAAcD,GAAoBzP,KAAKC,MAAMC,eAAewP,eAE/E,IAAMF,GAAe,CACnB3O,IAAK,GACLiB,aAAc2N,GACd9O,MAAO,ICNT,IAAM6O,GAAe,CACnBjR,WAAW,GCDb,IAAMiR,GAAe,CACjB5V,MAAO,ICCX,IAAM4V,GAAe,CACjB/E,MAAO,ICHX,IAAM+E,GAAe,CACjB3I,OAAQ,ICOL,IAAM8I,GAAcC,aAAgB,CACzCpR,aJLK,WAA4D,IAApC7E,EAAmC,uDAA3B6V,GAAclH,EAAa,uDAAJ,GAC5D,OAAQA,EAAOzM,MACb,IAAK,gBACH,OAAO,2BAAKlC,GAAZ,IAAmB4E,WAAW,IAChC,IAAK,eACH,OAAO,2BAAK5E,GAAZ,IAAmB4E,WAAW,IAChC,QAAS,OAAO5E,IIAlBkW,aNNK,WAA2D,IAApClW,EAAmC,uDAA3B6V,GAAclH,EAAa,uDAAJ,GAC3D,OAAQA,EAAOzM,MACb,IAAK,cACH,OAAO,2BAAKlC,GAAZ,IAAmB0K,QAASiE,EAAOjE,UACrC,IAAK,aACH,OAAO,2BAAK1K,GAAZ,IAAmB0K,QAAQ,GAAD,mBAAM1K,EAAM0K,SAAZ,CAAqBiE,EAAOvK,WACxD,IAAK,gBACH,OAAO,2BAAKpE,GAAZ,IAAmB0K,QAAS1K,EAAM0K,QAAQ4G,QAAO,SAAAlN,GAAM,OAAIA,EAAOzE,MAAQgP,EAAOwH,cACnF,IAAK,gBACH,OAAO,2BACFnW,GADL,IAEE0K,QAAS1K,EAAM0K,QAAQ9J,KAAI,SAAAwD,GAAM,OAC/BA,EAAOzE,MAAQgP,EAAOvK,OAAOzE,IAAMgP,EAAOvK,OAASA,OAEzD,QACE,OAAOpE,IMRX+I,WLFK,WAAyD,IAApC/I,EAAmC,uDAA3B6V,GAAclH,EAAa,uDAAJ,GACzD,OAAQA,EAAOzM,MACb,IAAK,WACH,OAAO,2BAAKlC,GAAZ,IAAmBmI,aAAcwG,EAAOlI,OAC1C,IAAK,cACH,OAAO,2BACFzG,GADL,IAEEgH,MAAOhH,EAAMgH,MAAMsK,QAAO,SAAA7K,GAAI,OAAIA,EAAK9G,MAAQgP,EAAOzI,YAE1D,IAAK,YACH,OAAO,2BAAKlG,GAAZ,IAAmBgH,MAAO2H,EAAO3H,QACnC,IAAK,UACH,OAAO,2BAAKhH,GAAZ,IAAmBkH,IAAKyH,EAAOzH,MACjC,QACE,OAAOlH,IKXX8E,WHRK,WAAyD,IAApC9E,EAAmC,uDAA3B6V,GAAclH,EAAa,uDAAJ,GACvD,OAAQA,EAAOzM,MACX,IAAK,YACD,OAAO,2BAAKlC,GAAZ,IAAmBC,MAAO0O,EAAO1O,QACrC,IAAK,WACD,OAAO,2BAAKD,GAAZ,IAAmBC,MAAM,GAAD,mBAAMD,EAAMC,OAAZ,CAAmB0O,EAAOtP,SACtD,IAAK,cACD,OAAO,2BAAKW,GAAZ,IAAmBC,MAAOD,EAAMC,MAAMqR,QAAO,SAAAjS,GAAI,OAAIA,EAAKM,MAAQgP,EAAO3K,YAC7E,IAAK,cACD,OAAO,2BACAhE,GADP,IAEIC,MAAOD,EAAMC,MAAMW,KAAI,SAAAvB,GAAI,OACvBA,EAAKM,MAAQgP,EAAOtP,KAAKM,IAAMgP,EAAOtP,KAAOA,OAGzD,QACI,OAAOW,IGPjBsT,WFPK,WAAyD,IAApCtT,EAAmC,uDAA3B6V,GAAclH,EAAa,uDAAJ,GAEvD,OADiB3O,EAAM8Q,MAAMQ,QAAO,SAAAP,GAAI,OAAIA,EAAK/M,SAAW2K,EAAO3K,UAC3D2K,EAAOzM,MACX,IAAK,YACD,OAAO,2BAAKlC,GAAZ,IAAmB8Q,MAAOnC,EAAOmC,QACrC,IAAK,WAED,OADA3N,QAAQC,IAAI,SAAUuL,EAAOoC,MACtB,2BAAK/Q,GAAZ,IAAmB8Q,MAAM,GAAD,mBAAM9Q,EAAM8Q,OAAZ,CAAmBnC,EAAOoC,SACtD,IAAK,cACD,OAAO,2BAAK/Q,GAAZ,IAAmB8Q,MAAO9Q,EAAM8Q,MAAMQ,QAAO,SAAAP,GAAI,OAAIA,EAAK1R,KAAKM,MAAQgP,EAAO3K,YAClF,IAAK,eACD,OAAO,2BAAKhE,GAAZ,IAAmB8Q,MAAO,KAS9B,QACI,OAAO9Q,IEbjBoW,YDVK,WAA0D,IAApCpW,EAAmC,uDAA3B6V,GAAclH,EAAa,uDAAJ,GACxD,OAAQA,EAAOzM,MACX,IAAK,aACD,OAAO,2BAAKlC,GAAZ,IAAmBkN,OAAQyB,EAAOzB,SACtC,IAAK,YACD,OAAO,2BAAKlN,GAAZ,IAAmBkN,OAAO,GAAD,mBAAMlN,EAAMkN,QAAZ,CAAoByB,EAAO5B,UACxD,QACI,OAAO/M,MENbqW,GAAmB7S,OAAO8S,sCAAwCC,KAE3DC,GAAQC,aACnBT,GACAK,GAAiBK,aAAgBC,QCGpBC,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBhH,MAAK,YAAkD,IAA/CiH,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCEdO,IAASC,OACP,cAAC,IAAD,CAAUb,MAAOA,GAAjB,SACE,cAACd,GAAD,MAEF4B,SAASC,eAAe,SVkHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrB5H,MAAK,SAAC6H,GACLA,EAAaC,gBAEdC,OAAM,SAACC,GACN3U,QAAQ2U,MAAMA,EAAMC,YUlH5BnB,O","file":"static/js/main.65740db5.chunk.js","sourcesContent":["export function Loader(){\r\n    return(\r\n        <div className=\"flex justify-center\">\r\n        <div className=\"lds-roller\">\r\n            <div></div><div></div><div></div><div></div>\r\n            <div></div><div></div><div></div><div></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgStar(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"star\",\n    className: \"star-svg svg-inline--fa fa-star fa-w-18\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 576 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgStar);\nexport default __webpack_public_path__ + \"static/media/star.70885c40.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as StarSvg } from '../assets/img/icons/star.svg'\r\n\r\nexport const utilService = {\r\n    delay,\r\n    getRandomInt,\r\n    makeId,\r\n    getDateFormat,\r\n    renderStars,\r\n    getDateString,\r\n    getFinalPrice\r\n}\r\n\r\nfunction delay(ms = 1500) {\r\n    return new Promise(resolve => {\r\n        setTimeout(resolve, ms)\r\n    })\r\n}\r\n\r\nfunction getRandomInt(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\r\n}\r\n\r\nfunction makeId(length = 5) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return txt;\r\n}\r\nfunction getDateFormat(date) {\r\n    const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\r\n    const currDate = new Date(date)\r\n    const year = currDate.getFullYear();\r\n    const month = months[currDate.getMonth() - 1]\r\n    let day = currDate.getDay();\r\n    // let day = new Date(year, month, 0).getDate();\r\n    if (day === 0) day = 1\r\n    let dateStr = (day < 10) ? `0${day}` : `${day}`\r\n    dateStr += ` ${month}, ${year}`\r\n    return dateStr\r\n}\r\nfunction getDateString(date) {\r\n    return new Date(date).toLocaleDateString('en-Us', { day: 'numeric', month: 'long', year: 'numeric', })\r\n}\r\nfunction renderStars(rate) {\r\n    let stars = []\r\n    for (let i = 0; i < Math.round(rate); i++) {\r\n        stars.push(<StarSvg key={i} />)\r\n    }\r\n    return stars\r\n}\r\n\r\nfunction getFinalPrice(price, discount) {return price - (price * (discount/100))}","import { Link } from 'react-router-dom'\r\nimport { utilService } from '../../services/util.service'\r\nexport function SmallGamePreview({ game }) {\r\n    const gameImg = game.imgs.largeImgUrls[0]\r\n    const finalPrice = utilService.getFinalPrice(game.price, game.discount)\r\n    return (\r\n        <div className=\"small-game-preview space-between\">\r\n            <div>\r\n                <Link className=\"hidden\" to={`/game/${game._id}`} >\r\n                    <div className=\"flex small-img\">\r\n                        <img src={gameImg} alt=\"\" />\r\n                    </div>\r\n                    <div className=\"preview-price\">\r\n                        <p className=\"discount\">{game.discount ? `${game.discount}%` : ''}</p>\r\n                        <div className=\"flex column\">\r\n                            <p className={(game.discount > 0) ? \"in-sale\" : 'f-price'} >${game.price.toFixed(2)}</p>\r\n                            {game.discount ? <p className=\"f-price\" >${finalPrice.toFixed(2)}</p> : ''}\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import { render } from \"@testing-library/react\";\r\nimport { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Loader } from \"../UtilCmps/Loader\";\r\nimport { utilService } from '../../services/util.service'\r\n\r\n\r\n// export function MainGamePreview({ games }) {\r\nexport class MainGamePreview extends Component {\r\n    state = {\r\n        games: null,\r\n        gameIdx: 0,\r\n        imgIdx: 0,\r\n        classTransition: ''\r\n    }\r\n    componentDidMount() {\r\n        const games = this.props.games\r\n        this.toggleTransition()\r\n        this.setState({ games })\r\n    }\r\n\r\n    changeGameByDiff = (diff) => {\r\n        this.setState({ classTransition: '' })\r\n        const { games, gameIdx } = this.state\r\n        let nextIdx = diff += gameIdx\r\n        if (nextIdx < 0) nextIdx = games.length - 1\r\n        if (nextIdx >= games.length) nextIdx = 0\r\n        setTimeout(() => this.setState({ gameIdx: nextIdx }), 100)\r\n        this.toggleTransition()\r\n    }\r\n    changeGameByIdx(idx) {\r\n        this.setState({ classTransition: '' })\r\n        setTimeout(() => this.setState({ gameIdx: idx }), 100)\r\n        this.toggleTransition()\r\n    }\r\n    toggleTransition() {\r\n        setTimeout(() => this.setState({ classTransition: 'transition' }), 100)\r\n    }\r\n    changeImg = (imgIdx) => {\r\n        this.setState({ imgIdx })\r\n    }\r\n    render() {\r\n        const { games, gameIdx, imgIdx, classTransition } = this.state\r\n        if (!games || !games.length) return (<Loader />)\r\n        const game = games[gameIdx]\r\n        const imgs = game.imgs.largeImgUrls.map(img => img)\r\n        const mainImgUrl = games[gameIdx].imgs.largeImgUrls[imgIdx]\r\n        const mainImg = mainImgUrl\r\n        const releasedAt = this.props.utilService.getDateFormat(game.releasedAt)\r\n        const finalPrice = utilService.getFinalPrice(game.price, game.discount)\r\n        return (\r\n            <>\r\n                <div>\r\n\r\n                    <div className=\"main-game-preview container mb-30\">\r\n                        <button className=\"btn btn-prev\" onClick={() => this.changeGameByDiff(-1)} >&#10094;</button>\r\n                        <Link to={`/game/${game._id}`}>\r\n\r\n                            <div className=\"preview-container flex column\">\r\n                                <div className={`m-img ${classTransition}`} >\r\n                                    <img src={mainImg} alt=\"\" />\r\n                                </div>\r\n\r\n                                <div className=\"imgs-container flex column\">\r\n                                    <img\r\n                                        onMouseOver={() => this.changeImg(1)}\r\n                                        onMouseLeave={() => this.changeImg(0)}\r\n                                        className={classTransition} src={imgs[1]} />\r\n                                    <img onMouseOver={() => this.changeImg(2)}\r\n                                        onMouseLeave={() => this.changeImg(0)}\r\n                                        className={classTransition} src={imgs[2]} />\r\n\r\n                                    <h2>{game.title}</h2>\r\n                                    <p>Release date:{releasedAt}</p>\r\n                                </div>\r\n\r\n                                <div className=\"imgs-container flex column space-between\">\r\n                                    <div>\r\n                                    <img onMouseOver={() => this.changeImg(3)}\r\n                                        onMouseLeave={() => this.changeImg(0)}\r\n                                        className={classTransition} src={imgs[3]} />\r\n                                    <img onMouseOver={() => this.changeImg(4)}\r\n                                        onMouseLeave={() => this.changeImg(0)}\r\n                                        className={classTransition} src={imgs[4]} />\r\n                                        \r\n                                    </div>\r\n\r\n                                    <div className=\"preview-price\">\r\n                                        <p className={`discount ${!game.discount && 'hidden'}`}>{game.discount ? `${game.discount}%` : '1'}</p>\r\n                                        <div className=\"price-container flex column\">\r\n                                            <p className={`in-sale ${!game.discount && 'hidden'}`} >${game.price.toFixed(2)}</p>\r\n                                            <p className={`f-price `} >${finalPrice.toFixed(2)}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    {/* <button className=\"btn-home-buy-now btn-success\">Buy now</button> */}\r\n                                    <button className=\"btn-main txt-cap\">Get it today</button>\r\n                                </div>\r\n                            </div>\r\n                        </Link>\r\n                        <button className=\" btn btn-next\" onClick={() => this.changeGameByDiff(1)}> &#10095;</button>\r\n                    </div>\r\n                    <div className=\"carousel-nav flex justify-center\">\r\n                        {games.map((game, idx) =>\r\n                            <div key={'ball' + idx}\r\n                                onClick={() => this.changeGameByIdx(idx)}\r\n                                className={`item ${gameIdx === idx && 'active'} `}\r\n                            ></div>)}\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import { Link } from 'react-router-dom'\r\nexport function CtgList() {\r\n    return (\r\n        <>\r\n            <h2 className=\"ctg-s-title mb-20 container\">Browse game keys</h2>\r\n            <div className=\"ctg-list  flex container gap-20 mb-30\">\r\n                <Link className=\"btn-big \" to=\"/game?tag=adventure\" >Adventure</Link>\r\n                <Link className=\"btn-big \" to=\"/game?tag=racing\" >Racing</Link>\r\n                <Link className=\"btn-big \" to=\"/game?tag=action\" >Action</Link>\r\n                <Link className=\"btn-big \" to=\"/game?tag=sports\" >Sports</Link>\r\n            </div>\r\n            <div className=\"container flex space-between\" >\r\n                <h2 className=\"mb-20 ctg-s-title \">Best sellers</h2>\r\n                <div>\r\n                <Link className=\"btn btn-view align-end  title cap\" to=\"/game\"> View all</Link>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n","import React from \"react\";\r\n// import PropTypes from \"prop-types\";\r\n\r\nexport function Video({ url }) {\r\n    return (\r\n        <div className=\"video-responsive\">\r\n            <iframe\r\n                autoPlay={true}\r\n                width=\"853\"\r\n                height=\"480\"\r\n                src={url}\r\n                frameBorder=\"0\"\r\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                allowFullScreen\r\n                title=\"Embedded youtube\"\r\n            // sandbox=\"allow-forms allow-scripts allow-pointer-lock allow-same-origin allow-top-navigation\"\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\n// Video.propTypes = {\r\n//     embedId: PropTypes.string.isRequired\r\n// };\r\n\r\n// export default Video;","import { Link } from \"react-router-dom\";\r\nimport { Video } from \"../Video\";\r\n\r\nexport function VideoGame({ games }) {\r\n    return (<>\r\n        <div className=\"container flex space-between\" >\r\n            <h2 className=\"mb-20 ctg-s-title \">Popular in Game keys</h2>\r\n            <div>\r\n                <Link className=\"btn btn-view align-end  title cap\" to=\"/game\"> View all</Link>\r\n            </div>\r\n        </div>\r\n\r\n        {/* <h2 className=\"container mb-20 ctg-s-title\">Popular in Game keys</h2> */}\r\n        <div className=\"video-container grid-container container\" >\r\n            {games.map(game => {\r\n                return (\r\n                    <div className=\"game-video-container\" key={`video${game._id}`}>\r\n                        <Video url={game.videoUrls[0]} > </Video>\r\n                        <Link to={`/game/${game._id}`}>{game.title}\r\n                            <div className=\"link\" >\r\n                            </div>\r\n                        </Link>\r\n                    </div>\r\n                )\r\n            })}\r\n        </div>\r\n    </>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// export function VideoGame(src) {\r\n//     return (\r\n//         <div>\r\n//             <div className=\"game-video container \">\r\n//                 <video className=\"container \" controls autoPlay={false}>\r\n//                     <source type=\"video/mp4\" src=\"https://res.cloudinary.com/dfdvfunfj/video/upload/v1579773488/m5hjco0y2owps1svf1c3.mp4?#t=0&#autoplay=1&mute=1\" />\r\n//                 </video>\r\n//             </div>\r\n//         </div>\r\n//     )\r\n// }","import { SmallGamePreview } from './DynamicCmps/SmallGamePreview.jsx'\r\nimport { MainGamePreview } from './DynamicCmps/MainGamePreview.jsx'\r\nimport { CtgList } from './DynamicCmps/CtgList.jsx';\r\nimport { VideoGame } from './DynamicCmps/VideoGame.jsx';\r\n\r\nvar gGames = []\r\nexport function DynamicCmp({ games, type = 'main', src, utilService }) {\r\n\r\n\r\n    let countGameToCut = 0\r\n    if (type === 'main') countGameToCut = 11\r\n    else if (type === 'video') countGameToCut = 2\r\n    else countGameToCut = 4\r\n\r\n    if (gGames.length < countGameToCut) gGames = [...games]\r\n\r\n\r\n    const filterGames = gGames.splice(0, countGameToCut)\r\n    const DynamicCmp = () => {\r\n        switch (type) {\r\n            case 'main':\r\n                return (\r\n                    <MainGamePreview games={filterGames} utilService={utilService} />\r\n                )\r\n            case 'video':\r\n                return (\r\n                    <VideoGame games={filterGames} />\r\n                )\r\n            case 'small':\r\n                return (<>\r\n                    <CtgList />\r\n                    {/* <div className=\"preview-container flex container mb-30 gap-20 \"> */}\r\n                    <div className=\"s-preview-container grid-container container mb-30 gap-20 \">\r\n                        {filterGames.map((game, idx) => {\r\n                            if (idx > 3) return\r\n                            return <SmallGamePreview game={game} key={game._id} />\r\n                        })}\r\n                    </div>\r\n                </>\r\n                )\r\n            default: return <></>\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"home-game-list mb-30\">\r\n            <DynamicCmp />\r\n        </div>\r\n    )\r\n}","import Axios from 'axios'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'get', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`)\r\n        console.dir(err)\r\n        if (err.response && err.response.status === 401) {\r\n            window.location.assign('/#/login')\r\n        }\r\n        throw err\r\n    }\r\n}","// import { localService } from './storage.service'\r\n// import { storageService } from './async-Storage.service'\r\nimport { httpService } from './http.service'\r\n// import { games } from '../data/game.data'\r\n\r\nexport const gameService = {\r\n    getGames,\r\n    getById,\r\n    remove,\r\n    save,\r\n    addReview\r\n}\r\n\r\nfunction getGames(filterBy = { txt: '', tag: 'all', sortBy: 'title' },) {\r\n    return httpService.get('game', filterBy)\r\n    \r\n}\r\n\r\nfunction getById(gameId) {\r\n    return httpService.get(`game/${gameId}`, gameId)\r\n    // if (filterBy.sortBy === 'title') {\r\n    //     games.sort((game1, game2) => {\r\n    //         return game1.title.localeCompare(game2.title)\r\n    //     })\r\n    // }\r\n    // if (filterBy.sortBy === 'topReviews') {\r\n    //     games.sort((game1, game2) => {\r\n    //         return game2.rating - game1.rating\r\n    //     })\r\n    // }\r\n\r\n    // if (filterBy.txt) {\r\n    //     const txtRegex = new RegExp(filterBy.txt, 'i')\r\n    //     games = games.filter(game => txtRegex.test(game.title) || txtRegex.test(game.description))\r\n    // }\r\n    // if (filterBy.tag !== 'all') {\r\n    //     games = games.filter(game => {\r\n    //         const tag = game.tags.findIndex(tag => tag === filterBy.tag)\r\n    //         if (tag > -1) return game\r\n    //     })\r\n    // }\r\n}\r\n\r\nfunction remove(gameId) {\r\n    return httpService.delete(`game/${gameId}`)\r\n}\r\nfunction save(game) {\r\n    if (game._id) {\r\n        return httpService.put(`game/${game._id}`, game)\r\n    } else {\r\n        // var newGame = createGame(game)\r\n        // return httpService.post(`game`, newGame)\r\n    }\r\n}\r\nfunction addReview(review, gameId, byUser){\r\n    return httpService.put('game/review', {review, gameId, byUser})\r\n}\r\n// localService.saveToStorage('game', games)\r\n","import { gameService } from '../../services/game.service'\r\n\r\nexport function loadGames(filterBy) {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type: 'LOADING_START' })\r\n            const games = await gameService.getGames(filterBy)\r\n            dispatch({ type: 'SET_GAMES', games })\r\n        } catch (err) {\r\n            console.log('GameActions: err in loadGames', err)\r\n        } finally {\r\n            dispatch({ type: 'LOADING_DONE' })\r\n        }\r\n    }\r\n}\r\nexport function saveGame(game) {\r\n    return async dispatch => {\r\n        try {\r\n            // const toyToSave = (!toy._id) ? await toyService.add(toy) : await toyService.update(toy)\r\n            let gameToSave\r\n            gameToSave = await gameService.save(game) //after back is runing change to add\r\n            const action = (!game._id) ? { type: 'ADD_GAME', game: gameToSave } : { type: 'UPDATE_GAME', game: gameToSave }\r\n            dispatch(action)\r\n        } catch (err) {\r\n            console.log('GamesActions: err in saveGame', err)\r\n        }\r\n    }\r\n}\r\nexport function addReview(review, gameId, loggedInUser) {\r\n    return async dispatch => {\r\n        try {\r\n            const game = await gameService.addReview(review, gameId, loggedInUser)\r\n            dispatch({ type: 'UPDATE_GAME', game })\r\n        } catch (err) {\r\n            console.log('GamesActions: err in addReview', err)\r\n        }\r\n    }\r\n}\r\nexport function removeGame(gameId) {\r\n    return async dispatch => {\r\n        try {\r\n            await gameService.remove(gameId)\r\n            dispatch({ type: 'REMOVE_GAME', gameId })\r\n        } catch (err) {\r\n            console.log('GameActions: err in removeGame', err)\r\n        }\r\n    }\r\n}","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Loader } from '../cmps/UtilCmps/Loader'\r\nimport { DynamicCmp } from '../cmps/DynamicCmp.jsx'\r\nimport { loadGames } from '../store/actions/game.actions'\r\nimport { utilService } from '../services/util.service'\r\n\r\nclass _Home extends Component {\r\n  state = {\r\n\r\n  }\r\n  componentDidMount() {\r\n    this.props.loadGames()\r\n    // this.props.loadUsers()\r\n    // service.query(filter)\r\n  }\r\n\r\n  render() {\r\n    const poster = \"https://res.cloudinary.com/dat4toc2t/image/upload/v1623183624/GameKeys/img/hero2_chf0rb.jpg\"\r\n    const { games } = this.props // Do we need main here??\r\n    if (!games) return <Loader />\r\n    return (\r\n      <div className=\"home-page \">\r\n        <div className=\"home-poster\">\r\n          <img className=\"poster mb-20 \" src={poster} alt=\"defult\"></img>\r\n        </div>\r\n        <div className=\"home-ctg mb-20\">\r\n        </div>\r\n        <DynamicCmp games={games} utilService={utilService} type={'main'} />\r\n        <DynamicCmp games={games} type={'small'} />\r\n        <DynamicCmp games={games} src={''} type={'video'} />\r\n\r\n        {/* <div className=\"game-video container \">\r\n          <video className=\"container \" controls autoPlay={false}>\r\n            <source type=\"video/mp4\" src=\"https://res.cloudinary.com/dfdvfunfj/video/upload/v1579773488/m5hjco0y2owps1svf1c3.mp4?#t=0&#autoplay=1&mute=1\" />\r\n          </video>\r\n        </div> */}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    isLoading: state.systemModule.isLoading,\r\n    games: state.gameModule.games,\r\n    // loggedInUser: state.userModule.loggedInUser\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  loadGames,\r\n}\r\n\r\nexport const Home = connect(mapStateToProps, mapDispatchToProps)(_Home)\r\n","import io from 'socket.io-client'\r\nimport {httpService} from './http.service'\r\n\r\nexport const SOCKET_EMIT_USER_WATCH = 'user-watch';\r\nexport const SOCKET_EVENT_USER_UPDATED = 'user-updated';\r\nexport const SOCKET_EVENT_REVIEW_ADDED = 'review-added';\r\n\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production')? '' : '//localhost:3030'\r\nexport const socketService = createSocketService()\r\n// export const socketService = createDummySocketService()\r\n\r\nwindow.socketService = socketService\r\n\r\nvar socketIsReady = false;\r\n// socketService.setup()\r\n\r\n\r\nfunction createSocketService() {\r\n  var socket = null;\r\n  const socketService = {\r\n    async setup() {\r\n      if (socket) return\r\n      await httpService.get('setup-session')\r\n      socket = io(baseUrl, { reconnection: false})\r\n      socketIsReady = true;\r\n    },\r\n    async on(eventName, cb) {\r\n      if (!socket) await socketService.setup()\r\n      socket.on(eventName, cb)\r\n    },\r\n    async off(eventName, cb=null) {\r\n      if (!socket) await socketService.setup()\r\n      if (!cb) socket.removeAllListeners(eventName)\r\n      else socket.off(eventName, cb)\r\n    },\r\n    async emit(eventName, data) {\r\n      if (!socket) await socketService.setup()\r\n      socket.emit(eventName, data)\r\n    },\r\n    terminate() {\r\n      socket = null\r\n      socketIsReady = false\r\n    }\r\n  }\r\n  return socketService\r\n}\r\n\r\n// eslint-disable-next-line\r\nfunction createDummySocketService() {\r\n  var listenersMap = {}\r\n  const socketService = {\r\n    listenersMap,\r\n    setup() {\r\n      listenersMap = {}\r\n    },\r\n    terminate() {\r\n      this.setup()\r\n    },\r\n    on(eventName, cb) {\r\n      listenersMap[eventName] = [...(listenersMap[eventName]) || [], cb]\r\n    },\r\n    off(eventName, cb) {\r\n      if (!listenersMap[eventName]) return\r\n      if (!cb) delete listenersMap[eventName]\r\n      else listenersMap[eventName] = listenersMap[eventName].filter(l => l !== cb)\r\n    },\r\n    emit(eventName, data) {\r\n      if (!listenersMap[eventName]) return\r\n      listenersMap[eventName].forEach(listener => {\r\n        listener(data)\r\n      })\r\n    },\r\n    debugMsg() {\r\n      this.emit('chat addMsg', {from: 'Someone', txt: 'Aha it worked!'})\r\n    },\r\n  }\r\n  return socketService\r\n}\r\n\r\n\r\n// Basic Tests\r\nfunction cb(x) {console.log(x)}\r\nsocketService.on('baba', cb)\r\nsocketService.on('mama', cb)\r\nsocketService.on('lala', cb)\r\nsocketService.emit('baba', 'DATA')\r\n// socketService.off('baba', cb)\r\n\r\n\r\n","export const users = [\r\n    {\r\n        \"_id\": \"u101\",\r\n        \"fullname\": \"Dan Danovich\",\r\n        \"imgUrl\": \"user1.jpg\",\r\n        \"isAdmin\": false,\r\n        \"username\": \"dan1\",\r\n        \"password\": \"dandan\",\r\n    },\r\n    {\r\n        \"_id\": \"u102\",\r\n        \"fullname\": \"ban banovich\",\r\n        \"imgUrl\": \"user2.jpg\",\r\n        \"isAdmin\": false,\r\n        \"username\": \"ban1\",\r\n        \"password\": \"banban\",\r\n    },\r\n    {\r\n        \"_id\": \"u103\",\r\n        \"fullname\": \"Ran Ranovich\",\r\n        \"imgUrl\": \"user3.jpg\",\r\n        \"isAdmin\": false,\r\n        \"username\": \"ran1\",\r\n        \"password\": \"ranran\",\r\n    }\r\n]","// import { localService } from './storage.service'\r\n// import { storageService } from './async-Storage.service'\r\nimport { httpService } from './http.service'\r\nimport { users } from '../data/user.data'\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getUsers,\r\n    getById,\r\n    remove,\r\n    update,\r\n    getLoggedinUser,\r\n}\r\n\r\nwindow.userService = userService\r\n// Note: due to async, must run one by one...\r\n// userService.signup({fullname: 'Puki Norma', username: 'user1', password:'123',score: 100, isAdmin: false})\r\n// userService.signup({fullname: 'Master Adminov', username: 'admin', password:'123', score: 100, isAdmin: true})\r\n\r\nfunction getUsers() {\r\n    // return storageService.query('user')\r\n    return httpService.get(`user`)\r\n}\r\n\r\nfunction getById(userId) {\r\n    // return storageService.get('user', userId)\r\n    return httpService.get(`user/${userId}`)\r\n}\r\nfunction remove(userId) {\r\n    // return storageService.remove('user', userId)\r\n    return httpService.delete(`user/${userId}`)\r\n}\r\n\r\nasync function update(user) {\r\n    // return storageService.put('user', user)\r\n    user = await httpService.put(`user/${user._id}`, user)\r\n    // Handle case in which admin updates other user's details\r\n    // if (getLoggedinUser()._id === user._id) _saveLocalUser(user)\r\n}\r\n\r\n\r\nasync function login(userCred) {\r\n    // const users = await storageService.query('user')\r\n    // const user = users.find(user => user.username === userCred.username)\r\n    // if(!user) return Promise.reject('lolo')\r\n    // return _saveLocalUser(user)\r\n\r\n    const user = await httpService.post('auth/login', userCred)\r\n    if (user) return _saveLocalUser(user)\r\n}\r\nasync function signup(userCred) {\r\n    // const user = await storageService.post('user', userCred)\r\n    const user = await httpService.post('auth/signup', userCred)\r\n    return _saveLocalUser(user)\r\n}\r\nasync function logout() {\r\n    sessionStorage.clear()\r\n    return await httpService.post('auth/logout')\r\n}\r\nfunction _saveLocalUser(user) {\r\n    sessionStorage.setItem('loggedinUser', JSON.stringify(user))\r\n    return user\r\n}\r\n\r\nfunction getLoggedinUser() {\r\n    return JSON.parse(sessionStorage.getItem('loggedinUser'))\r\n}\r\n\r\n// localService.saveToStorage('user', users)\r\n\r\n\r\n","import { userService } from '../../services/user.service'\r\n\r\n// THUNK action creators\r\n// Work asynchronously with the service and dispatch actions to the reducers \r\n\r\nexport function loadUsers() {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch({ type: 'LOADING_START' })\r\n      const users = await userService.getUsers()\r\n      dispatch({ type: 'SET_USERS', users })\r\n    } catch (err) {\r\n      console.log('UserActions: err in loadUsers', err)\r\n    } finally {\r\n      dispatch({ type: 'LOADING_DONE' })\r\n    }\r\n  }\r\n}\r\n\r\nexport function removeUser(userId) {\r\n  return async dispatch => {\r\n    try {\r\n      await userService.remove(userId)\r\n      dispatch({ type: 'REMOVE_USER', userId })\r\n    } catch (err) {\r\n      console.log('UserActions: err in removeUser', err)\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport function login(userCreds) {\r\n  return async dispatch => {\r\n    try {\r\n      const user = await userService.login(userCreds)\r\n      dispatch({ type: 'SET_USER', user })\r\n    } catch (err) {\r\n      console.log('UserActions: err in login', err)\r\n      throw err\r\n    }\r\n  }\r\n}\r\nexport function signup(userCreds) {\r\n  return async dispatch => {\r\n    try {\r\n      const user = await userService.signup(userCreds)\r\n      dispatch({ type: 'SET_USER', user })\r\n    } catch (err) {\r\n      console.log('UserActions: err in signup', err)\r\n    }\r\n  }\r\n}\r\nexport function logout() {\r\n  return async dispatch => {\r\n    try {\r\n      await userService.logout()\r\n      dispatch({ type: 'SET_USER', user: null })\r\n    } catch (err) {\r\n      console.log('UserActions: err in logout', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function userMsg(msg) {\r\n  return dispatch =>{\r\n    dispatch({ type: 'SET_MSG', msg})\r\n  }\r\n}\r\n","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { socketService } from '../services/socket.service'\r\n\r\nimport {\r\n  loadUsers,\r\n  removeUser,\r\n  login,\r\n  logout,\r\n  signup\r\n} from '../store/actions/user.actions'\r\n\r\nclass _Login extends Component {\r\n  state = {\r\n    msg: '',\r\n    loginCred: {\r\n      username: '',\r\n      password: ''\r\n    },\r\n    signupCred: {\r\n      username: '',\r\n      password: '',\r\n      fullname: ''\r\n    },\r\n    isLogIn: true\r\n  }\r\n\r\n  componentDidMount() {\r\n    // this.props.loadUsers()\r\n  }\r\n\r\n  loginHandleChange = ev => {\r\n    const { name, value } = ev.target\r\n    this.setState(prevState => ({\r\n      loginCred: {\r\n        ...prevState.loginCred,\r\n        [name]: value\r\n      }\r\n    }))\r\n  }\r\n\r\n  signupHandleChange = ev => {\r\n    const { name, value } = ev.target\r\n    this.setState(prevState => ({\r\n      signupCred: {\r\n        ...prevState.signupCred,\r\n        [name]: value\r\n      }\r\n    }))\r\n  }\r\n\r\n  doLogin = async ev => {\r\n    ev.preventDefault()\r\n    const { username, password } = this.state.loginCred\r\n    if (!username) {\r\n      return this.setState({ msg: 'Please enter user/password' })\r\n    }\r\n    const userCreds = { username, password }\r\n    try {\r\n      await this.props.login(userCreds)\r\n      socketService.emit('login', this.props.loggedInUser)\r\n      this.props.history.push(`/`)\r\n    } catch (err) {\r\n      this.setState({ msg: 'Login failed, try again.' })\r\n    }\r\n  }\r\n\r\n  doSignup = async ev => {\r\n    ev.preventDefault()\r\n    const { username, password, fullname } = this.state.signupCred\r\n    if (!username || !password || !fullname) {\r\n      return this.setState({ msg: 'All inputs are required' })\r\n    }\r\n    try {\r\n      const signupCreds = { username, password, fullname }\r\n      await this.props.signup(signupCreds)\r\n      this.props.history.push(`/`)\r\n    } catch (err) {\r\n      this.setState({ msg: 'signup failed, try again.' })\r\n    }\r\n  }\r\n  toggleLoginSignup = () => {\r\n      const { isLogIn } = this.state\r\n      this.setState({ isLogIn: !isLogIn })\r\n    }\r\n    removeUser = userId => {\r\n      this.props.removeUser(userId)\r\n    }\r\n    render() {\r\n      if (this.props.loggedInUser) return null\r\n      let signupSection = (\r\n        <div className=\"login-container\">\r\n          <form className=\"flex space-around align-center column\" onSubmit={this.doSignup}>\r\n            <h1>Signup</h1>\r\n            <label className=\"flex column\" >Full name\r\n          <input\r\n                type=\"text\"\r\n                name=\"fullname\"\r\n                value={this.state.signupCred.fullname}\r\n                onChange={this.signupHandleChange}\r\n                // placeholder=\"Full name\"\r\n                autoComplete=\"fullname\"\r\n              />\r\n            </label>\r\n\r\n            <label className=\"flex column\" >Username\r\n        <input\r\n                type=\"text\"\r\n                name=\"username\"\r\n                value={this.state.signupCred.username}\r\n                onChange={this.signupHandleChange}\r\n                // placeholder=\"Username\"\r\n                autoComplete=\"username\"\r\n              />\r\n            </label>\r\n            <label className=\"flex column  \" >Password\r\n        <input\r\n                className=\"mb-20\"\r\n                name=\"password\"\r\n                type=\"password\"\r\n                value={this.state.signupCred.password}\r\n                onChange={this.signupHandleChange}\r\n                // placeholder=\"Password\"\r\n                autoComplete=\"current-password\"\r\n              />\r\n              <button className=\"btn-join\">Signup</button>\r\n            </label>\r\n          </form>\r\n        </div>\r\n      )\r\n      let loginSection = (\r\n        <div className=\"login-container\">\r\n          <form className=\"flex space-around align-center column\" onSubmit={this.doLogin}>\r\n            <p className=\"login-title\"> SIGN IN</p>\r\n            <label className=\"flex column\" >Game keys account name\r\n          <input\r\n                type=\"text\"\r\n                name=\"username\"\r\n                value={this.state.loginCred.username}\r\n                onChange={this.loginHandleChange}\r\n              // placeholder=\"Username\"\r\n              />\r\n            </label>\r\n\r\n            <label className=\"flex column\" >Password\r\n          <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                value={this.state.loginCred.password}\r\n                onChange={this.loginHandleChange}\r\n              // placeholder=\"Password\"\r\n              />\r\n            </label>\r\n            <button className=\"btn-login mb-20 \" >Sign in</button>\r\n            <a >Forgot your password?</a>\r\n          </form>\r\n        </div>\r\n      )\r\n\r\n      const { isLogIn } = this.state\r\n      const joinImg = \"https://res.cloudinary.com/dat4toc2t/image/upload/v1623183628/GameKeys/img/join_qtv6hr.png\"\r\n      return (\r\n        <div className=\"login space-around align-center flex container mb-20\">\r\n        <div className=\"flex\">\r\n          {isLogIn && loginSection}\r\n          {!isLogIn && signupSection}\r\n        </div>\r\n        {!isLogIn && <button className=\"btn-join\"\r\n          onClick={this.toggleLoginSignup}\r\n        >Back to login</button>}\r\n\r\n        {isLogIn && <div className=\"join-container flex column align-center justify-center space-around\">\r\n          <div className=\"flex column space-between align-center\">\r\n            <p>Join Game keys and discover thousands of games to play.</p>\r\n            <Link to=\"/about\" >Learn more</Link>\r\n          </div>\r\n          {/* <img src={joinImg} alt=\"\" /> */}\r\n          <div className=\"flex justify-center column\">\r\n            <p>It's <span>free</span> and <span>easy</span>  to use.</p>\r\n            <button className=\"btn-join\"\r\n              onClick={this.toggleLoginSignup}\r\n            >Join Game keys</button>\r\n          </div>\r\n        </div>}\r\n      </div>\r\n\r\n      )\r\n    }\r\n  }\r\n\r\n  const mapStateToProps = state => {\r\n    return {\r\n      users: state.userModule.users,\r\n      loggedInUser: state.userModule.loggedInUser,\r\n      // isLoading: state.systemModule.isLoading\r\n    }\r\n  }\r\n  const mapDispatchToProps = {\r\n    login,\r\n    logout,\r\n    signup,\r\n    removeUser,\r\n    loadUsers\r\n  }\r\n\r\n  export const Login = connect(mapStateToProps, mapDispatchToProps)(_Login)\r\n","import React from 'react'\r\n\r\nexport function UserMsg({msg}) {\r\n    return (\r\n        <div className=\"user-msg\">\r\n                <p>{msg}</p>\r\n                </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Link, NavLink } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { logout } from \"../store/actions/user.actions\"\r\nimport { Screen } from \"./UtilCmps/Screen\"\r\nimport NotifyMe from 'react-notification-timeline';\r\nimport { UserMsg } from './UtilCmps/UserMsg'\r\nclass _Header extends Component {\r\n    state = {\r\n        isHidden: true,\r\n        data: []\r\n    }\r\n    // componentDidMount() {\r\n    //     if (this.props.msg) {\r\n    //         this.updateData(this.props.msg)\r\n    //     }\r\n    // }\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.msg){\r\n            if(prevProps.msg === \"You got a gift!!!\")\r\n            this.updateData(prevProps.msg);\r\n        }\r\n    }\r\n    \r\n    updateData(msg) {\r\n        const data =\r\n        {\r\n            \"update\": msg,\r\n            \"timestamp\": Date.now()\r\n        }\r\n        this.setState({ data: [...this.state.data, data] })\r\n        \r\n    }\r\n    \r\n    toggleIsHidden = () => {\r\n        const { isHidden } = this.state\r\n        this.setState({ isHidden: !isHidden })\r\n    }\r\n    \r\n    readAll = () => {\r\n        this.setState({data:[]});\r\n    }\r\n    \r\n    flexClass = 'flex space-around space-between align-center'\r\n    \r\n    onLogout = async () => {\r\n        try {\r\n            await this.props.logout()\r\n        } catch (err) {\r\n            console.log('err', err);\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        const {data} = this.state\r\n        const logo = \"https://res.cloudinary.com/dat4toc2t/image/upload/v1623183631/GameKeys/img/logo/GameKeys-BIG_k1kusx.png\"\r\n        const { loggedInUser } = this.props;\r\n        return <header className={`main-header`}>\r\n            {this.props.msg && <UserMsg msg={this.props.msg} />}\r\n            <div className={`container ${this.flexClass}`}>\r\n                {/* {this.props.msg && <div className=\"user-msg\"></div>} */}\r\n                <Link to=\"/\"><img src={logo} className=\"logo-img\" alt=\"\"></img></Link>\r\n\r\n                <nav className={`${this.flexClass} ${!this.state.isHidden && 'show'}`}>\r\n                    <div className=\"link-container\" >\r\n                        <NavLink exact to=\"/\">Home</NavLink>\r\n                        <NavLink to=\"/game\">Explore</NavLink>\r\n                        <NavLink exact to=\"/about\">About us</NavLink>\r\n                        {!loggedInUser && <Link className=\"btn-login\" to=\"/login\">Login</Link>}\r\n                    </div>\r\n\r\n                    {loggedInUser && <div className=\"user-header\">\r\n                        {/* </details> */}\r\n                    </div>}\r\n                    {/* <Screen isHidden={this.state.isHidden} toggleIsHidden={this.toggleIsHidden} /> */}\r\n                    {loggedInUser && <div className=\"user-menu-container flex \" >\r\n                        <div className=\"flex  align-center\" >\r\n                            <NotifyMe\r\n                                data={data}\r\n                                storageKey='notific_key'\r\n                                notific_key='timestamp'\r\n                                notific_value='update'\r\n                                heading='Notification Alerts'\r\n                                sortedByKey={false}\r\n                                showDate={true}\r\n                                size={18}\r\n                                color=\"#b9e4fd\"\r\n                                markAsReadFn={() => this.readAll()}\r\n                            />\r\n                            <img onClick={() => this.toggleIsHidden()} src={loggedInUser.imgUrl} alt=\"\" />\r\n                        </div>\r\n\r\n                        <div onClick={() => this.toggleIsHidden()} className={`user-menu ${this.state.isHidden && 'hidden-menu'}`}>\r\n                            <div className=\"drop-down\">\r\n                                <Link to=\"/profile\">Profile</Link>\r\n                                {loggedInUser && <a onClick={this.props.logout}>Logout:\r\n                             <span className=\"light-txt txt-cap\"> {loggedInUser.username}</span></a>}\r\n                                <a>Wishlist</a>\r\n                                <a>My store</a>\r\n                            </div>\r\n                        </div>\r\n                    </div>}\r\n                </nav>\r\n\r\n                <div onClick={() => this.toggleIsHidden()}\r\n                    className={`screen ${this.state.isHidden && 'hidden-screen'}`} >\r\n                </div>\r\n                <button className=\"btn-menu \" onClick={() => this.toggleIsHidden()}></button>\r\n            </div>\r\n        </header>\r\n    }\r\n\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    logout,\r\n}\r\n\r\n\r\nexport const Header = connect(mapStateToProps, mapDispatchToProps)(_Header)","import { Link } from 'react-router-dom'\r\nimport { utilService } from '../services/util.service'\r\n\r\nexport function GamePreview({ game }) {\r\n    const previewImg = game.imgs.largeImgUrls[0]\r\n    const finalPrice = game.price - (game.price * (game.discount/100))\r\n    const rating = utilService.renderStars(game.rating)\r\n    \r\n    return (\r\n            <Link to={`/game/${game._id}`}>\r\n                <div className=\"game-card \">\r\n                    <div className=\"card-img-preview\">\r\n                        <img src={previewImg} alt=\"game-preview-img\" className=\"img-preview\"></img>\r\n                    </div>\r\n                    <div className=\"game-info\">\r\n                        <div className=\"game-top-info\">\r\n                            <h4 className=\"preview-tag\">Seller: {game.seller.fullname}</h4>\r\n                            <div className=\"rating flex space-between\">\r\n                                {game.rating>0? <p>{rating} {`(${game.reviews.length})`}</p>: 'Not rated'}\r\n                                <p>{rating.length > 4 ? `Top-Rated` : ''}</p>\r\n                            </div>\r\n                            <h2>{game.title}</h2>\r\n                            <p className=\"small-description\">{game.sDescription}</p>\r\n                        </div>\r\n\r\n                        <div className=\"game-btm-info\">\r\n                            <h4>{game.tags.map((tag, idx) => <span className=\"preview-tag\" key={idx}>{tag}  </span>).slice(0, 3)}</h4>\r\n                            <p className=\"discount\">{game.discount? `${game.discount}%` : ''}</p>\r\n                            <div className=\"flex column\">\r\n                                <p className={(game.discount>0)? \"in-sale\":'f-price'} >${game.price.toFixed(2)}</p>\r\n                                {game.discount ? <p className=\"f-price\" >${finalPrice.toFixed(2)}</p> : ''}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n    )\r\n}","import React from 'react'\r\nimport { GamePreview } from './GamePreview'\r\n\r\nexport function GameList({ games }) {\r\n    return (\r\n        // <div className=\"game-list gap-10 container\">\r\n        <div className=\"grid-container container game-list\">\r\n            {games.map(game => <GamePreview key={game._id} game={game}/> )}\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nexport class GameFilter extends Component {\r\n    state = {\r\n        filterBy: {\r\n            txt: '',\r\n            tag: 'all',\r\n            sortBy: 'title'\r\n        },\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        let { value, name: field } = target\r\n        const { filterBy } = this.state\r\n        this.setState({ filterBy: { ...filterBy, [field]: value } }, () => {\r\n            this.props.onSetFilter(this.state.filterBy)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { txt } = this.state.filterBy\r\n        return (\r\n            <section className=\"game-filter mb-20\">\r\n                <div className=\"filter-container container flex\">\r\n                    <input className=\"game-search\" autoComplete=\"off\"\r\n                        type=\"text\" name=\"txt\" value={txt}\r\n                        placeholder=\"Search a game\" onChange={this.handleChange} />\r\n                    <select className=\"game-select tag\" name=\"tag\" onChange={this.handleChange}>\r\n                        <option value=\"all\">Tag</option>\r\n                        <option value=\"action\">Action</option>\r\n                        <option value=\"rpg\">Rpg</option>\r\n                        <option value=\"strategy\">Strategy</option>\r\n                        <option value=\"fighting\">Fighting</option>\r\n                        <option value=\"racing\">Racing</option>\r\n                        <option value=\"simulation\">Simulation</option>\r\n                        <option value=\"shooter\">Shooter</option>\r\n                        <option value=\"classic\">Classic</option>\r\n                        <option value=\"multiplayer\">Multiplayer</option>\r\n                        <option value=\"adventure\">Adventure</option>\r\n                    </select>\r\n                    <select className=\"game-select sort\" name=\"sortBy\" onChange={this.handleChange}>\r\n                        <option value=\"title\">Title</option>\r\n                        <option value=\"rating\">Top-Reviews</option>\r\n                        <option value=\"rating\">Min-Price</option>\r\n                        <option value=\"rating\">Max-Price</option>\r\n                    </select>\r\n                    {/* {this.props.children} */}\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}","import styled from \"styled-components\";\r\n\r\nexport default styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 250px;\r\n  width: 100%;\r\n  background-color: #00008B;\r\n  color: #fff;\r\n  margin: 0 15px;\r\n  font-size: 4em;\r\n`;\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { gameService } from '../services/game.service'\r\nimport { loadGames } from '../store/actions/game.actions'\r\nimport { GameList } from '../cmps/GameList'\r\nimport { GameFilter } from '../cmps/GameFilter'\r\nimport { GameCarousel } from '../cmps/UtilCmps/GameCarousel'\r\n\r\nclass _GameApp extends Component {\r\n\r\n    componentDidMount() {\r\n        const paramsString = this.props.location.search\r\n        const searchParams = new URLSearchParams(paramsString).get('tag');\r\n        if (searchParams) {\r\n            const filterBy = { tag: searchParams }\r\n            this.props.loadGames(filterBy)\r\n        } else {\r\n            this.props.loadGames()\r\n        }\r\n    }\r\n    onSetFilter = (filterBy) => {\r\n        this.props.loadGames(filterBy)\r\n    }\r\n\r\n    render() {\r\n        const { games } = this.props\r\n        const backgroundImg = \"https://res.cloudinary.com/dat4toc2t/image/upload/v1623183628/GameKeys/img/hero3_ensfhg.jpg\"\r\n        return (\r\n            <section className=\"main-explorer\">\r\n                <img className=\"poster mb-20\" src={backgroundImg} alt=\"\" />\r\n                {/* <button>Save up to 70%</button> */}\r\n                <GameFilter onSetFilter={this.onSetFilter} />\r\n                <GameList games={games} />\r\n            </section>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        isLoading: state.systemModule.isLoading,\r\n        games: state.gameModule.games,\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadGames,\r\n}\r\n\r\nexport const GameApp = connect(mapStateToProps, mapDispatchToProps)(_GameApp)","import { ReactComponent as StarSvg } from '../../assets/img/icons/star.svg'\r\n\r\nexport function Rating({ rate, handleChange, isPreview }) {\r\n  function onHandleChange(ev) {\r\n    if (!isPreview) handleChange(ev)\r\n  }\r\n  return (\r\n    <div className=\"review-rating-stars\">\r\n      <label htmlFor=\"rate-1\" className={rate >= 1 ? 'star-active' : ''}>\r\n        <StarSvg />\r\n      </label>\r\n      <input type=\"radio\" name=\"rate\" id=\"rate-1\" value={1} onChange={onHandleChange} hidden/>\r\n      <label htmlFor=\"rate-2\" className={rate >= 2 ? 'star-active' : ''}>\r\n        <StarSvg />\r\n      </label>\r\n      <input type=\"radio\" name=\"rate\" id=\"rate-2\" value={2} onChange={onHandleChange} hidden />\r\n      <label htmlFor=\"rate-3\" className={rate >= 3 ? 'star-active' : ''} >\r\n        <StarSvg />\r\n      </label>\r\n      <input type=\"radio\" name=\"rate\" id=\"rate-3\" value={3} onChange={onHandleChange} hidden />\r\n      <label htmlFor=\"rate-4\" className={rate >= 4 ? 'star-active' : ''} >\r\n        <StarSvg />\r\n      </label>\r\n      <input type=\"radio\" name=\"rate\" id=\"rate-4\" value={4} onChange={onHandleChange} hidden />\r\n      <label htmlFor=\"rate-5\" className={rate === 5 ? 'star-active' : ''}>\r\n        <StarSvg />\r\n      </label>\r\n      <input type=\"radio\" name=\"rate\" id=\"rate-5\" value={5} onChange={onHandleChange} hidden />\r\n    </div>\r\n  )\r\n}\r\n","import { Component } from 'react'\r\nimport { utilService } from '../../services/util.service'\r\nimport { Rating } from '../UtilCmps/Rating'\r\n\r\nimport { Link } from 'react-router-dom'\r\nimport { Modal } from '../UtilCmps/Modal'\r\n\r\nexport class AddReview extends Component {\r\n    state = {\r\n        review: {\r\n            rate: null,\r\n            txt: '',\r\n        }\r\n    }\r\n\r\n    handleSubmit = (ev) => {\r\n        ev.preventDefault()\r\n    }\r\n    handleChange = ({ target }) => {\r\n        const field = target.name\r\n        const value = target.type === 'radio' ? +target.value : target.value\r\n        this.setState(prevState => ({\r\n            review: {\r\n                ...prevState.review,\r\n                [field]: value\r\n            }\r\n        }))\r\n    }\r\n    onSubmit = async (ev) => {\r\n        ev.preventDefault()\r\n        const { review } = this.state\r\n        if (review.rate < 1) {\r\n            this.props.userMsg('GIVE US SOME STARS')\r\n            setTimeout(() => {\r\n                this.props.userMsg('')\r\n              }, 2000);\r\n            return\r\n        }\r\n        await this.props.onAddReview(review)\r\n        this.setState({review: {\r\n            rate: null,\r\n            txt: '',\r\n\r\n        }})\r\n    }\r\n    render() {\r\n        const { rate, txt } = this.state.review;\r\n        const { loggedInUser } = this.props\r\n        return (\r\n            <div className=\"add-review-form\">\r\n                <form onSubmit={!loggedInUser ? null : this.onSubmit}>\r\n                    <h2>Write A Review </h2>\r\n                    <h3>{loggedInUser && loggedInUser.fullname}</h3>\r\n                    <Rating rate={rate} handleChange={this.handleChange} />\r\n                    <div className=\"review-box-txt\">\r\n                    <textarea ref={this.textInput} name=\"txt\" value={txt} id=\"\" cols=\"40\" rows=\"10\" onChange={this.handleChange}></textarea>\r\n                    </div>\r\n                    <div className=\"review-btn\">\r\n                        {loggedInUser && < button className=\"btn-add-review\">Send</button>}\r\n                        {!loggedInUser && < button className=\"btn-login-review\"><Link to=\"/login\">Sign in</Link></button>}\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n\r\n    }\r\n}","import { utilService } from '../../services/util.service'\r\n\r\nexport function ReviewPreview({ review }) {\r\n    const user = review.byUser\r\n    const createdAt = new Date(review.createdAt).toLocaleDateString('en-Us', { year: 'numeric', month: 'long', day: 'numeric' })\r\n    const userImg = user.imgUrl\r\n    return (\r\n        <div className=\"review-preview\">\r\n            <div className=\"review-user-preview\">\r\n                <img src={userImg} alt=\"user-img\"></img>\r\n                <h2>{user.fullname}</h2>\r\n            </div>\r\n            <div className=\"review-game-preview\">\r\n                {utilService.renderStars(review.rate)}\r\n                <p>Posted: {createdAt}</p>\r\n                <p className=\"review-txt\">{review.txt}</p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import { ReviewPreview } from './ReviewPreview'\r\n\r\nexport function ReviewList({ reviews, }) {\r\n    return (\r\n        <div className=\"review-list\">\r\n            {reviews.map(review => <ReviewPreview review={review} key={review.id + Math.random()} />)}\r\n        </div>\r\n    )\r\n}\r\n","import { httpService } from './http.service'\r\nimport { userService } from './user.service'\r\n\r\nexport const orderService = {\r\n    getOrders,\r\n    getById,\r\n    // remove,\r\n    save,\r\n    checkIsInLibrary\r\n    // addReview\r\n}\r\n\r\nfunction getOrders(filterBy = {},) {\r\n    return httpService.get('order', filterBy)\r\n\r\n}\r\n\r\nfunction getById(orderId) {\r\n    return httpService.get(`order/${orderId}`, orderId)\r\n}\r\n\r\nfunction save(order, buyer) {\r\n    // if (order._id) {\r\n    //     return httpService.put(`order/${order._id}`, order)\r\n    // } else {\r\n    const newOrder = {\r\n        order,\r\n        buyer\r\n    }\r\n    return httpService.post(`order`, newOrder)\r\n    // }\r\n}\r\n\r\nasync function checkIsInLibrary(gameId, userId) {\r\n\r\n    const user = await userService.getById(userId)\r\n    return user.orders.some(order => order.game._id === gameId)\r\n}","import { Link } from 'react-router-dom'\r\nexport function DetailsSideBar({ loggedInUser, isInLibrary }) {\r\n    return (\r\n        <div className=\"sign-in\" >\r\n            <h2>{(loggedInUser && isInLibrary) ? 'Did you like the game' : ' Is this game relevant to you?'}</h2>\r\n            <p>{(loggedInUser && isInLibrary) ? 'Feel free to share a review and tell everyone what you think' :\r\n                `Sign in to see reasons why you may or may not\r\n                   like this based on your games, friends, \r\n                   and curators you follow.`}</p>\r\n            <div>\r\n                {!loggedInUser && <Link to=\"/login\">Sign in</Link>}\r\n                {loggedInUser && <a className=\"btn-add-review\" >Add a review</a>}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { Link } from 'react-router-dom'\r\n\r\nexport function DetailsPriceBar({ isInLibrary, game, finalPrice }) {\r\n    const { _id, discount, title, price } = game\r\n\r\n    return (\r\n        <div className=\"price-container container\">\r\n            <div>\r\n                <h2>{!isInLibrary && <span>Buy</span>} {title}</h2>\r\n                {discount > 50 && <p>WEEKEND DEAL! Offer ends in <span> 29:06:12</span></p>}\r\n            </div>\r\n\r\n            <div className=\"details-price\">\r\n                <div className=\"price-info flex \">\r\n                    {!isInLibrary && <div hidden={!discount ? true : false}>\r\n                        <p className=\"discount \">{discount ? `${discount}%` : ''}</p>\r\n                    </div>}\r\n\r\n                    {!isInLibrary && <div className=\"flex column space-evenly align-center justify-center mr-1\">\r\n                        <p className={(discount > 0) ? \"in-sale\" : 'f-price'} >${price.toFixed(2)}</p>\r\n                        {discount ? <p className=\"f-price\" >${finalPrice.toFixed(2)}</p> : ''}\r\n                    </div>}\r\n\r\n                    {isInLibrary && <Link className=\"btn btn-primary\" to=\"/profile\"> In Library</Link>}\r\n                    {!isInLibrary && <Link to={`/game/order/${_id}`} >\r\n                        <button className=\"btn-main\">Add to cart</button>\r\n                    </Link>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport function InfoBlock({ title, value }) {\r\n    return (\r\n        <div className=\"flex\">\r\n            <p className=\"dark-txt\">{title}: </p>\r\n            <p className=\"light-txt\">{value}</p>\r\n        </div>\r\n    )\r\n}\r\n","import { Link } from 'react-router-dom'\r\nimport { Video } from '../Video.jsx'\r\nimport { InfoBlock } from '../InfoBlock'\r\nexport function DetailsPanel({ game, getDateString }) {\r\n    const { imgs, videoUrls, description, releasedAt, seller, tags } = game\r\n    // const sDescription = description.slice(0, 250)\r\n    const urlImgs = imgs.largeImgUrls\r\n    return (\r\n        <div className=\"details-container container flex gap-5 mb-20\">\r\n            <div className=\"video-container\">\r\n                <div className=\"video flex column justify-center gap-5\">\r\n                    <Video url={videoUrls[0]} />\r\n                    {/* <div className=\"flex img-container gap-10\"> */}\r\n                    <div className=\"grid-container\">\r\n                        {urlImgs.map((img, idx) => {\r\n                            if (idx >= 5) return\r\n                            return <div key={'i' + idx} > <img src={urlImgs[idx+1]} alt=\"\" /></div>\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"details-info flex  \">\r\n                <div>\r\n                    <img className=\"mb-10\" src={urlImgs[0]} alt=\"\" />\r\n                    <p maxLength=\"10\" className=\"s-desc\">{description}</p>\r\n                </div>\r\n                <div>\r\n                    <InfoBlock title=\"RELEASE DATE\" value={getDateString(releasedAt)} />\r\n                    <InfoBlock title=\"Seller\" value={seller.fullname} />\r\n\r\n\r\n                    <div className=\"tag-info flex column\" >\r\n                        <p className=\"dark-txt  mb-10\"> Popular user-defined tags for this product:</p>\r\n                        <div className=\"tag-container flex justify-center gap-5 \">\r\n                            {tags.map((tag, idx) => <Link className=\"btn txt-cap\" to={`/game?tag=${tag}`} key={idx}>{tag} </Link>).slice(0, 3)}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { Link } from 'react-router-dom'\r\nexport function DetailsTopNav({ game }) {\r\n    const { tags, title } = game\r\n    return (\r\n        <div className=\"top-nav mb-2 container\">\r\n            <Link to={`/game`} >All Games  </Link> {'>'}\r\n            <Link className=\"txt-cap\" to={`/game/${tags[0]}`} >{tags[0] + '> '}  </Link>\r\n            <Link to={`/game/${title}`} >{title}</Link>\r\n        </div>\r\n    )\r\n}","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTwitter(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"512pt\",\n    viewBox: \"0 0 512 512\",\n    width: \"512pt\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m256 0c-141.363281 0-256 114.636719-256 256s114.636719 256 256 256 256-114.636719 256-256-114.636719-256-256-256zm116.886719 199.601562c.113281 2.519532.167969 5.050782.167969 7.59375 0 77.644532-59.101563 167.179688-167.183594 167.183594h.003906-.003906c-33.183594 0-64.0625-9.726562-90.066406-26.394531 4.597656.542969 9.277343.8125 14.015624.8125 27.53125 0 52.867188-9.390625 72.980469-25.152344-25.722656-.476562-47.410156-17.464843-54.894531-40.8125 3.582031.6875 7.265625 1.0625 11.042969 1.0625 5.363281 0 10.558593-.722656 15.496093-2.070312-26.886718-5.382813-47.140624-29.144531-47.140624-57.597657 0-.265624 0-.503906.007812-.75 7.917969 4.402344 16.972656 7.050782 26.613281 7.347657-15.777343-10.527344-26.148437-28.523438-26.148437-48.910157 0-10.765624 2.910156-20.851562 7.957031-29.535156 28.976563 35.554688 72.28125 58.9375 121.117187 61.394532-1.007812-4.304688-1.527343-8.789063-1.527343-13.398438 0-32.4375 26.316406-58.753906 58.765625-58.753906 16.902344 0 32.167968 7.144531 42.890625 18.566406 13.386719-2.640625 25.957031-7.53125 37.3125-14.261719-4.394531 13.714844-13.707031 25.222657-25.839844 32.5 11.886719-1.421875 23.214844-4.574219 33.742187-9.253906-7.863281 11.785156-17.835937 22.136719-29.308593 30.429687zm0 0\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTwitter);\nexport default __webpack_public_path__ + \"static/media/twitter.665d9096.svg\";\nexport { ForwardRef as ReactComponent };","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport { gameService } from '../services/game.service'\r\nimport { removeGame, saveGame, addReview } from '../store/actions/game.actions'\r\nimport { loadUsers, userMsg } from '../store/actions/user.actions'\r\nimport { Loader } from '../cmps/UtilCmps/Loader'\r\nimport { AddReview } from '../cmps/ReviewCmps/AddReview'\r\nimport { Link } from 'react-router-dom'\r\nimport { ReviewList } from '../cmps/ReviewCmps/ReviewList'\r\nimport { utilService } from '../services/util.service'\r\nimport { orderService } from '../services/order.service'\r\nimport { DetailsSideBar } from '../cmps/GameDetailsCmps/DetailsSideBar'\r\nimport { DetailsPriceBar } from '../cmps/GameDetailsCmps/DetailsPriceBar'\r\nimport { DetailsPanel } from '../cmps/GameDetailsCmps/DetailsPanel'\r\nimport { DetailsTopNav } from '../cmps/GameDetailsCmps/DetailsTopNav'\r\n\r\n\r\nclass _GameDetails extends Component {\r\n    state = {\r\n        game: null,\r\n        isInLibrary: false\r\n    }\r\n    async componentDidMount() {\r\n        this.props.loadUsers()\r\n        this.loadGame()\r\n        // if (this.props.loggedInUser) this.checkIsInLibrary()\r\n    }\r\n    async loadGame() {\r\n        const game = await gameService.getById(this.props.match.params.gameId)\r\n        this.setState({ game })\r\n        if (this.props.loggedInUser) this.checkIsInLibrary()\r\n    }\r\n    async checkIsInLibrary() {\r\n        if (!this.state.game) return\r\n        const gameId = this.state.game._id\r\n        const userId = this.props.loggedInUser._id\r\n    \r\n        const isInLibrary = await orderService.checkIsInLibrary(gameId, userId)\r\n        this.setState({ isInLibrary })\r\n    }\r\n\r\n    onRemoveGame = async (gameId) => {\r\n        await this.props.removeGame(gameId)\r\n        this.props.history.push('/Game/')\r\n    }\r\n    onAddReview = async (review) => {\r\n        let { game } = this.state\r\n        await this.props.addReview(review, game._id, this.props.loggedInUser)\r\n        this.loadGame()\r\n        this.setState({ game })\r\n    }\r\n\r\n    getDesc() {\r\n        if (this.state.game) {\r\n            const { description } = this.state.game\r\n            const descriptions = description.split('.');\r\n            let shortStr = ''\r\n            let length = 3\r\n            let newDescs = []\r\n            descriptions.forEach((desc, idx) => {\r\n                shortStr += desc + '. '\r\n                if (idx === length) {\r\n                    length += 3\r\n                    newDescs.push(shortStr)\r\n                    shortStr = ''\r\n                }\r\n            })\r\n            return newDescs\r\n        }\r\n    }\r\n    render() {\r\n        const { users, loggedInUser } = this.props\r\n        const { game, isInLibrary } = this.state\r\n        if (!game) return <Loader />\r\n        const finalPrice = utilService.getFinalPrice(game.price, game.discount)\r\n        const descriptions = this.getDesc()\r\n        return (\r\n            <section className=\"main-details \">\r\n                <DetailsTopNav game={game} />\r\n                <h1 className=\"container\" >{game.title}</h1>\r\n                <DetailsPanel game={game} getDateString={utilService.getDateString} />\r\n\r\n                <div className=\"wishlist-link container \">\r\n                    {loggedInUser && !isInLibrary && <button className=\"btn btn-light btn-outline-secondary\" >Add to wishList</button>}\r\n                    {!loggedInUser && <p><Link to={'/login'}>Sign in</Link> to add this item to your wishlist, follow it, or mark it as ignored</p>}\r\n                </div>\r\n\r\n                <div className=\"buy-container flex column gap-10 container\">\r\n                    <DetailsPriceBar isInLibrary={isInLibrary} game={game} finalPrice={finalPrice} />\r\n                    <DetailsSideBar loggedInUser={loggedInUser} isInLibrary={isInLibrary} />\r\n                </div>\r\n\r\n                <div className=\"flex mb-20 container\">\r\n\r\n                    <div className=\"desc\" >\r\n                        <p className=\"title\" >ABOUT THIS GAME</p>\r\n                        {/* {descriptions.map(desc => <p className=\"desc\" >{(desc)}</p>)} */}\r\n                        {descriptions.map((desc,idx) => {\r\n                            return (\r\n                                <div key={'desc'+idx}>\r\n                                    <p>{desc}</p>\r\n                                    <br />\r\n\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n\r\n                </div>\r\n                <div className=\"add-review container\">\r\n                    <AddReview loggedInUser={loggedInUser} onAddReview={this.onAddReview} userMsg={this.props.userMsg} />\r\n                </div>\r\n                <div className=\"reviews-container container \">\r\n                    <ReviewList reviews={game.reviews} users={users} loggedInUser={loggedInUser} />\r\n                </div>\r\n            </section >\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        users: state.userModule.users,\r\n        loggedInUser: state.userModule.loggedInUser\r\n\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadUsers,\r\n    removeGame,\r\n    saveGame,\r\n    addReview,\r\n    userMsg,\r\n}\r\nexport const GameDetails = connect(mapStateToProps, mapDispatchToProps)(_GameDetails)\r\n","export function About() {\r\n    const payments = ['MasterCard', 'Maestro', 'Visa', 'American Express', ' Diners Club', 'Sofort', 'Skrill', 'Alipay', 'Giropay', 'Neteller', 'Bitcoin']\r\n    return (\r\n        <div className=\"about\">\r\n            <div className=\"about-img flexmb-20\">\r\n                {/* <img src={mainImg} alt=\"\" /> */}\r\n                <div className=\"about-title\">\r\n                    <p>Who we are</p>\r\n                    <p>Gamers, Sellers, Buyyers & friends</p>\r\n                </div>\r\n            </div>\r\n            <p>Here at GameKeys.com, we specialise in providing you with the best digital\r\n            codes for the hottest games. Theres no need to pay full price or\r\n            wait for a game again. We combine the lowest prices with rapid\r\n            digital delivery, so you can start playing your favourite games, fast.\r\n            CDKeys.com has over 20 years of combined industry experience.\r\n            Weve taken our passion for games and created a truly innovative service\r\n            that puts gamers first.\r\n            </p>\r\n\r\n            <p>Weve made setting up an account quick and easy, so you can get your hands on the newest,\r\n            and most exciting game deals in a matter of seconds. Redeeming your digital codes is simple \r\n            and were here to help if you need any extra help.\r\n            We also know you want to make payments the way they suit you.\r\n                Thats why we offer a wide range of payment options including:</p>\r\n            <ul>\r\n                {payments.map((payment, idx) => <li key={idx}>{payment}</li>)}\r\n            </ul>\r\n            {/* <div className=\"about-img flex justify-center\">\r\n                <img src={aboutImg} alt=\"\" />\r\n            </div> */}\r\n        </div>\r\n    )\r\n\r\n\r\n}","var _path, _path2, _path3;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgInstagram(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"512pt\",\n    viewBox: \"0 0 512 512\",\n    width: \"512pt\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m305 256c0 27.0625-21.9375 49-49 49s-49-21.9375-49-49 21.9375-49 49-49 49 21.9375 49 49zm0 0\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m370.59375 169.304688c-2.355469-6.382813-6.113281-12.160157-10.996094-16.902344-4.742187-4.882813-10.515625-8.640625-16.902344-10.996094-5.179687-2.011719-12.960937-4.40625-27.292968-5.058594-15.503906-.707031-20.152344-.859375-59.402344-.859375-39.253906 0-43.902344.148438-59.402344.855469-14.332031.65625-22.117187 3.050781-27.292968 5.0625-6.386719 2.355469-12.164063 6.113281-16.902344 10.996094-4.882813 4.742187-8.640625 10.515625-11 16.902344-2.011719 5.179687-4.40625 12.964843-5.058594 27.296874-.707031 15.5-.859375 20.148438-.859375 59.402344 0 39.25.152344 43.898438.859375 59.402344.652344 14.332031 3.046875 22.113281 5.058594 27.292969 2.359375 6.386719 6.113281 12.160156 10.996094 16.902343 4.742187 4.882813 10.515624 8.640626 16.902343 10.996094 5.179688 2.015625 12.964844 4.410156 27.296875 5.0625 15.5.707032 20.144532.855469 59.398438.855469 39.257812 0 43.90625-.148437 59.402344-.855469 14.332031-.652344 22.117187-3.046875 27.296874-5.0625 12.820313-4.945312 22.953126-15.078125 27.898438-27.898437 2.011719-5.179688 4.40625-12.960938 5.0625-27.292969.707031-15.503906.855469-20.152344.855469-59.402344 0-39.253906-.148438-43.902344-.855469-59.402344-.652344-14.332031-3.046875-22.117187-5.0625-27.296874zm-114.59375 162.179687c-41.691406 0-75.488281-33.792969-75.488281-75.484375s33.796875-75.484375 75.488281-75.484375c41.6875 0 75.484375 33.792969 75.484375 75.484375s-33.796875 75.484375-75.484375 75.484375zm78.46875-136.3125c-9.742188 0-17.640625-7.898437-17.640625-17.640625s7.898437-17.640625 17.640625-17.640625 17.640625 7.898437 17.640625 17.640625c-.003906 9.742188-7.898437 17.640625-17.640625 17.640625zm0 0\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m256 0c-141.363281 0-256 114.636719-256 256s114.636719 256 256 256 256-114.636719 256-256-114.636719-256-256-256zm146.113281 316.605469c-.710937 15.648437-3.199219 26.332031-6.832031 35.683593-7.636719 19.746094-23.246094 35.355469-42.992188 42.992188-9.347656 3.632812-20.035156 6.117188-35.679687 6.832031-15.675781.714844-20.683594.886719-60.605469.886719-39.925781 0-44.929687-.171875-60.609375-.886719-15.644531-.714843-26.332031-3.199219-35.679687-6.832031-9.8125-3.691406-18.695313-9.476562-26.039063-16.957031-7.476562-7.339844-13.261719-16.226563-16.953125-26.035157-3.632812-9.347656-6.121094-20.035156-6.832031-35.679687-.722656-15.679687-.890625-20.6875-.890625-60.609375s.167969-44.929688.886719-60.605469c.710937-15.648437 3.195312-26.332031 6.828125-35.683593 3.691406-9.808594 9.480468-18.695313 16.960937-26.035157 7.339844-7.480469 16.226563-13.265625 26.035157-16.957031 9.351562-3.632812 20.035156-6.117188 35.683593-6.832031 15.675781-.714844 20.683594-.886719 60.605469-.886719s44.929688.171875 60.605469.890625c15.648437.710937 26.332031 3.195313 35.683593 6.824219 9.808594 3.691406 18.695313 9.480468 26.039063 16.960937 7.476563 7.34375 13.265625 16.226563 16.953125 26.035157 3.636719 9.351562 6.121094 20.035156 6.835938 35.683593.714843 15.675781.882812 20.683594.882812 60.605469s-.167969 44.929688-.886719 60.605469zm0 0\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgInstagram);\nexport default __webpack_public_path__ + \"static/media/instagram.a31b2bcd.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgFacebook(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    enableBackground: \"new 0 0 512 512\",\n    height: 512,\n    viewBox: \"0 0 512 512\",\n    width: 512,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m512 256c0-141.4-114.6-256-256-256s-256 114.6-256 256 114.6 256 256 256c1.5 0 3 0 4.5-.1v-199.2h-55v-64.1h55v-47.2c0-54.7 33.4-84.5 82.2-84.5 23.4 0 43.5 1.7 49.3 2.5v57.2h-33.6c-26.5 0-31.7 12.6-31.7 31.1v40.8h63.5l-8.3 64.1h-55.2v189.5c107-30.7 185.3-129.2 185.3-246.1z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFacebook);\nexport default __webpack_public_path__ + \"static/media/facebook.1e46937b.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as TwitchIcon } from '../assets/img/icons/twitter.svg'\r\nimport  {ReactComponent as Instagram} from '../assets/img/icons/instagram.svg'\r\nimport {ReactComponent as Facebook} from '../assets/img/icons/facebook.svg'\r\n\r\nconst logo = \"https://res.cloudinary.com/dat4toc2t/image/upload/v1623183631/GameKeys/img/logo/GameKeys-BIG_k1kusx.png\"\r\nexport function Footer() {\r\n  return (\r\n    <footer className=\"flex column align-center\">\r\n      <div className=\"icon-container flex mb-20  justify-center gap-10\">\r\n        <div className=\"flex align-center\">\r\n          <TwitchIcon className=\"icon\" />\r\n          <div className=\"flex column\">\r\n            <p className=\"icon-title\" >11.9k</p>\r\n            <span>Followers</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex align-center\">\r\n          <Instagram className=\"icon\" />\r\n          <div className=\"flex column\">\r\n            <p className=\"icon-title\" >48k</p>\r\n            <span>Followers</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex align-center\">\r\n          <Facebook className=\"icon\"/>\r\n          <div className=\"flex column\">\r\n            <p className=\"icon-title\" >883k</p>\r\n            <span>LIKES</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <img className=\"logo-footer\" src={logo} alt=\"\"></img>\r\n      <small>copyright gamekeys.com 2021. all rights reserved &copy;2021</small>\r\n    </footer>\r\n  )\r\n}","\r\nexport function CartPreview({ game, onRemoveCart, isCheckout }) {\r\n\r\n    const gameImg = game.imgs.largeImgUrls[0]\r\n    const finalPrice = game.price - (game.price * (game.discount/100))\r\n    return (\r\n        <div className=\"flex space-between cart-card mb-10\">\r\n            <div className=\"flex gap-10\" >\r\n                <img src={gameImg} alt=\"\" />\r\n                <p className=\"card-title\" >{game.title}</p>\r\n            </div>\r\n\r\n            <div className=\"flex column space-evenly align-center justify-center mr-5\">\r\n                {!isCheckout && <p className={game.discount? \"in-sale\" :\"f-price\" } >${game.price.toFixed(2)}</p>}\r\n                <p className=\"f-price\" >${finalPrice.toFixed(2)}</p>\r\n                {!isCheckout && <a className=\"btn-remove\" onClick={() => onRemoveCart(game._id)} >remove</a>}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { Link } from \"react-router-dom\";\r\nimport { CartPreview } from \"./CartPreview\";\r\nexport function CartList({ games, onRemoveCart, isCheckout }) {\r\n    return (\r\n        <>\r\n            {games && games.map(game => <CartPreview\r\n                key={game._id}\r\n                game={game}\r\n                onRemoveCart={onRemoveCart}\r\n                isCheckout={isCheckout}\r\n            />)}\r\n\r\n        </>\r\n    )\r\n}","import {utilService} from './util.service'\r\n\r\nexport const storageService = {\r\n    query,\r\n    get,\r\n    post,\r\n    put,\r\n    remove,\r\n    removeAll\r\n}\r\n\r\nfunction query(entityType) {\r\n    var entities = JSON.parse(localStorage.getItem(entityType)) || []\r\n    return Promise.resolve(entities)\r\n}\r\n\r\n\r\nfunction get(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => entities.find(entity => entity._id === entityId))\r\n}\r\nfunction post(entityType, newEntity) {\r\n    newEntity._id = utilService.makeId()\r\n    return query(entityType)\r\n        .then(entities => {\r\n            entities.push(newEntity)\r\n            _save(entityType, entities)\r\n            return newEntity\r\n        })\r\n}\r\n\r\nfunction put(entityType, updatedEntity) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === updatedEntity._id)\r\n            entities.splice(idx, 1, updatedEntity)\r\n            _save(entityType, entities)\r\n            return updatedEntity\r\n        })\r\n}\r\n\r\nfunction remove(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === entityId)\r\n            entities.splice(idx, 1)\r\n            _save(entityType, entities)\r\n        })\r\n}\r\nfunction removeAll(entityType) {\r\n    console.log('work');\r\n    _save(entityType, [])\r\n}\r\n\r\n\r\nfunction _save(entityType, entities) {\r\n    localStorage.setItem(entityType, JSON.stringify(entities))\r\n}\r\n","\r\nimport { storageService } from './async-Storage.service'\r\nimport { utilService } from './util.service'\r\nimport { gameService } from './game.service'\r\nimport { userService } from './user.service'\r\nconst STORAGE_KEY = 'cart'\r\n\r\nexport const cartService = {\r\n    add,\r\n    query,\r\n    remove,\r\n    getGamesByCarts,\r\n    removeAll\r\n}\r\n\r\n\r\n\r\nasync function query(filterBy) {\r\n\r\n    const carts = await storageService.query(STORAGE_KEY)\r\n    return carts\r\n}\r\nasync function remove(gameId) {\r\n    const carts = await query()\r\n    const cart = carts.find(cart => cart.game._id === gameId)\r\n\r\n    return storageService.remove(STORAGE_KEY, cart._id)\r\n}\r\nasync function removeAll(gameId) {\r\n\r\n    return storageService.removeAll(STORAGE_KEY)\r\n}\r\n\r\n    async function checkIsDuplicate(gameId) {\r\n        const carts = await query()\r\n        return carts.some(cart => cart.game._id === gameId)\r\n    }\r\n\r\n    async function add({ game, }) {\r\n        const { price, discount, title, seller, _id, serialKey } = game\r\n        const isDuplicate = await checkIsDuplicate(_id)\r\n        if (isDuplicate) return null\r\n\r\n        const img = game.imgs.largeImgUrls[0]\r\n        const cart = {\r\n            game: {\r\n                _id: game._id,\r\n                price,\r\n                discount,\r\n                title,\r\n                sellerId: seller._id,\r\n                img,\r\n                serialKey\r\n            },\r\n        }\r\n        const addedCart = storageService.post(STORAGE_KEY, cart)\r\n        return addedCart\r\n    }\r\n    async function getGamesByCarts() {\r\n        const games = await gameService.getGames()\r\n        const carts = await query()\r\n        const filterGames = carts.reduce((acc, cart) => {\r\n            const game = games.filter(game => game._id === cart.game._id)\r\n            return [...acc, ...game]\r\n        }, [])\r\n        return filterGames\r\n    }","import { Component } from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport class FriendsList extends Component {\r\n    state = {\r\n        friendId: null\r\n    }\r\n\r\n    onChoseFriend = (friendId) => {\r\n        this.setState({ friendId })\r\n    }\r\n\r\n    render() {\r\n        const { friendId } = this.state\r\n        const { frinedsList, onCheckOut, toggleModal, isOpenModal } = this.props\r\n        return (\r\n            <div className=\"friends-modal flex column space-between\">\r\n                <div>\r\n                    <h4>Chose from your friends list</h4>\r\n                    {frinedsList.map(friend => {\r\n                        return (\r\n                            <div key={`friend${friend.friendId}`}>\r\n                                <p className={`txt-cap ${(friendId === friend.friendId) && 'active'}`} onClick={() => this.onChoseFriend(friend.friendId)}>{friend.fullname}</p>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n                <div className=\"friends-btn flex justify-center gap-20 align-center\" >\r\n                    <button className=\"btn-main\" onClick={() => onCheckOut(this.state.friendId)}>Purchase</button>\r\n                    <a className=\"\" onClick={() => toggleModal(isOpenModal)}>Back</a>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import { FriendsList } from \"./FriendsList\";\r\n\r\n\r\nexport function CartInfo({ totalPrice, toggleIsCheckout, onFriendSelect, frinedsList, onCheckOut, isOpenModal, toggleModal }) {\r\n    return (\r\n        <>\r\n            <div className=\"flex space-between align-center pad-15\">\r\n                <p >Estimated total</p>\r\n                <div>\r\n                    <p className=\"f-price\" >${totalPrice}</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"flex column  space-evenly align-center justify-center mr-1 pad-15\">\r\n                <p className=\"p-3\">Is this a purchase for yourself or is it a gift? Select one to continue to checkout.</p>\r\n                <div className=\"btn-container flex gap-10  \">\r\n                    <button onClick={() => toggleIsCheckout()}\r\n                        className=\"btn-main\" >Purchase for myself</button>\r\n                    <button className=\"btn-main\" onClick={() => toggleModal(isOpenModal)}>Purchase as a gift</button>\r\n                    {/* <button className=\"gift-btn btn btn-success btn-med\" }>Purchase as a gift</button> */}\r\n                </div>\r\n            </div>\r\n            <div className=\"pad-15\">\r\n                {isOpenModal && <FriendsList\r\n                    isOpenModal={isOpenModal}\r\n                    FriendsList={FriendsList}\r\n                    onCheckOut={onCheckOut}\r\n                    frinedsList={frinedsList}\r\n                    toggleModal={toggleModal} />}\r\n                <p>All prices include VAT where applicable</p>\r\n            </div>\r\n\r\n        </>\r\n\r\n    )\r\n}\r\n","\r\nexport function CartCheckout({ totalPrice, loggedInUser, onCheckOut }) {\r\n    return (\r\n        <>\r\n            <div className=\"flex column\">\r\n                {/* <div className=\"flex space-between align-center pad-15\"> */}\r\n                <div className=\"total-price flex column align-end pad-15\">\r\n                    <div className=\"flex\" >\r\n                        <p className=\"dark-txt\" >Subtotal:</p>\r\n                        <p className=\"\" >${totalPrice}</p>\r\n                    </div>\r\n                    <div className=\"tax flex\" >\r\n                        <p className=\"dark-txt\" >Tax:</p>\r\n                        <p>0</p>\r\n                    </div>\r\n                    <div className=\"flex\" >\r\n                        <p className=\"dark-txt\" >Total:</p>\r\n                        <p className=\"f-price\" >${totalPrice}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex gap-10 pad-5\">\r\n                    <p className=\"dark-txt\">Payment method:</p>\r\n                    <p className=\"visa\" >Visa ending in 4758</p>\r\n                </div>\r\n                <div className=\"flex gap-10 pad-5 \">\r\n                    <p className=\"dark-txt\" >Gift options:</p>\r\n                    <p >This purchase is for your own account.</p>\r\n                </div>\r\n                <div className=\"flex gap-10 pad-5\">\r\n                    <p className=\"dark-txt\" >Game keys account:</p>\r\n                    <p className=\"txt-cap\" >{loggedInUser.username}</p>\r\n                </div>\r\n                <div className=\"align-end pad-15\">\r\n                    <button className=\"btn-med btn btn-success\" onClick={() => onCheckOut(loggedInUser._id)}>Purchase</button>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import { Component } from \"react\"\r\nimport { connect } from 'react-redux'\r\nimport { CartList } from \"../cmps/cartCmps/CartList\";\r\nimport { addToCart, loadCarts, removeCart, removeCarts } from \"../store/actions/cart.actions\";\r\nimport { saveOrder, } from \"../store/actions/order.actions\";\r\nimport { userMsg } from \"../store/actions/user.actions\";\r\nimport { cartService } from \"../services/cart.service\";\r\nimport { gameService } from \"../services/game.service\";\r\nimport { Modal } from \"../cmps/UtilCmps/Modal\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CartInfo } from \"../cmps/cartCmps/CartInfo\";\r\nimport { CartCheckout } from \"../cmps/cartCmps/CartCheckout\";\r\nimport { socketService } from \"../services/socket.service\";\r\n\r\nclass _GameCart extends Component {\r\n    state = {\r\n        carts: [],\r\n        games: [],\r\n        isCheckout: false,\r\n        buyToUserId: null,\r\n        frinedsList: null,\r\n        isOpenModal: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n        const game = await gameService.getById(this.props.match.params.gameId)\r\n        await this.props.addToCart(game, this.props.loggedInUser)\r\n        await this.props.loadCarts()\r\n        this.setState({ carts: this.props.carts })\r\n        const games = await cartService.getGamesByCarts(this.props.carts)\r\n        this.setState({ games })\r\n    }\r\n\r\n    onRemoveCart = async (gameId) => {\r\n        await this.props.removeCart(gameId)\r\n        const newGames = this.state.games.filter(game => game._id !== gameId)\r\n        this.setState({ games: newGames })\r\n        this.setState({ carts: this.props.carts })\r\n    }\r\n\r\n    onRemoveCarts = async () => {\r\n        await this.props.removeCarts()\r\n        this.setState({ games: [] })\r\n        this.setState({ carts: [] })\r\n    }\r\n\r\n    onCheckOut = async (buyToUserId) => {\r\n        if (!buyToUserId) return\r\n        const { carts } = this.state\r\n        const { loggedInUser } = this.props\r\n        let buyer;\r\n        if (buyToUserId !== loggedInUser._id) {\r\n            buyer = { _id: buyToUserId }\r\n            this.toggleModal(this.state.isOpenModal)\r\n        } else buyer = loggedInUser\r\n\r\n        await Promise.all(carts.map(async cart => {\r\n            const savedOrder = await this.props.saveOrder(cart, buyer)\r\n            await buyToUserId !== loggedInUser._id ? socketService.emit('giftSent', buyToUserId) : socketService.emit('orderSent', savedOrder)\r\n            // socketService.emit('orderSent',savedOrder)\r\n            // await socketService.emit('orderSent', savedOrder)\r\n            this.props.userMsg('Your purchase has been made')\r\n            setTimeout(() => {\r\n                this.props.userMsg('')\r\n                // this.props.history.push('/profile')\r\n            }, 2000);\r\n            return savedOrder\r\n        }))\r\n        localStorage.clear('cart')\r\n        return console.log('thnx for buying');\r\n    }\r\n\r\n    getTotalPrice = (games) => {\r\n        if (games) {\r\n            return games.reduce((acc, game) => {\r\n                if (!game.discount) return acc += game.price\r\n                const finalPrice = game.price - (game.price * (game.discount / 100))\r\n                return acc += finalPrice\r\n            }, 0).toFixed(2)\r\n        }\r\n        return 0\r\n    }\r\n    toggleIsCheckout = () => {\r\n        if (!this.props.loggedInUser) {\r\n            // Modal('', 'Log in to continue the purchase', 1500)\r\n            this.props.userMsg('Log in to continue the purchase')\r\n\r\n            return setTimeout(() => {\r\n                this.props.history.push('/login')\r\n                this.props.userMsg('')\r\n            }, 1500)\r\n        }\r\n        const { carts } = this.state\r\n        if (!carts.length) {\r\n            this.props.userMsg('Added to the cart')\r\n            // return Modal('', 'Added to the cart', 2000)\r\n        }\r\n        this.setState({ isCheckout: true })\r\n    }\r\n    // onPlaceOrder \r\n    onFriendSelect = (friends) => {\r\n        this.setState({ frinedsList: friends })\r\n    }\r\n    toggleModal = (isOpenModal) => {\r\n        const {friends} = this.props.loggedInUser\r\n        if(!friends) return\r\n        this.onFriendSelect(friends)\r\n        this.setState({ isOpenModal:!isOpenModal})\r\n    }\r\n    render() {\r\n        const { carts, games, isCheckout, frinedsList,isOpenModal } = this.state\r\n        const { loggedInUser } = this.props\r\n        const img1 = \"https://res.cloudinary.com/dat4toc2t/image/upload/v1623183655/GameKeys/img/background-5_t0clwl.jpg\"\r\n        const img2 = \"https://res.cloudinary.com/dat4toc2t/image/upload/v1623183651/GameKeys/img/background-1_mwtzmp.jpg\"\r\n        const totalPrice = this.getTotalPrice(games)\r\n        return (\r\n            <div className=\"cart-container container\" >\r\n\r\n                <div className=\"mb-20\">\r\n                    <Link to={`/`} >All Products  </Link> {'>'}\r\n                    <a  >Your Shopping Cart </a>\r\n                </div>\r\n\r\n                <h2 className=\"mb-20\" >YOUR SHOPPING CART</h2>\r\n\r\n                <div className=\"cart-status mb-20\">\r\n                    <p>{(!isCheckout) ? 'YOUR ITEM\\'S BEEN ADDED!' : 'Review + purchase'}\r\n                        <span className=\"triangle-down\" ></span>\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"cart-info flex gap-20\">\r\n                    <div className={`flex column gap-20 ${isCheckout && 'width-70'}`} >\r\n                        <div className=\"flex column \">\r\n                            <div className=\"flex space-between column cart-card  \">\r\n                                <CartList games={games}\r\n                                    onRemoveCart={this.onRemoveCart}\r\n                                    isCheckout={isCheckout}\r\n                                />\r\n\r\n                                {!isCheckout && <CartInfo\r\n                                    toggleModal={this.toggleModal}\r\n                                    isOpenModal={isOpenModal}\r\n                                    toggleIsCheckout={this.toggleIsCheckout}\r\n                                    totalPrice={totalPrice}\r\n                                    onFriendSelect={this.onFriendSelect}\r\n                                    frinedsList={frinedsList}\r\n                                    onCheckOut={this.onCheckOut}\r\n                                    onUpdateCarts={this.onUpdateCarts} />}\r\n\r\n                                {isCheckout && < CartCheckout\r\n                                    totalPrice={totalPrice}\r\n                                    loggedInUser={loggedInUser}\r\n                                    onCheckOut={this.onCheckOut}\r\n                                />}\r\n\r\n                            </div>\r\n\r\n                            {!isCheckout && <a onClick={() => this.onRemoveCarts()}\r\n                                className=\"align-end btn-remove\">Remove all items</a>}\r\n\r\n                            <div>\r\n                                {!isCheckout && <Link to=\"/\" className=\"btn-med btn-light\" >Continue Shopping</Link>}\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                    {!isCheckout && <div className=\"card-game flex gap-5 column\">\r\n                        <div>\r\n                            <img src={img1} alt=\"\" />\r\n                        </div>\r\n                        <div>\r\n                            <img src={img2} alt=\"\" />\r\n                        </div>\r\n                    </div>}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedInUser: state.userModule.loggedInUser,\r\n        carts: state.cartModule.carts,\r\n        msg: state.userModule.msg\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    addToCart,\r\n    loadCarts,\r\n    removeCart,\r\n    removeCarts,\r\n    saveOrder,\r\n    userMsg,\r\n}\r\n\r\nexport const GameCart = connect(mapStateToProps, mapDispatchToProps)(_GameCart)","// import { reviewService } from '../../services/review.service'\r\nimport { cartService } from '../../services/cart.service'\r\n// import { socketService, SOCKET_EVENT_REVIEW_ADDED } from '../../services/socket.service'\r\n\r\n\r\nexport function loadCarts() {\r\n    return async dispatch => {\r\n        try {\r\n            const carts = await cartService.query()\r\n            dispatch({ type: 'SET_CARTS', carts })\r\n        } catch (err) {\r\n            console.log('ReviewActions: err in loadReviews', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function addToCart(game) {\r\n    return async dispatch => {\r\n        try {\r\n            const newCart = await cartService.add({ game })\r\n            if (newCart) dispatch({ type: 'ADD_CART', cart: newCart })\r\n        } catch (err) {\r\n            console.log('CartActions: err in addCart', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function removeCart(gameId) {\r\n    return async dispatch => {\r\n        try {\r\n            await cartService.remove(gameId)\r\n            dispatch({ type: 'REMOVE_CART', gameId })\r\n        } catch (err) {\r\n            console.log('cartActions: err in remove cart', err)\r\n        }\r\n    }\r\n}\r\nexport function removeCarts() {\r\n    return async dispatch => {\r\n        try {\r\n            await cartService.removeAll()\r\n            dispatch({ type: 'REMOVE_CARTS' })\r\n        } catch (err) {\r\n            console.log('cartActions: err in remove cart', err)\r\n        }\r\n    }\r\n}\r\n","import { orderService } from '../../services/order.service'\r\n\r\nexport function loadOrders(filterBy) {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type: 'LOADING_START' })\r\n            const orders = await orderService.getOrders(filterBy)\r\n            dispatch({ type: 'SET_ORDERS', orders })\r\n        } catch (err) {\r\n            console.log('OrderActions: err in loadOrders', err)\r\n        } finally {\r\n            dispatch({ type: 'LOADING_DONE' })\r\n        }\r\n    }\r\n}\r\nexport function saveOrder(order, buyer) {\r\n    return async dispatch => {\r\n        try {\r\n            \r\n            const orderToSave = await orderService.save(order, buyer) //after back is runing change to add\r\n            const action ={ type: 'ADD_ORDER', order: orderToSave }\r\n            dispatch(action)\r\n            return orderToSave\r\n        } catch (err) {\r\n            console.log('OrdersActions: err in saveOrder', err)\r\n        }\r\n    }\r\n}\r\n","\r\nexport function UserHeader({fullname, img}) {\r\n    const backgroundImg = \"https://res.cloudinary.com/dat4toc2t/image/upload/v1623183702/GameKeys/img/user-profile-hero_cytz5i.jpg\"\r\n    const userImg = img\r\n    return (\r\n        <header>\r\n            <div className=\"user-profile-header container\">\r\n                <img className=\"hero\" src={backgroundImg} alt=\"\" />\r\n                <div>\r\n                    <img className=\"avatar\" src={userImg} alt=\"\"></img>\r\n                </div>\r\n            </div>\r\n            <h2 className=\"username-title\" >Hello {fullname}</h2>\r\n        </header>\r\n    )\r\n\r\n\r\n}","import React, { useState } from 'react';\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\nimport { Link } from 'react-router-dom'\r\n\r\n// const finalSpaceCharacters = [\r\n//   {\r\n//     id: 'gary',\r\n//     name: 'Gary Goodspeed',\r\n//     thumb: '/images/gary.png'\r\n//   },\r\n//   {\r\n//     id: 'cato',\r\n//     name: 'Little Cato',\r\n//     thumb: '/images/cato.png'\r\n//   },\r\n//   {\r\n//     id: 'kvn',\r\n//     name: 'KVN',\r\n//     thumb: '/images/kvn.png'\r\n//   },\r\n//   {\r\n//     id: 'mooncake',\r\n//     name: 'Mooncake',\r\n//     thumb: '/images/mooncake.png'\r\n//   },\r\n//   {\r\n//     id: 'quinn',\r\n//     name: 'Quinn Ergon',\r\n//     thumb: '/images/quinn.png'\r\n//   }\r\n// ]\r\n\r\nexport function DanDUserGameList({ orders, onGameClicked }) {\r\n  const [boughtGamess, updateGames] = useState(orders);\r\n\r\n  function handleOnDragEnd(result) {\r\n    if (!result.destination) return;\r\n\r\n    const items = Array.from(boughtGamess);\r\n    const [reorderedItem] = items.splice(result.source.index, 1);\r\n    items.splice(result.destination.index, 0, reorderedItem);\r\n\r\n    updateGames(items);\r\n  }\r\n  // if\r\n  return (\r\n    <DragDropContext onDragEnd={handleOnDragEnd}>\r\n      <Droppable droppableId=\"boughtGamess\" direction=\"horizontal\">\r\n        {(provided) => (\r\n          <div className=\"boughtGamess mb-20\" {...provided.droppableProps} ref={provided.innerRef}>\r\n            {boughtGamess.map(({ game }, index) => {\r\n              return (\r\n                <Draggable key={game._id} draggableId={game._id} index={index}>\r\n                  {(provided) => (\r\n                    <div onClick={() => onGameClicked(game.serialKey)} ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\r\n                      <div className=\"game-user-preview\">\r\n                        <div className=\"user-game-card\">\r\n                          <div className=\"user-game-card-img\">\r\n                            <img src={game.img} alt=\"\"></img>\r\n                          </div>\r\n                          <div className=\"user-game-title\">\r\n                            <h2>{game.title}</h2>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )\r\n                  }\r\n                </Draggable>\r\n              );\r\n            })}\r\n            {provided.placeholder}\r\n          </div>\r\n        )}\r\n      </Droppable>\r\n    </DragDropContext >\r\n  );\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport { connect } from 'react-redux'\r\nimport { loadGames } from '../store/actions/game.actions'\r\nimport { UserHeader } from '../cmps/UserCmps/UserHeader'\r\nimport { UserGameList } from '../cmps/UserCmps/UserGameList'\r\nimport { DanDUserGameList } from '../cmps/UserCmps/DanDUserGameList'\r\nimport { userService } from '../services/user.service'\r\nimport { Chart } from '../cmps/UtilCmps/Chart'\r\n\r\nclass _UserProfile extends Component {\r\n    state = {\r\n        user: null,\r\n        serialKey: '',\r\n        gamesToSell: null\r\n    }\r\n    componentDidMount = async () => {\r\n        const { loggedInUser } = this.props\r\n        if (!loggedInUser) return this.props.history.push(`/`)\r\n        const user = await userService.getById(loggedInUser._id)\r\n        this.setState({ user })\r\n        await this.props.loadGames()\r\n        const games = this.props.games\r\n        const gamesToSell = games.filter(game => game.seller._id === loggedInUser._id)\r\n        this.setState({ gamesToSell })\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const { loggedInUser } = this.props\r\n        const { user } = this.state\r\n        if (prevProps.loggedInUser !== loggedInUser) {\r\n            if (!loggedInUser) this.props.history.push(`/`)\r\n            // if (!user) this.props.history.push(`/`)\r\n        }\r\n    }\r\n    onGameClicked = (serialKey) => {\r\n        this.setState({ serialKey: serialKey })\r\n    }\r\n    render() {\r\n        const { loggedInUser } = this.props\r\n        const { user, serialKey, gamesToSell } = this.state\r\n        if (!loggedInUser) return <h1>No user to show</h1>\r\n        if (!user) return <h1>Loading</h1>\r\n        if (!gamesToSell) return <h1>Loading</h1>\r\n        return (\r\n            <section className=\"main-user-profile\">\r\n                <UserHeader fullname={user.fullname} img={user.imgUrl} />\r\n                <div className=\"user-bought-list container\">\r\n                    <h1>Games you bought</h1>\r\n                    {/* <UserGameList orders={user.orders} /> */}\r\n                    <DanDUserGameList orders={user.orders} onGameClicked={this.onGameClicked} />\r\n                </div>\r\n                <div className=\"user-sell-container container\">\r\n                    <h1>Games you sell</h1>\r\n                    <div className=\"user-sell-list\">\r\n                        {gamesToSell.map(game => <div className=\"user-sell-preview\" key={game._id}>\r\n                            <div className=\"user-sell-card\">\r\n                                <div className=\"user-sell-img\">\r\n                                    <img src={game.imgs.largeImgUrls[0]} alt=\"\"></img>\r\n                                </div>\r\n                                <div className=\"user-sell-info\">\r\n                                    <h2>{game.title}</h2>\r\n                                    <h2>Sell price: ${game.price}</h2>\r\n                                </div>\r\n                            </div>\r\n                        </div>)}\r\n                    </div>\r\n                </div>\r\n                {/* <div className=\"main-chart container\">\r\n                    <h1>Statistics</h1>\r\n                    <div className=\"chart-preview\">\r\n                        <Chart type=\"bar\" \r\n                        labels={['January','February','March','April','May','June']}\r\n                            label='Amout made in $'\r\n                            datas={[280.00,450.00,387.97,258.95,370.00,35.00]}\r\n                        />\r\n                        <Chart type=\"bar\" \r\n                        labels={['January','February','March','April','May','June']}\r\n                            label='Play time: in hours-monthly'\r\n                            datas={[72,35,112,28,56,10]}\r\n                        />\r\n                    </div>\r\n                </div> */}\r\n                {serialKey && <div className=\"game-clicked-info\">\r\n                    <h1>Your serial-key: {serialKey}</h1>\r\n                    <p>Add your key to your favorite app</p>\r\n                    <p>We advise to use GameKeys app! but we work with</p>\r\n                    <p>Steam, Google play and HBO-Games</p>\r\n                    <p>Enjoy</p>\r\n                    <botton className=\"game-user-btn\" onClick={() => this.onGameClicked('')}>GG</botton>\r\n                </div>}\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        isLoading: state.systemModule.isLoading,\r\n        games: state.gameModule.games,\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadGames,\r\n}\r\nexport const UserProfile = connect(mapStateToProps, mapDispatchToProps)(_UserProfile)","import React, { useState } from 'react';\r\nimport { Component } from 'react';\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\n// import './App.css';\r\n\r\n\r\nconst finalSpaceGames = [\r\n  {\r\n    id: 'gary',\r\n    like: 'like',\r\n    thumb: '/images/gary.png'\r\n  },\r\n  // {\r\n  //   id: 'cato',\r\n  //   like: 'unLike',\r\n  //   thumb: '/images/cato.png'\r\n  // },\r\n  // {\r\n  //   id: 'kvn',\r\n  //   name: 'KVN',\r\n  //   thumb: '/images/kvn.png'\r\n  // },\r\n  // {\r\n  //   id: 'mooncake',\r\n  //   name: 'Mooncake',\r\n  //   thumb: '/images/mooncake.png'\r\n  // },\r\n  // {\r\n  //   id: 'quinn',\r\n  //   name: 'Quinn Ergon',\r\n  //   thumb: '/images/quinn.png'\r\n  // }\r\n]\r\n\r\nexport class GameSwipe extends Component {\r\n  state = {\r\n    games: []\r\n  }\r\n  componentDidMount() {\r\n    this.setState({ games: finalSpaceGames })\r\n  }\r\n\r\n  // const [characters, updateCharacters] = useState(finalSpaceCharacters);\r\n  // const [characters, updateCharacters] = useState(finalSpaceCharacters);\r\n  // const { characters } = this.state\r\n  handleOnDragEnd = (result) => {\r\n    if (!result.destination) return;\r\n    const { games } = this.state\r\n    const items = Array.from(games);\r\n    const [reorderedItem] = items.splice(result.source.index, 1);\r\n    items.splice(result.destination.index, 0, reorderedItem);\r\n\r\n\r\n  }\r\n  moveTo(ev) {\r\n    console.log(ev.clientX);\r\n  }\r\n  render() {\r\n    const { games } = this.state\r\n    return (\r\n      <div className=\"App\" >\r\n        <header className=\"App-header\">\r\n          <h1>Final Space games</h1>\r\n          <DragDropContext onDragEnd={this.handleOnDragEnd}>\r\n            <Droppable droppableId=\"games\">\r\n              {(provided) => (\r\n                // <ul className=\"characters\" {...provided.droppableProps} ref={provided.innerRef}>\r\n                <div className=\"swipe-game games flex justify-center align-center\" {...provided.droppableProps} ref={provided.innerRef}>\r\n                  {games.map(({ id }, idx) => {\r\n                    return (\r\n                      <Draggable key={id} draggableId={id} index={idx}>\r\n                        {(provided) => (\r\n                          <div className=\"card-swipe\"\r\n                            onMouseDown={this.moveTo}\r\n                            onMouseMove={this.moveTo}\r\n                           \r\n                            onClick={this.moveTo}\r\n                            ref={provided.innerRef}\r\n                            {...provided.draggableProps}\r\n                            {...provided.dragHandleProps} ></div>\r\n                        )}\r\n                      </Draggable>\r\n                    );\r\n                  })}\r\n                  {provided.placeholder}\r\n                </div>\r\n                // </ul>\r\n\r\n              )}\r\n            </Droppable>\r\n          </DragDropContext>\r\n        </header>\r\n        <p>\r\n          Images from <a href=\"https://final-space.fandom.com/wiki/Final_Space_Wiki\">Final Space Wiki</a>\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n","import { Component } from 'react'\r\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\n\r\nimport { Home } from './pages/Home'\r\nimport { Login } from './pages/Login'\r\n// import { UserDetails } from './src/pages/UserDetails'\r\n\r\nimport { Header } from './cmps/Header'\r\nimport { GameApp } from './pages/GameApp'\r\nimport { GameDetails } from './pages/GameDetails'\r\nimport { About } from './pages/About'\r\nimport { userMsg } from './store/actions/user.actions'\r\n\r\nimport { Footer } from './cmps/Footer'\r\nimport { GameCart } from './pages/GameCart'\r\nimport { UserProfile } from './pages/UserProfile'\r\nimport { socketService } from './services/socket.service'\r\nimport { GameSwipe } from './cmps/UtilCmps/GameSwipe'\r\n\r\nclass _App extends Component {\r\n  state = {\r\n    msg: '',\r\n    isUpdate: null\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await socketService.setup()\r\n    await socketService.on('gameBought', this.onGameBought)\r\n    await socketService.on('giftBought', this.onGiftSent)\r\n    this.setState({ msg: this.props.msg })\r\n  }\r\n  componentWillUnmount() {\r\n    socketService.terminate()\r\n  }\r\n\r\n  onGameBought = async (order) => {\r\n    await this.props.userMsg('An order has been made')\r\n    this.setState({ msg: this.props.msg, isUpdate: true })\r\n    setTimeout(() => {\r\n      this.props.userMsg('')\r\n    }, 3000);\r\n    this.setState({ msg: this.props.msg })\r\n    // this.onSetMsg(\"An order has been made\" )\r\n  }\r\n\r\n  onGiftSent = async (order) => {\r\n    await this.props.userMsg('You got a gift!!!')\r\n    this.setState({ msg: this.props.msg })\r\n    setTimeout(() => {\r\n      this.props.userMsg('')\r\n    }, 3000);\r\n    this.setState({ msg: this.props.msg })\r\n    // this.onSetMsg(\"An order has been made\" )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"app\">\r\n        <Router>\r\n          <Header msg={this.props.msg} isUpdate={this.state.isUpdate}></Header>\r\n          <main className=\"\">\r\n            <Switch>\r\n              <Route path=\"/login\" component={Login} />\r\n              <Route path=\"/profile\" component={UserProfile} />\r\n              <Route path=\"/game/order/:gameId\" component={GameCart} />\r\n              <Route path=\"/game/:gameId\" component={GameDetails} />\r\n              <Route path=\"/game\" component={GameApp} />\r\n              <Route path=\"/about\" component={About} />\r\n              <Route path=\"/\" component={Home} />\r\n            </Switch>\r\n          </main>\r\n          <Footer />\r\n        </Router>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    msg: state.userModule.msg\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  userMsg,\r\n}\r\n\r\nexport const App = connect(mapStateToProps, mapDispatchToProps)(_App)\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const initialState = {\r\n  reviews: [],\r\n}\r\n\r\nexport function reviewReducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_REVIEWS':\r\n      return { ...state, reviews: action.reviews }\r\n    case 'ADD_REVIEW':\r\n      return { ...state, reviews: [...state.reviews, action.review] }\r\n    case 'REMOVE_REVIEW':\r\n      return { ...state, reviews: state.reviews.filter(review => review._id !== action.reviewId) }\r\n    case 'UPDATE_REVIEW':\r\n      return {\r\n        ...state,\r\n        reviews: state.reviews.map(review =>\r\n          review._id === action.review._id ? action.review : review\r\n        )}\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","let localLoggedinUser = null\r\nif (sessionStorage.loggedinUser) localLoggedinUser = JSON.parse(sessionStorage.loggedinUser)\r\n\r\nconst initialState = {\r\n  msg: '',\r\n  loggedInUser: localLoggedinUser,\r\n  users: []\r\n}\r\n\r\nexport function userReducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_USER':\r\n      return { ...state, loggedInUser: action.user }\r\n    case 'REMOVE_USER':\r\n      return {\r\n        ...state,\r\n        users: state.users.filter(user => user._id !== action.userId)\r\n      }\r\n    case 'SET_USERS':\r\n      return { ...state, users: action.users }\r\n    case 'SET_MSG':\r\n      return { ...state, msg: action.msg }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","const initialState = {\r\n  isLoading: false\r\n};\r\n\r\nexport function systemReducer (state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'LOADING_START':\r\n      return { ...state, isLoading: true }\r\n    case 'LOADING_DONE':\r\n      return { ...state, isLoading: false }\r\n    default: return state\r\n  }\r\n}\r\n","const initialState = {\r\n    games: [],\r\n}\r\n\r\nexport function gameReducer(state = initialState, action = {}) {\r\n    switch (action.type) {\r\n        case 'SET_GAMES':\r\n            return { ...state, games: action.games }\r\n        case 'ADD_GAME':\r\n            return { ...state, games: [...state.games, action.game] }\r\n        case 'REMOVE_GAME':\r\n            return { ...state, games: state.games.filter(game => game._id !== action.gameId) }\r\n        case 'UPDATE_GAME':\r\n            return {\r\n                ...state,\r\n                games: state.games.map(game =>\r\n                    game._id === action.game._id ? action.game : game\r\n                )\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}","\r\n\r\nconst initialState = {\r\n    carts: [],\r\n}\r\n\r\nexport function cartReducer(state = initialState, action = {}) {\r\n    const newCarts = state.carts.filter(cart => cart.gameId !== action.gameId)\r\n    switch (action.type) {\r\n        case 'SET_CARTS':\r\n            return { ...state, carts: action.carts }\r\n        case 'ADD_CART':\r\n            console.log('action', action.cart);\r\n            return { ...state, carts: [...state.carts, action.cart] }\r\n        case 'REMOVE_CART':\r\n            return { ...state, carts: state.carts.filter(cart => cart.game._id !== action.gameId) }\r\n        case 'REMOVE_CARTS':\r\n            return { ...state, carts: [] }\r\n        //   case 'REMOVE_ORDERS':\r\n        //     return { ...state, orders: []}\r\n        //   case 'UPDATE_ORDER':\r\n        //     return {\r\n        //       ...state,\r\n        //       reviews: state.reviews.map(review =>\r\n        //         review._id === action.review._id ? action.review : review\r\n        //       )}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","const initialState = {\r\n    orders: [],\r\n}\r\n\r\nexport function orderReducer(state = initialState, action = {}) {\r\n    switch (action.type) {\r\n        case 'SET_ORDERS':\r\n            return { ...state, orders: action.orders }\r\n        case 'ADD_ORDER':\r\n            return { ...state, orders: [...state.orders, action.order] }\r\n        default:\r\n            return state\r\n    }\r\n}","import { combineReducers } from 'redux'\r\nimport { reviewReducer } from './review.reducer'\r\nimport { userReducer } from './user.reducer'\r\nimport { systemReducer } from './system.reducer'\r\nimport { gameReducer } from './game.reducer'\r\nimport { cartReducer } from './cart.reducer'\r\nimport { orderReducer } from './order.reducer'\r\n\r\nexport const rootReducer = combineReducers({\r\n  systemModule: systemReducer,\r\n  reviewModule: reviewReducer,\r\n  userModule: userReducer,\r\n  gameModule: gameReducer,\r\n  cartModule:cartReducer,\r\n  orderModule:orderReducer,\r\n})\r\n","import { createStore, applyMiddleware, compose } from 'redux'\r\n\r\nimport thunk from 'redux-thunk'\r\nimport { rootReducer } from './reducers'\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n)\r\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport { App } from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport './assets/styles/main.scss'\nimport { store } from './store/store'\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n\nserviceWorkerRegistration.unregister();\n\nreportWebVitals();\n"],"sourceRoot":""}