(this.webpackJsonpe2e=this.webpackJsonpe2e||[]).push([[0],{603:function(e,t){},715:function(e,t,n){},716:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(17),s=n.n(a),c=n(16),i=n(5),o=n.n(i),l=n(7),u=n(8),d=n(9),j=n(11),p=n(10),m=n(12),h=n(19),b=n(0);function g(){return Object(b.jsx)("div",{className:"flex justify-center",children:Object(b.jsxs)("div",{className:"lds-roller",children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]})})}var f,v=n(14);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function y(e,t){var n=e.title,a=e.titleId,s=O(e,["title","titleId"]);return r.createElement("svg",x({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"star",className:"star-svg svg-inline--fa fa-star fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,f||(f=r.createElement("path",{fill:"currentColor",d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"})))}var w=r.forwardRef(y),N=(n.p,{delay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;return new Promise((function(t){setTimeout(t,e)}))},getRandomInt:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)},makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},getDateFormat:function(e){var t=new Date(e),n=t.getFullYear(),r=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()-1],a=t.getDay();0===a&&(a=1);var s=a<10?"0".concat(a):"".concat(a);return s+=" ".concat(r,", ").concat(n)},renderStars:function(e){for(var t=[],n=0;n<Math.round(e);n++)t.push(Object(b.jsx)(w,{},n));return t},getDateString:function(e){return new Date(e).toLocaleDateString("en-Us",{day:"numeric",month:"long",year:"numeric"})},getFinalPrice:function(e,t){return e-e*(t/100)}});function k(e){var t=e.game,n=t.imgs.largeImgUrls[0],r=N.getFinalPrice(t.price,t.discount);return Object(b.jsx)("div",{className:"small-game-preview space-between",children:Object(b.jsx)("div",{children:Object(b.jsxs)(m.b,{className:"hidden",to:"/game/".concat(t._id),children:[Object(b.jsx)("div",{className:"flex small-img",children:Object(b.jsx)("img",{src:n,alt:""})}),Object(b.jsxs)("div",{className:"preview-price",children:[Object(b.jsx)("p",{className:"discount",children:t.discount?"".concat(t.discount,"%"):""}),Object(b.jsxs)("div",{className:"flex column",children:[Object(b.jsxs)("p",{className:t.discount>0?"in-sale":"f-price",children:["$",t.price.toFixed(2)]}),t.discount?Object(b.jsxs)("p",{className:"f-price",children:["$",r.toFixed(2)]}):""]})]})]})})})}n(271);var S=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={games:null,gameIdx:0,imgIdx:0,classTransition:""},e.changeGameByDiff=function(t){e.setState({classTransition:""});var n=e.state,r=n.games,a=t+=n.gameIdx;a<0&&(a=r.length-1),a>=r.length&&(a=0),setTimeout((function(){return e.setState({gameIdx:a})}),100),e.toggleTransition()},e.changeImg=function(t){e.setState({imgIdx:t})},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.games;this.toggleTransition(),this.setState({games:e})}},{key:"changeGameByIdx",value:function(e){var t=this;this.setState({classTransition:""}),setTimeout((function(){return t.setState({gameIdx:e})}),100),this.toggleTransition()}},{key:"toggleTransition",value:function(){var e=this;setTimeout((function(){return e.setState({classTransition:"transition"})}),100)}},{key:"render",value:function(){var e=this,t=this.state,n=t.games,r=t.gameIdx,a=t.imgIdx,s=t.classTransition;if(!n||!n.length)return Object(b.jsx)(g,{});var c=n[r],i=c.imgs.largeImgUrls.map((function(e){return e})),o=n[r].imgs.largeImgUrls[a],l=this.props.utilService.getDateFormat(c.releasedAt),u=N.getFinalPrice(c.price,c.discount);return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"main-game-preview container mb-30",children:[Object(b.jsx)("button",{className:"btn btn-prev",onClick:function(){return e.changeGameByDiff(-1)},children:"\u276e"}),Object(b.jsx)(m.b,{to:"/game/".concat(c._id),children:Object(b.jsxs)("div",{className:"preview-container flex column",children:[Object(b.jsx)("div",{className:"m-img ".concat(s),children:Object(b.jsx)("img",{src:o,alt:""})}),Object(b.jsxs)("div",{className:"imgs-container flex column",children:[Object(b.jsx)("img",{onMouseOver:function(){return e.changeImg(1)},onMouseLeave:function(){return e.changeImg(0)},className:s,src:i[1]}),Object(b.jsx)("img",{onMouseOver:function(){return e.changeImg(2)},onMouseLeave:function(){return e.changeImg(0)},className:s,src:i[2]}),Object(b.jsx)("h2",{children:c.title}),Object(b.jsxs)("p",{children:["Release date:",l]})]}),Object(b.jsxs)("div",{className:"imgs-container flex column space-between",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{onMouseOver:function(){return e.changeImg(3)},onMouseLeave:function(){return e.changeImg(0)},className:s,src:i[3]}),Object(b.jsx)("img",{onMouseOver:function(){return e.changeImg(4)},onMouseLeave:function(){return e.changeImg(0)},className:s,src:i[4]})]}),Object(b.jsxs)("div",{className:"preview-price",children:[Object(b.jsx)("p",{className:"discount ".concat(!c.discount&&"hidden"),children:c.discount?"".concat(c.discount,"%"):"1"}),Object(b.jsxs)("div",{className:"price-container flex column",children:[Object(b.jsxs)("p",{className:"in-sale ".concat(!c.discount&&"hidden"),children:["$",c.price.toFixed(2)]}),Object(b.jsxs)("p",{className:"f-price ",children:["$",u.toFixed(2)]})]})]}),Object(b.jsx)("button",{className:"btn-main txt-cap",children:"Get it today"})]})]})}),Object(b.jsx)("button",{className:" btn btn-next",onClick:function(){return e.changeGameByDiff(1)},children:" \u276f"})]}),Object(b.jsx)("div",{className:"carousel-nav flex justify-center",children:n.map((function(t,n){return Object(b.jsx)("div",{onClick:function(){return e.changeGameByIdx(n)},className:"item ".concat(r===n&&"active"," ")},"ball"+n)}))})]})})}}]),n}(r.Component);function I(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{className:"ctg-s-title mb-20 container",children:"Browse game keys"}),Object(b.jsxs)("div",{className:"ctg-list  flex container gap-20 mb-30",children:[Object(b.jsx)(m.b,{className:"btn-big ",to:"/game?tag=adventure",children:"Adventure"}),Object(b.jsx)(m.b,{className:"btn-big ",to:"/game?tag=racing",children:"Racing"}),Object(b.jsx)(m.b,{className:"btn-big ",to:"/game?tag=action",children:"Action"}),Object(b.jsx)(m.b,{className:"btn-big ",to:"/game?tag=sports",children:"Sports"})]}),Object(b.jsxs)("div",{className:"container flex space-between",children:[Object(b.jsx)("h2",{className:"mb-20 ctg-s-title ",children:"Best sellers"}),Object(b.jsx)("div",{children:Object(b.jsx)(m.b,{className:"btn btn-view align-end  title cap",to:"/game",children:" View all"})})]})]})}function C(e){var t=e.url;return Object(b.jsx)("div",{className:"video-responsive",children:Object(b.jsx)("iframe",{autoPlay:!0,width:"853",height:"480",src:t,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Embedded youtube"})})}function E(e){var t=e.games;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"video-ctg container flex space-between",children:[Object(b.jsx)("h2",{className:"mb-20 ctg-s-title ",children:"Popular in Game keys"}),Object(b.jsx)("div",{children:Object(b.jsx)(m.b,{className:"btn btn-view align-end  title cap",to:"/game",children:" View all"})})]}),Object(b.jsx)("div",{className:"video-container grid-container container",children:t.map((function(e){return Object(b.jsxs)("div",{className:"game-video-container",children:[Object(b.jsx)(C,{url:e.videoUrls[0],children:" "}),Object(b.jsxs)(m.b,{to:"/game/".concat(e._id),children:[e.title,Object(b.jsx)("div",{className:"link"})]})]},"video".concat(e._id))}))})]})}var _=[];function A(e){var t=e.games,n=e.type,r=void 0===n?"main":n,a=(e.src,e.utilService),s=0;s="main"===r?11:"video"===r?2:4,_.length<s&&(_=Object(v.a)(t));var c=_.splice(0,s),i=function(){switch(r){case"main":return Object(b.jsx)(S,{games:c,utilService:a});case"video":return Object(b.jsx)(E,{games:c});case"small":return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(I,{}),Object(b.jsx)("div",{className:"s-preview-container grid-container container mb-30 gap-20 ",children:c.map((function(e,t){if(!(t>3))return Object(b.jsx)(k,{game:e},e._id)}))})]});default:return Object(b.jsx)(b.Fragment,{})}};return Object(b.jsx)("div",{className:"home-game-list mb-30",children:Object(b.jsx)(i,{})})}var M=n(245),G="/api/",U=n.n(M).a.create({withCredentials:!0}),D=function(e,t){return F(e,"GET",t)},T=function(e,t){return F(e,"POST",t)},R=function(e,t){return F(e,"PUT",t)},L=function(e,t){return F(e,"DELETE",t)};function F(e){return P.apply(this,arguments)}function P(){return(P=Object(l.a)(o.a.mark((function e(t){var n,r,a,s=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"get",r=s.length>2&&void 0!==s[2]?s[2]:null,e.prev=2,e.next=5,U({url:"".concat(G).concat(t),method:n,data:r,params:"GET"===n?r:null});case 5:return a=e.sent,e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(n,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(r)),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&window.location.assign("/#/login"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var B={getGames:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{txt:"",tag:"all",sortBy:"title"};return D("game",e)},getById:function(e){return D("game/".concat(e),e)},remove:function(e){return L("game/".concat(e))},save:function(e){if(e._id)return R("game/".concat(e._id),e)},addReview:function(e,t,n){return R("game/review",{review:e,gameId:t,byUser:n})},getEmptyGame:function(){return{title:"",price:0}}};function K(e){return function(){var t=Object(l.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"LOADING_START"}),t.next=4,B.getGames(e);case 4:r=t.sent,n({type:"SET_GAMES",games:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("GameActions: err in loadGames",t.t0);case 11:return t.prev=11,n({type:"LOADING_DONE"}),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()}function H(e){return function(){var t=Object(l.a)(o.a.mark((function t(n){var r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.save(e);case 3:r=t.sent,a=e._id?{type:"UPDATE_GAME",game:r}:{type:"ADD_GAME",game:r},n(a),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("GamesActions: err in saveGame",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}var V=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.loadGames()}},{key:"render",value:function(){var e=this.props.games;return e?Object(b.jsxs)("div",{className:"home-page ",children:[Object(b.jsx)("div",{className:"home-poster",children:Object(b.jsx)("img",{className:"poster mb-20 ",src:"https://res.cloudinary.com/dat4toc2t/image/upload/v1623183624/GameKeys/img/hero2_chf0rb.jpg",alt:"defult"})}),Object(b.jsx)("div",{className:"home-ctg mb-20"}),Object(b.jsx)(A,{games:e,utilService:N,type:"main"}),Object(b.jsx)(A,{games:e,type:"small"}),Object(b.jsx)(A,{games:e,src:"",type:"video"})]}):Object(b.jsx)(g,{})}}]),n}(r.Component);var z={loadGames:K},W=Object(c.b)((function(e){return{isLoading:e.systemModule.isLoading,games:e.gameModule.games}}),z)(V),$=n(15),J=n(6),Y=n(246),q=n.n(Y),X=function(){var e=null,t={setup:function(){return Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,D("setup-session");case 4:e=q()("",{reconnection:!1}),!0;case 6:case"end":return t.stop()}}),t)})))()},on:function(n,r){return Object(l.a)(o.a.mark((function a(){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e){a.next=3;break}return a.next=3,t.setup();case 3:e.on(n,r);case 4:case"end":return a.stop()}}),a)})))()},off:function(n){var r=arguments;return Object(l.a)(o.a.mark((function a(){var s;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s=r.length>1&&void 0!==r[1]?r[1]:null,e){a.next=4;break}return a.next=4,t.setup();case 4:s?e.off(n,s):e.removeAllListeners(n);case 5:case"end":return a.stop()}}),a)})))()},emit:function(n,r){return Object(l.a)(o.a.mark((function a(){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e){a.next=3;break}return a.next=3,t.setup();case 3:e.emit(n,r);case 4:case"end":return a.stop()}}),a)})))()},terminate:function(){e=null,!1}};return t}();window.socketService=X;function Q(e){console.log(e)}X.on("baba",Q),X.on("mama",Q),X.on("lala",Q),X.emit("baba","DATA");var Z={login:function(e){return te.apply(this,arguments)},logout:function(){return re.apply(this,arguments)},signup:function(e){return ne.apply(this,arguments)},getUsers:function(){return D("user")},getById:function(e){return D("user/".concat(e))},remove:function(e){return L("user/".concat(e))},update:function(e){return ee.apply(this,arguments)},getLoggedinUser:function(){return JSON.parse(sessionStorage.getItem("loggedinUser"))}};function ee(){return(ee=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("user/".concat(t._id),t);case 2:t=e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T("auth/login",t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",ae(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return(ne=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T("auth/signup",t);case 2:return n=e.sent,e.abrupt("return",ae(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage.clear(),e.next=3,T("auth/logout");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return sessionStorage.setItem("loggedinUser",JSON.stringify(e)),e}function se(){return function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOADING_START"}),e.next=4,Z.getUsers();case 4:n=e.sent,t({type:"SET_USERS",users:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("UserActions: err in loadUsers",e.t0);case 11:return e.prev=11,t({type:"LOADING_DONE"}),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()}function ce(e){return function(){var t=Object(l.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.login(e);case 3:r=t.sent,n({type:"SET_USER",user:r}),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),console.log("UserActions: err in login",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function ie(){return function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.logout();case 3:t({type:"SET_USER",user:null}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("UserActions: err in logout",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}function oe(e){return function(t){t({type:"SET_MSG",msg:e})}}window.userService=Z;var le=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={msg:"",loginCred:{username:"",password:""},signupCred:{username:"",password:"",fullname:""},isLogIn:!0},e.loginHandleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState((function(e){return{loginCred:Object(J.a)(Object(J.a)({},e.loginCred),{},Object($.a)({},r,a))}}))},e.signupHandleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState((function(e){return{signupCred:Object(J.a)(Object(J.a)({},e.signupCred),{},Object($.a)({},r,a))}}))},e.doLogin=function(){var t=Object(l.a)(o.a.mark((function t(n){var r,a,s,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=e.state.loginCred,a=r.username,s=r.password,a){t.next=4;break}return t.abrupt("return",e.setState({msg:"Please enter user/password"}));case 4:return c={username:a,password:s},t.prev=5,t.next=8,e.props.login(c);case 8:X.emit("login",e.props.loggedInUser),e.props.history.push("/"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e.setState({msg:"Login failed, try again."});case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e){return t.apply(this,arguments)}}(),e.doSignup=function(){var t=Object(l.a)(o.a.mark((function t(n){var r,a,s,c,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=e.state.signupCred,a=r.username,s=r.password,c=r.fullname,a&&s&&c){t.next=4;break}return t.abrupt("return",e.setState({msg:"All inputs are required"}));case 4:return t.prev=4,i={username:a,password:s,fullname:c},t.next=8,e.props.signup(i);case 8:e.props.history.push("/"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),e.setState({msg:"signup failed, try again."});case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}(),e.toggleLoginSignup=function(){var t=e.state.isLogIn;e.setState({isLogIn:!t})},e.removeUser=function(t){e.props.removeUser(t)},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){if(this.props.loggedInUser)return null;var e=Object(b.jsx)("div",{className:"login-container",children:Object(b.jsxs)("form",{className:"flex space-around align-center column",onSubmit:this.doSignup,children:[Object(b.jsx)("h1",{children:"Signup"}),Object(b.jsxs)("label",{className:"flex column",children:["Full name",Object(b.jsx)("input",{type:"text",name:"fullname",value:this.state.signupCred.fullname,onChange:this.signupHandleChange,autoComplete:"fullname"})]}),Object(b.jsxs)("label",{className:"flex column",children:["Username",Object(b.jsx)("input",{type:"text",name:"username",value:this.state.signupCred.username,onChange:this.signupHandleChange,autoComplete:"username"})]}),Object(b.jsxs)("label",{className:"flex column  ",children:["Password",Object(b.jsx)("input",{className:"mb-20",name:"password",type:"password",value:this.state.signupCred.password,onChange:this.signupHandleChange,autoComplete:"current-password"}),Object(b.jsx)("button",{className:"btn-join",children:"Signup"})]})]})}),t=Object(b.jsx)("div",{className:"login-container",children:Object(b.jsxs)("form",{className:"flex space-around align-center column",onSubmit:this.doLogin,children:[Object(b.jsx)("p",{className:"login-title",children:" SIGN IN"}),Object(b.jsxs)("label",{className:"flex column",children:["Game keys account name",Object(b.jsx)("input",{type:"text",name:"username",value:this.state.loginCred.username,onChange:this.loginHandleChange})]}),Object(b.jsxs)("label",{className:"flex column",children:["Password",Object(b.jsx)("input",{type:"password",name:"password",value:this.state.loginCred.password,onChange:this.loginHandleChange})]}),Object(b.jsx)("button",{className:"btn-login mb-20 ",children:"Sign in"}),Object(b.jsx)("a",{children:"Forgot your password?"})]})}),n=this.state.isLogIn;return Object(b.jsxs)("div",{className:"login space-around align-center flex container mb-20",children:[Object(b.jsxs)("div",{className:"flex",children:[n&&t,!n&&e]}),!n&&Object(b.jsx)("button",{className:"btn-join",onClick:this.toggleLoginSignup,children:"Back to login"}),n&&Object(b.jsxs)("div",{className:"join-container flex column align-center justify-center space-around",children:[Object(b.jsxs)("div",{className:"flex column space-between align-center",children:[Object(b.jsx)("p",{children:"Join Game keys and discover thousands of games to play."}),Object(b.jsx)(m.b,{to:"/about",children:"Learn more"})]}),Object(b.jsxs)("div",{className:"flex justify-center column",children:[Object(b.jsxs)("p",{children:["It's ",Object(b.jsx)("span",{children:"free"})," and ",Object(b.jsx)("span",{children:"easy"}),"  to use."]}),Object(b.jsx)("button",{className:"btn-join",onClick:this.toggleLoginSignup,children:"Join Game keys"})]})]})]})}}]),n}(r.Component),ue={login:ce,logout:ie,signup:function(e){return function(){var t=Object(l.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.signup(e);case 3:r=t.sent,n({type:"SET_USER",user:r}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("UserActions: err in signup",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},removeUser:function(e){return function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.remove(e);case 3:n({type:"REMOVE_USER",userId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("UserActions: err in removeUser",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},loadUsers:se},de=Object(c.b)((function(e){return{users:e.userModule.users,loggedInUser:e.userModule.loggedInUser}}),ue)(le);var je=n(257);function pe(e){var t=e.msg;return Object(b.jsx)("div",{className:"user-msg",children:Object(b.jsx)("p",{children:t})})}var me=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={isHidden:!0,data:[]},e.toggleIsHidden=function(){var t=e.state.isHidden;e.setState({isHidden:!t})},e.readAll=function(){e.setState({data:[]})},e.flexClass="flex space-around space-between align-center",e.onLogout=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.logout();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log("err",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),e}return Object(d.a)(n,[{key:"componentDidUpdate",value:function(e,t){e.msg&&"You got a gift!!!"===e.msg&&this.updateData(e.msg)}},{key:"updateData",value:function(e){var t={update:e,timestamp:Date.now()};this.setState({data:[].concat(Object(v.a)(this.state.data),[t])})}},{key:"render",value:function(){var e=this,t=this.state.data,n=this.props.loggedInUser;return Object(b.jsxs)("header",{className:"main-header",children:[this.props.msg&&Object(b.jsx)(pe,{msg:this.props.msg}),Object(b.jsxs)("div",{className:"container ".concat(this.flexClass),children:[Object(b.jsx)(m.b,{to:"/",children:Object(b.jsx)("img",{src:"https://res.cloudinary.com/dat4toc2t/image/upload/v1623183631/GameKeys/img/logo/GameKeys-BIG_k1kusx.png",className:"logo-img",alt:""})}),Object(b.jsxs)("nav",{className:"".concat(this.flexClass," ").concat(!this.state.isHidden&&"show"),children:[Object(b.jsxs)("div",{className:"link-container",children:[Object(b.jsx)(m.c,{exact:!0,to:"/",children:"Home"}),Object(b.jsx)(m.c,{to:"/game",children:"Explore"}),Object(b.jsx)(m.c,{exact:!0,to:"/about",children:"About us"}),!n&&Object(b.jsx)(m.b,{className:"btn-login",to:"/login",children:"Login"})]}),n&&Object(b.jsx)("div",{className:"user-header"}),n&&Object(b.jsxs)("div",{className:"user-menu-container flex ",children:[Object(b.jsxs)("div",{className:"flex  align-center",children:[Object(b.jsx)(je.a,{data:t,storageKey:"notific_key",notific_key:"timestamp",notific_value:"update",heading:"Notification Alerts",sortedByKey:!1,showDate:!0,size:18,color:"#b9e4fd",markAsReadFn:function(){return e.readAll()}}),Object(b.jsx)("img",{onClick:function(){return e.toggleIsHidden()},src:n.imgUrl,alt:""})]}),Object(b.jsx)("div",{onClick:function(){return e.toggleIsHidden()},className:"user-menu ".concat(this.state.isHidden&&"hidden-menu"),children:Object(b.jsxs)("div",{className:"drop-down",children:[Object(b.jsx)(m.b,{to:"/profile",children:"Profile"}),n&&Object(b.jsxs)("a",{onClick:this.props.logout,children:["Logout:",Object(b.jsxs)("span",{className:"light-txt txt-cap",children:[" ",n.username]})]}),Object(b.jsx)("a",{children:"Wishlist"}),Object(b.jsx)("a",{children:"My store"})]})})]})]}),Object(b.jsx)("div",{onClick:function(){return e.toggleIsHidden()},className:"screen ".concat(this.state.isHidden&&"hidden-screen")}),Object(b.jsx)("button",{className:"btn-menu ",onClick:function(){return e.toggleIsHidden()},children:"\u2630"})]})]})}}]),n}(r.Component),he={logout:ie},be=Object(c.b)((function(e){return{loggedInUser:e.userModule.loggedInUser}}),he)(me);function ge(e){var t=e.game,n=t.imgs.largeImgUrls[0],r=t.price-t.price*(t.discount/100),a=N.renderStars(t.rating);return Object(b.jsx)(m.b,{to:"/game/".concat(t._id),children:Object(b.jsxs)("div",{className:"game-card ",children:[Object(b.jsx)("div",{className:"card-img-preview",children:Object(b.jsx)("img",{src:n,alt:"game-preview-img",className:"img-preview"})}),Object(b.jsxs)("div",{className:"game-info",children:[Object(b.jsxs)("div",{className:"game-top-info",children:[Object(b.jsxs)("h4",{className:"preview-tag",children:["Seller: ",t.seller.fullname]}),Object(b.jsxs)("div",{className:"rating flex space-between",children:[t.rating>0?Object(b.jsxs)("p",{children:[a," ","(".concat(t.reviews.length,")")]}):"Not rated",Object(b.jsx)("p",{children:a.length>4?"Top-Rated":""})]}),Object(b.jsx)("h2",{children:t.title}),Object(b.jsx)("p",{className:"small-description",children:t.sDescription})]}),Object(b.jsxs)("div",{className:"game-btm-info",children:[Object(b.jsx)("h4",{children:t.tags.map((function(e,t){return Object(b.jsxs)("span",{className:"preview-tag",children:[e,"  "]},t)})).slice(0,3)}),Object(b.jsx)("p",{className:"discount",children:t.discount?"".concat(t.discount,"%"):""}),Object(b.jsxs)("div",{className:"flex column",children:[Object(b.jsxs)("p",{className:t.discount>0?"in-sale":"f-price",children:["$",t.price.toFixed(2)]}),t.discount?Object(b.jsxs)("p",{className:"f-price",children:["$",r.toFixed(2)]}):""]})]})]})]})})}function fe(e){var t=e.games;return Object(b.jsx)("div",{className:"grid-container container game-list",children:t.map((function(e){return Object(b.jsx)(ge,{game:e},e._id)}))})}var ve,xe=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={filterBy:{txt:"",tag:"all",sortBy:"title"}},e.handleChange=function(t){var n=t.target,r=n.value,a=n.name,s=e.state.filterBy;e.setState({filterBy:Object(J.a)(Object(J.a)({},s),{},Object($.a)({},a,r))},(function(){e.props.onSetFilter(e.state.filterBy)}))},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.state.filterBy.txt;return Object(b.jsx)("section",{className:"game-filter mb-20",children:Object(b.jsxs)("div",{className:"filter-container container flex",children:[Object(b.jsx)("input",{className:"game-search",autoComplete:"off",type:"text",name:"txt",value:e,placeholder:"Search a game",onChange:this.handleChange}),Object(b.jsxs)("select",{className:"game-select tag",name:"tag",onChange:this.handleChange,children:[Object(b.jsx)("option",{value:"all",children:"Tag"}),Object(b.jsx)("option",{value:"action",children:"Action"}),Object(b.jsx)("option",{value:"rpg",children:"Rpg"}),Object(b.jsx)("option",{value:"strategy",children:"Strategy"}),Object(b.jsx)("option",{value:"fighting",children:"Fighting"}),Object(b.jsx)("option",{value:"racing",children:"Racing"}),Object(b.jsx)("option",{value:"simulation",children:"Simulation"}),Object(b.jsx)("option",{value:"shooter",children:"Shooter"}),Object(b.jsx)("option",{value:"classic",children:"Classic"}),Object(b.jsx)("option",{value:"multiplayer",children:"Multiplayer"}),Object(b.jsx)("option",{value:"adventure",children:"Adventure"})]}),Object(b.jsxs)("select",{className:"game-select sort",name:"sortBy",onChange:this.handleChange,children:[Object(b.jsx)("option",{value:"title",children:"Title"}),Object(b.jsx)("option",{value:"rating",children:"Top-Reviews"}),Object(b.jsx)("option",{value:"rating",children:"Min-Price"}),Object(b.jsx)("option",{value:"rating",children:"Max-Price"})]})]})})}}]),n}(r.Component),Oe=(n(258),n(252));n(39).a.div(ve||(ve=Object(Oe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 250px;\n  width: 100%;\n  background-color: #00008B;\n  color: #fff;\n  margin: 0 15px;\n  font-size: 4em;\n"])));var ye=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onSetFilter=function(t){e.props.loadGames(t)},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0);var e=this.props.location.search,t=new URLSearchParams(e).get("tag");if(t){var n={tag:t};this.props.loadGames(n)}else this.props.loadGames()}},{key:"render",value:function(){var e=this.props.games;return Object(b.jsxs)("section",{className:"main-explorer",children:[Object(b.jsx)("img",{className:"poster mb-20",src:"https://res.cloudinary.com/dat4toc2t/image/upload/v1623183628/GameKeys/img/hero3_ensfhg.jpg",alt:""}),Object(b.jsx)(xe,{onSetFilter:this.onSetFilter}),Object(b.jsx)(fe,{games:e})]})}}]),n}(r.Component),we={loadGames:K},Ne=Object(c.b)((function(e){return{isLoading:e.systemModule.isLoading,games:e.gameModule.games,loggedInUser:e.userModule.loggedInUser}}),we)(ye);function ke(e){var t=e.rate,n=e.handleChange,r=e.isPreview;function a(e){r||n(e)}return Object(b.jsxs)("div",{className:"review-rating-stars",children:[Object(b.jsx)("label",{htmlFor:"rate-1",className:t>=1?"star-active":"",children:Object(b.jsx)(w,{})}),Object(b.jsx)("input",{type:"radio",name:"rate",id:"rate-1",value:1,onChange:a,hidden:!0}),Object(b.jsx)("label",{htmlFor:"rate-2",className:t>=2?"star-active":"",children:Object(b.jsx)(w,{})}),Object(b.jsx)("input",{type:"radio",name:"rate",id:"rate-2",value:2,onChange:a,hidden:!0}),Object(b.jsx)("label",{htmlFor:"rate-3",className:t>=3?"star-active":"",children:Object(b.jsx)(w,{})}),Object(b.jsx)("input",{type:"radio",name:"rate",id:"rate-3",value:3,onChange:a,hidden:!0}),Object(b.jsx)("label",{htmlFor:"rate-4",className:t>=4?"star-active":"",children:Object(b.jsx)(w,{})}),Object(b.jsx)("input",{type:"radio",name:"rate",id:"rate-4",value:4,onChange:a,hidden:!0}),Object(b.jsx)("label",{htmlFor:"rate-5",className:5===t?"star-active":"",children:Object(b.jsx)(w,{})}),Object(b.jsx)("input",{type:"radio",name:"rate",id:"rate-5",value:5,onChange:a,hidden:!0})]})}n(253),n(153);var Se=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={review:{rate:null,txt:""}},e.handleSubmit=function(e){e.preventDefault()},e.handleChange=function(t){var n=t.target,r=n.name,a="radio"===n.type?+n.value:n.value;e.setState((function(e){return{review:Object(J.a)(Object(J.a)({},e.review),{},Object($.a)({},r,a))}}))},e.onSubmit=function(){var t=Object(l.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!((r=e.state.review).rate<1)){t.next=6;break}return e.props.userMsg("GIVE US SOME STARS"),setTimeout((function(){e.props.userMsg("")}),2e3),t.abrupt("return");case 6:return t.next=8,e.props.onAddReview(r);case 8:e.setState({review:{rate:null,txt:""}});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.state.review,t=e.rate,n=e.txt,r=this.props.loggedInUser;return Object(b.jsx)("div",{className:"add-review-form",children:Object(b.jsxs)("form",{onSubmit:r?this.onSubmit:null,children:[Object(b.jsx)("h2",{children:"Write A Review "}),Object(b.jsx)("h3",{children:r&&r.fullname}),Object(b.jsx)(ke,{rate:t,handleChange:this.handleChange}),Object(b.jsx)("div",{className:"review-box-txt",children:Object(b.jsx)("textarea",{ref:this.textInput,name:"txt",value:n,id:"",cols:"40",rows:"10",onChange:this.handleChange})}),Object(b.jsxs)("div",{className:"review-btn",children:[r&&Object(b.jsx)("button",{className:"btn-add-review",children:"Send"}),!r&&Object(b.jsx)("button",{className:"btn-login-review",children:Object(b.jsx)(m.b,{to:"/login",children:"Sign in"})})]})]})})}}]),n}(r.Component);function Ie(e){var t=e.review,n=t.byUser,r=new Date(t.createdAt).toLocaleDateString("en-Us",{year:"numeric",month:"long",day:"numeric"}),a=n.imgUrl;return Object(b.jsxs)("div",{className:"review-preview",children:[Object(b.jsxs)("div",{className:"review-user-preview",children:[Object(b.jsx)("img",{src:a,alt:"user-img"}),Object(b.jsx)("h2",{children:n.fullname})]}),Object(b.jsxs)("div",{className:"review-game-preview",children:[N.renderStars(t.rate),Object(b.jsxs)("p",{children:["Posted: ",r]}),Object(b.jsx)("p",{className:"review-txt",children:t.txt})]})]})}function Ce(e){var t=e.reviews;return Object(b.jsx)("div",{className:"review-list",children:t.map((function(e){return Object(b.jsx)(Ie,{review:e},e.id+Math.random())}))})}var Ee={getOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return D("order",e)},getById:function(e){return D("order/".concat(e),e)},save:function(e,t){return T("order",{order:e,buyer:t})},checkIsInLibrary:function(e,t){return _e.apply(this,arguments)}};function _e(){return(_e=Object(l.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.getById(n);case 2:return r=e.sent,e.abrupt("return",r.orders.some((function(e){return e.game._id===t})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(e){var t=e.loggedInUser,n=e.isInLibrary;return Object(b.jsxs)("div",{className:"sign-in",children:[Object(b.jsx)("h2",{children:t&&n?"Did you like the game":" Is this game relevant to you?"}),Object(b.jsx)("p",{children:t&&n?"Feel free to share a review and tell everyone what you think":"Sign in to see reasons why you may or may not\n                   like this based on your games, friends, \n                   and curators you follow."}),Object(b.jsxs)("div",{children:[!t&&Object(b.jsx)(m.b,{to:"/login",children:"Sign in"}),t&&Object(b.jsx)("a",{className:"btn-add-review",children:"Add a review"})]})]})}function Me(e){var t=e.isInLibrary,n=e.game,r=e.finalPrice,a=n._id,s=n.discount,c=n.title,i=n.price;return Object(b.jsxs)("div",{className:"price-container container",children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("h2",{children:[!t&&Object(b.jsx)("span",{children:"Buy"})," ",c]}),s>50&&Object(b.jsxs)("p",{children:["WEEKEND DEAL! Offer ends in ",Object(b.jsx)("span",{children:" 29:06:12"})]})]}),Object(b.jsx)("div",{className:"details-price",children:Object(b.jsxs)("div",{className:"price-info flex ",children:[!t&&Object(b.jsx)("div",{hidden:!s,children:Object(b.jsx)("p",{className:"discount ",children:s?"".concat(s,"%"):""})}),!t&&Object(b.jsxs)("div",{className:"flex column space-evenly align-center justify-center mr-1",children:[Object(b.jsxs)("p",{className:s>0?"in-sale":"f-price",children:["$",i.toFixed(2)]}),s?Object(b.jsxs)("p",{className:"f-price",children:["$",r.toFixed(2)]}):""]}),t&&Object(b.jsx)(m.b,{className:"btn btn-primary",to:"/profile",children:" In Library"}),!t&&Object(b.jsx)(m.b,{to:"/game/order/".concat(a),children:Object(b.jsx)("button",{className:"btn-main",children:"Add to cart"})})]})})]})}function Ge(e){var t=e.title,n=e.value;return Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsxs)("p",{className:"dark-txt",children:[t,": "]}),Object(b.jsx)("p",{className:"light-txt",children:n})]})}function Ue(e){var t=e.game,n=e.getDateString,r=t.imgs,a=t.videoUrls,s=t.description,c=t.releasedAt,i=t.seller,o=t.tags,l=r.largeImgUrls;return Object(b.jsxs)("div",{className:"details-container container flex gap-5 mb-20",children:[Object(b.jsx)("div",{className:"video-container",children:Object(b.jsxs)("div",{className:"video flex column justify-center gap-5",children:[Object(b.jsx)(C,{url:a[0]}),Object(b.jsx)("div",{className:"grid-container",children:l.map((function(e,t){if(!(t>=5))return Object(b.jsxs)("div",{children:[" ",Object(b.jsx)("img",{src:l[t+1],alt:""})]},"i"+t)}))})]})}),Object(b.jsxs)("div",{className:"details-info flex  ",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{className:"mb-10",src:l[0],alt:""}),Object(b.jsx)("p",{maxLength:"10",className:"s-desc",children:s})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)(Ge,{title:"RELEASE DATE",value:n(c)}),Object(b.jsx)(Ge,{title:"Seller",value:i.fullname}),Object(b.jsxs)("div",{className:"tag-info flex column",children:[Object(b.jsx)("p",{className:"dark-txt  mb-10",children:" Popular user-defined tags for this product:"}),Object(b.jsx)("div",{className:"tag-container flex justify-center gap-5 ",children:o.map((function(e,t){return Object(b.jsxs)(m.b,{className:"btn txt-cap",to:"/game?tag=".concat(e),children:[e," "]},t)})).slice(0,3)})]})]})]})]})}function De(e){var t=e.game,n=t.tags,r=t.title;return Object(b.jsxs)("div",{className:"top-nav mb-2 container",children:[Object(b.jsx)(m.b,{to:"/game",children:"All Games  "})," ",">",Object(b.jsxs)(m.b,{className:"txt-cap",to:"/game/".concat(n[0]),children:[n[0]+"> ","  "]}),Object(b.jsx)(m.b,{to:"/game/".concat(r),children:r})]})}var Te,Re=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={game:null,isInLibrary:!1},e.onRemoveGame=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.removeGame(n);case 2:e.props.history.push("/Game/");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onAddReview=function(){var t=Object(l.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.state.game,t.next=3,e.props.addReview(n,r._id,e.props.loggedInUser);case 3:e.loadGame(),e.setState({game:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.loadUsers(),this.loadGame();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadGame",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.getById(this.props.match.params.gameId);case 2:t=e.sent,this.setState({game:t}),this.props.loggedInUser&&this.checkIsInLibrary();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkIsInLibrary",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.game){e.next=2;break}return e.abrupt("return");case 2:return t=this.state.game._id,n=this.props.loggedInUser._id,e.next=6,Ee.checkIsInLibrary(t,n);case 6:r=e.sent,this.setState({isInLibrary:r});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDesc",value:function(){if(this.state.game){var e=this.state.game.description.split("."),t="",n=3,r=[];return e.forEach((function(e,a){t+=e+". ",a===n&&(n+=3,r.push(t),t="")})),r}}},{key:"render",value:function(){var e=this.props,t=e.users,n=e.loggedInUser,r=this.state,a=r.game,s=r.isInLibrary;if(!a)return Object(b.jsx)(g,{});var c=N.getFinalPrice(a.price,a.discount),i=this.getDesc();return Object(b.jsxs)("section",{className:"main-details ",children:[Object(b.jsx)(De,{game:a}),Object(b.jsx)("h1",{className:"container",children:a.title}),Object(b.jsx)(Ue,{game:a,getDateString:N.getDateString}),Object(b.jsxs)("div",{className:"wishlist-link container ",children:[n&&!s&&Object(b.jsx)("button",{className:"btn btn-light btn-outline-secondary",children:"Add to wishList"}),!n&&Object(b.jsxs)("p",{children:[Object(b.jsx)(m.b,{to:"/login",children:"Sign in"})," to add this item to your wishlist, follow it, or mark it as ignored"]})]}),Object(b.jsxs)("div",{className:"buy-container flex column gap-10 container",children:[Object(b.jsx)(Me,{isInLibrary:s,game:a,finalPrice:c}),Object(b.jsx)(Ae,{loggedInUser:n,isInLibrary:s})]}),Object(b.jsx)("div",{className:"flex mb-20 container",children:Object(b.jsxs)("div",{className:"desc",children:[Object(b.jsx)("p",{className:"title",children:"ABOUT THIS GAME"}),i.map((function(e,t){return Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:e}),Object(b.jsx)("br",{})]},"desc"+t)}))]})}),Object(b.jsx)("div",{className:"add-review container",children:Object(b.jsx)(Se,{loggedInUser:n,onAddReview:this.onAddReview,userMsg:this.props.userMsg})}),Object(b.jsx)("div",{className:"reviews-container container ",children:Object(b.jsx)(Ce,{reviews:a.reviews,users:t,loggedInUser:n})})]})}}]),n}(r.Component),Le={loadUsers:se,removeGame:function(e){return function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.remove(e);case 3:n({type:"REMOVE_GAME",gameId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("GameActions: err in removeGame",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},saveGame:H,addReview:function(e,t,n){return function(){var r=Object(l.a)(o.a.mark((function r(a){var s;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,B.addReview(e,t,n);case 3:s=r.sent,a({type:"UPDATE_GAME",game:s}),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.log("GamesActions: err in addReview",r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},userMsg:oe},Fe=Object(c.b)((function(e){return{users:e.userModule.users,loggedInUser:e.userModule.loggedInUser}}),Le)(Re),Pe=n(20),Be=function(){var e=Object(r.useState)(0),t=Object(Pe.a)(e,2),n=t[0],a=t[1],s=Object(r.useRef)(),c=["https://res.cloudinary.com/dat4toc2t/image/upload/v1627133999/GameKeys/img/about/about-img5_e0mzaj.jpg","https://res.cloudinary.com/dat4toc2t/image/upload/v1627135561/GameKeys/img/about/about-img6_vsbf2h.jpg"];return Object(r.useEffect)((function(){return s.current=setInterval((function(){a((function(e){return e===c.length-1?0:e+1}))}),3e3),function(){clearInterval(s.current)}}),[n]),Object(b.jsxs)("section",{className:"about ",children:[Object(b.jsxs)("div",{className:"about-info flex justify-center",children:[Object(b.jsx)("div",{className:"info-title",children:Object(b.jsx)("h1",{children:"This is GameKeys"})}),Object(b.jsxs)("div",{className:"info-txt",children:[Object(b.jsx)("p",{children:"We believe that games should be easy to: access, share, buy & sell and to be affordable, this is why we came with GameKeys. A market place for games, where you can share your thoughts, buy/sell games, get updateed with the newest trands in the gaming industry, and be a part of a community."}),Object(b.jsx)("p",{children:"We work with our own game-app! but we also work with all the major platforms, such as: Steam, Google play and HBO-Games and more."})]})]}),Object(b.jsxs)("div",{className:"slogen",children:[Object(b.jsx)("img",{className:"slogen-img",src:c[n]}),Object(b.jsx)("div",{className:"test"}),Object(b.jsx)("h2",{className:"slogen-txt",children:"We are keys, for games!"})]})]})};function Ke(){return(Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function He(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ve(e,t){var n=e.title,a=e.titleId,s=He(e,["title","titleId"]);return r.createElement("svg",Ke({height:"512pt",viewBox:"0 0 512 512",width:"512pt",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,Te||(Te=r.createElement("path",{d:"m256 0c-141.363281 0-256 114.636719-256 256s114.636719 256 256 256 256-114.636719 256-256-114.636719-256-256-256zm116.886719 199.601562c.113281 2.519532.167969 5.050782.167969 7.59375 0 77.644532-59.101563 167.179688-167.183594 167.183594h.003906-.003906c-33.183594 0-64.0625-9.726562-90.066406-26.394531 4.597656.542969 9.277343.8125 14.015624.8125 27.53125 0 52.867188-9.390625 72.980469-25.152344-25.722656-.476562-47.410156-17.464843-54.894531-40.8125 3.582031.6875 7.265625 1.0625 11.042969 1.0625 5.363281 0 10.558593-.722656 15.496093-2.070312-26.886718-5.382813-47.140624-29.144531-47.140624-57.597657 0-.265624 0-.503906.007812-.75 7.917969 4.402344 16.972656 7.050782 26.613281 7.347657-15.777343-10.527344-26.148437-28.523438-26.148437-48.910157 0-10.765624 2.910156-20.851562 7.957031-29.535156 28.976563 35.554688 72.28125 58.9375 121.117187 61.394532-1.007812-4.304688-1.527343-8.789063-1.527343-13.398438 0-32.4375 26.316406-58.753906 58.765625-58.753906 16.902344 0 32.167968 7.144531 42.890625 18.566406 13.386719-2.640625 25.957031-7.53125 37.3125-14.261719-4.394531 13.714844-13.707031 25.222657-25.839844 32.5 11.886719-1.421875 23.214844-4.574219 33.742187-9.253906-7.863281 11.785156-17.835937 22.136719-29.308593 30.429687zm0 0"})))}var ze,We,$e,Je=r.forwardRef(Ve);n.p;function Ye(){return(Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Xe(e,t){var n=e.title,a=e.titleId,s=qe(e,["title","titleId"]);return r.createElement("svg",Ye({height:"512pt",viewBox:"0 0 512 512",width:"512pt",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,ze||(ze=r.createElement("path",{d:"m305 256c0 27.0625-21.9375 49-49 49s-49-21.9375-49-49 21.9375-49 49-49 49 21.9375 49 49zm0 0"})),We||(We=r.createElement("path",{d:"m370.59375 169.304688c-2.355469-6.382813-6.113281-12.160157-10.996094-16.902344-4.742187-4.882813-10.515625-8.640625-16.902344-10.996094-5.179687-2.011719-12.960937-4.40625-27.292968-5.058594-15.503906-.707031-20.152344-.859375-59.402344-.859375-39.253906 0-43.902344.148438-59.402344.855469-14.332031.65625-22.117187 3.050781-27.292968 5.0625-6.386719 2.355469-12.164063 6.113281-16.902344 10.996094-4.882813 4.742187-8.640625 10.515625-11 16.902344-2.011719 5.179687-4.40625 12.964843-5.058594 27.296874-.707031 15.5-.859375 20.148438-.859375 59.402344 0 39.25.152344 43.898438.859375 59.402344.652344 14.332031 3.046875 22.113281 5.058594 27.292969 2.359375 6.386719 6.113281 12.160156 10.996094 16.902343 4.742187 4.882813 10.515624 8.640626 16.902343 10.996094 5.179688 2.015625 12.964844 4.410156 27.296875 5.0625 15.5.707032 20.144532.855469 59.398438.855469 39.257812 0 43.90625-.148437 59.402344-.855469 14.332031-.652344 22.117187-3.046875 27.296874-5.0625 12.820313-4.945312 22.953126-15.078125 27.898438-27.898437 2.011719-5.179688 4.40625-12.960938 5.0625-27.292969.707031-15.503906.855469-20.152344.855469-59.402344 0-39.253906-.148438-43.902344-.855469-59.402344-.652344-14.332031-3.046875-22.117187-5.0625-27.296874zm-114.59375 162.179687c-41.691406 0-75.488281-33.792969-75.488281-75.484375s33.796875-75.484375 75.488281-75.484375c41.6875 0 75.484375 33.792969 75.484375 75.484375s-33.796875 75.484375-75.484375 75.484375zm78.46875-136.3125c-9.742188 0-17.640625-7.898437-17.640625-17.640625s7.898437-17.640625 17.640625-17.640625 17.640625 7.898437 17.640625 17.640625c-.003906 9.742188-7.898437 17.640625-17.640625 17.640625zm0 0"})),$e||($e=r.createElement("path",{d:"m256 0c-141.363281 0-256 114.636719-256 256s114.636719 256 256 256 256-114.636719 256-256-114.636719-256-256-256zm146.113281 316.605469c-.710937 15.648437-3.199219 26.332031-6.832031 35.683593-7.636719 19.746094-23.246094 35.355469-42.992188 42.992188-9.347656 3.632812-20.035156 6.117188-35.679687 6.832031-15.675781.714844-20.683594.886719-60.605469.886719-39.925781 0-44.929687-.171875-60.609375-.886719-15.644531-.714843-26.332031-3.199219-35.679687-6.832031-9.8125-3.691406-18.695313-9.476562-26.039063-16.957031-7.476562-7.339844-13.261719-16.226563-16.953125-26.035157-3.632812-9.347656-6.121094-20.035156-6.832031-35.679687-.722656-15.679687-.890625-20.6875-.890625-60.609375s.167969-44.929688.886719-60.605469c.710937-15.648437 3.195312-26.332031 6.828125-35.683593 3.691406-9.808594 9.480468-18.695313 16.960937-26.035157 7.339844-7.480469 16.226563-13.265625 26.035157-16.957031 9.351562-3.632812 20.035156-6.117188 35.683593-6.832031 15.675781-.714844 20.683594-.886719 60.605469-.886719s44.929688.171875 60.605469.890625c15.648437.710937 26.332031 3.195313 35.683593 6.824219 9.808594 3.691406 18.695313 9.480468 26.039063 16.960937 7.476563 7.34375 13.265625 16.226563 16.953125 26.035157 3.636719 9.351562 6.121094 20.035156 6.835938 35.683593.714843 15.675781.882812 20.683594.882812 60.605469s-.167969 44.929688-.886719 60.605469zm0 0"})))}var Qe,Ze=r.forwardRef(Xe);n.p;function et(){return(et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function nt(e,t){var n=e.title,a=e.titleId,s=tt(e,["title","titleId"]);return r.createElement("svg",et({id:"Capa_1",enableBackground:"new 0 0 512 512",height:512,viewBox:"0 0 512 512",width:512,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,Qe||(Qe=r.createElement("path",{d:"m512 256c0-141.4-114.6-256-256-256s-256 114.6-256 256 114.6 256 256 256c1.5 0 3 0 4.5-.1v-199.2h-55v-64.1h55v-47.2c0-54.7 33.4-84.5 82.2-84.5 23.4 0 43.5 1.7 49.3 2.5v57.2h-33.6c-26.5 0-31.7 12.6-31.7 31.1v40.8h63.5l-8.3 64.1h-55.2v189.5c107-30.7 185.3-129.2 185.3-246.1z"})))}var rt=r.forwardRef(nt);n.p;function at(){return Object(b.jsxs)("footer",{className:"flex column align-center",children:[Object(b.jsxs)("div",{className:"icon-container flex mb-20  justify-center gap-10",children:[Object(b.jsxs)("div",{className:"flex align-center",children:[Object(b.jsx)(Je,{className:"icon"}),Object(b.jsxs)("div",{className:"flex column",children:[Object(b.jsx)("p",{className:"icon-title",children:"11.9k"}),Object(b.jsx)("span",{children:"Followers"})]})]}),Object(b.jsxs)("div",{className:"flex align-center",children:[Object(b.jsx)(Ze,{className:"icon"}),Object(b.jsxs)("div",{className:"flex column",children:[Object(b.jsx)("p",{className:"icon-title",children:"48k"}),Object(b.jsx)("span",{children:"Followers"})]})]}),Object(b.jsxs)("div",{className:"flex align-center",children:[Object(b.jsx)(rt,{className:"icon"}),Object(b.jsxs)("div",{className:"flex column",children:[Object(b.jsx)("p",{className:"icon-title",children:"883k"}),Object(b.jsx)("span",{children:"LIKES"})]})]})]}),Object(b.jsx)("img",{className:"logo-footer",src:"https://res.cloudinary.com/dat4toc2t/image/upload/v1623183631/GameKeys/img/logo/GameKeys-BIG_k1kusx.png",alt:""}),Object(b.jsx)("small",{children:"Copyrights Gamekeys.com 2021. all rights reserved \xa92021"})]})}function st(e){var t=e.game,n=e.onRemoveCart,r=e.isCheckout,a=t.imgs.largeImgUrls[0],s=t.price-t.price*(t.discount/100);return Object(b.jsxs)("div",{className:"flex space-between cart-card mb-10",children:[Object(b.jsxs)("div",{className:"flex gap-10",children:[Object(b.jsx)("img",{src:a,alt:""}),Object(b.jsx)("p",{className:"card-title",children:t.title})]}),Object(b.jsxs)("div",{className:"flex column space-evenly align-center justify-center mr-5",children:[!r&&Object(b.jsxs)("p",{className:t.discount?"in-sale":"f-price",children:["$",t.price.toFixed(2)]}),Object(b.jsxs)("p",{className:"f-price",children:["$",s.toFixed(2)]}),!r&&Object(b.jsx)("a",{className:"btn-remove",onClick:function(){return n(t._id)},children:"remove"})]})]})}function ct(e){var t=e.games,n=e.onRemoveCart,r=e.isCheckout;return Object(b.jsx)(b.Fragment,{children:t&&t.map((function(e){return Object(b.jsx)(st,{game:e,onRemoveCart:n,isCheckout:r},e._id)}))})}var it={query:ot,get:function(e,t){return ot(e).then((function(e){return e.find((function(e){return e._id===t}))}))},post:function(e,t){return t._id=N.makeId(),ot(e).then((function(n){return n.push(t),lt(e,n),t}))},put:function(e,t){return ot(e).then((function(n){var r=n.findIndex((function(e){return e._id===t._id}));return n.splice(r,1,t),lt(e,n),t}))},remove:function(e,t){return ot(e).then((function(n){var r=n.findIndex((function(e){return e._id===t}));n.splice(r,1),lt(e,n)}))},removeAll:function(e){console.log("work"),lt(e,[])}};function ot(e){var t=JSON.parse(localStorage.getItem(e))||[];return Promise.resolve(t)}function lt(e,t){localStorage.setItem(e,JSON.stringify(t))}var ut="cart",dt={add:function(e){return ft.apply(this,arguments)},query:jt,remove:function(e){return mt.apply(this,arguments)},getGamesByCarts:function(){return vt.apply(this,arguments)},removeAll:function(e){return ht.apply(this,arguments)}};function jt(e){return pt.apply(this,arguments)}function pt(){return(pt=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it.query(ut);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mt(){return(mt=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt();case 2:return n=e.sent,r=n.find((function(e){return e.game._id===t})),e.abrupt("return",it.remove(ut,r._id));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(){return(ht=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it.removeAll(ut));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(e){return gt.apply(this,arguments)}function gt(){return(gt=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt();case 2:return n=e.sent,e.abrupt("return",n.some((function(e){return e.game._id===t})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(){return(ft=Object(l.a)(o.a.mark((function e(t){var n,r,a,s,c,i,l,u,d,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.game,r=n.price,a=n.discount,s=n.title,c=n.seller,i=n._id,l=n.serialKey,e.next=4,bt(i);case 4:if(!e.sent){e.next=7;break}return e.abrupt("return",null);case 7:return u=n.imgs.largeImgUrls[0],d={game:{_id:n._id,price:r,discount:a,title:s,sellerId:c._id,img:u,serialKey:l}},j=it.post(ut,d),e.abrupt("return",j);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(){return(vt=Object(l.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.getGames();case 2:return t=e.sent,e.next=5,jt();case 5:return n=e.sent,r=n.reduce((function(e,n){var r=t.filter((function(e){return e._id===n.game._id}));return[].concat(Object(v.a)(e),Object(v.a)(r))}),[]),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xt=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={friendId:null},e.onChoseFriend=function(t){e.setState({friendId:t})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.state.friendId,n=this.props,r=n.frinedsList,a=n.onCheckOut,s=n.toggleModal,c=n.isOpenModal;return Object(b.jsxs)("div",{className:"friends-modal flex column space-between",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:"Chose from your friends list"}),r.map((function(n){return Object(b.jsx)("div",{children:Object(b.jsx)("p",{className:"txt-cap ".concat(t===n.friendId&&"active"),onClick:function(){return e.onChoseFriend(n.friendId)},children:n.fullname})},"friend".concat(n.friendId))}))]}),Object(b.jsxs)("div",{className:"friends-btn flex justify-center gap-20 align-center",children:[Object(b.jsx)("button",{className:"btn-main",onClick:function(){return a(e.state.friendId)},children:"Purchase"}),Object(b.jsx)("a",{className:"",onClick:function(){return s(c)},children:"Back"})]})]})}}]),n}(r.Component);function Ot(e){var t=e.totalPrice,n=e.toggleIsCheckout,r=(e.onFriendSelect,e.frinedsList),a=e.onCheckOut,s=e.isOpenModal,c=e.toggleModal;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"flex space-between align-center pad-15",children:[Object(b.jsx)("p",{children:"Estimated total"}),Object(b.jsx)("div",{children:Object(b.jsxs)("p",{className:"f-price",children:["$",t]})})]}),Object(b.jsxs)("div",{className:"flex column  space-evenly align-center justify-center mr-1 pad-15",children:[Object(b.jsx)("p",{className:"p-3",children:"Is this a purchase for yourself or is it a gift? Select one to continue to checkout."}),Object(b.jsxs)("div",{className:"btn-container flex gap-10  ",children:[Object(b.jsx)("button",{onClick:function(){return n()},className:"btn-main",children:"Purchase for myself"}),Object(b.jsx)("button",{className:"btn-main",onClick:function(){return c(s)},children:"Purchase as a gift"})]})]}),Object(b.jsxs)("div",{className:"pad-15",children:[s&&Object(b.jsx)(xt,{isOpenModal:s,FriendsList:xt,onCheckOut:a,frinedsList:r,toggleModal:c}),Object(b.jsx)("p",{children:"All prices include VAT where applicable"})]})]})}function yt(e){var t=e.totalPrice,n=e.loggedInUser,r=e.onCheckOut;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"flex column",children:[Object(b.jsxs)("div",{className:"total-price flex column align-end pad-15",children:[Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("p",{className:"dark-txt",children:"Subtotal:"}),Object(b.jsxs)("p",{className:"",children:["$",t]})]}),Object(b.jsxs)("div",{className:"tax flex",children:[Object(b.jsx)("p",{className:"dark-txt",children:"Tax:"}),Object(b.jsx)("p",{children:"0"})]}),Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("p",{className:"dark-txt",children:"Total:"}),Object(b.jsxs)("p",{className:"f-price",children:["$",t]})]})]}),Object(b.jsxs)("div",{className:"flex gap-10 pad-5",children:[Object(b.jsx)("p",{className:"dark-txt",children:"Payment method:"}),Object(b.jsx)("p",{className:"visa",children:"Visa ending in 4758"})]}),Object(b.jsxs)("div",{className:"flex gap-10 pad-5 ",children:[Object(b.jsx)("p",{className:"dark-txt",children:"Gift options:"}),Object(b.jsx)("p",{children:"This purchase is for your own account."})]}),Object(b.jsxs)("div",{className:"flex gap-10 pad-5",children:[Object(b.jsx)("p",{className:"dark-txt",children:"Game keys account:"}),Object(b.jsx)("p",{className:"txt-cap",children:n.username})]}),Object(b.jsx)("div",{className:"align-end pad-15",children:Object(b.jsx)("button",{className:"btn-med btn btn-success",onClick:function(){return r(n._id)},children:"Purchase"})})]})})}var wt=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={carts:[],games:[],isCheckout:!1,buyToUserId:null,frinedsList:null,isOpenModal:!1},e.onRemoveCart=function(){var t=Object(l.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.removeCart(n);case 2:r=e.state.games.filter((function(e){return e._id!==n})),e.setState({games:r}),e.setState({carts:e.props.carts});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onRemoveCarts=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.removeCarts();case 2:e.setState({games:[]}),e.setState({carts:[]});case 4:case"end":return t.stop()}}),t)}))),e.onCheckOut=function(){var t=Object(l.a)(o.a.mark((function t(n){var r,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return r=e.state.carts,a=e.props.loggedInUser,n!==a._id?(s={_id:n},e.toggleModal(e.state.isOpenModal)):s=a,t.next=7,Promise.all(r.map(function(){var t=Object(l.a)(o.a.mark((function t(r){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.saveOrder(r,s);case 2:return c=t.sent,t.next=5,n;case 5:if(t.t0=t.sent,t.t1=a._id,t.t0===t.t1){t.next=11;break}X.emit("giftSent",n),t.next=12;break;case 11:X.emit("orderSent",c);case 12:return e.props.userMsg("Your purchase has been made"),setTimeout((function(){e.props.userMsg("")}),2e3),t.abrupt("return",c);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 7:return localStorage.clear("cart"),t.abrupt("return",console.log("thnx for buying"));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getTotalPrice=function(e){return e?e.reduce((function(e,t){return t.discount?e+(t.price-t.price*(t.discount/100)):e+t.price}),0).toFixed(2):0},e.toggleIsCheckout=function(){if(!e.props.loggedInUser)return e.props.userMsg("Log in to continue the purchase"),setTimeout((function(){e.props.history.push("/login"),e.props.userMsg("")}),1500);e.state.carts.length||e.props.userMsg("Added to the cart"),e.setState({isCheckout:!0})},e.onFriendSelect=function(t){e.setState({frinedsList:t})},e.toggleModal=function(t){var n=e.props.loggedInUser.friends;n&&(e.onFriendSelect(n),e.setState({isOpenModal:!t}))},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.scrollTo(0,0),e.next=3,B.getById(this.props.match.params.gameId);case 3:return t=e.sent,e.next=6,this.props.addToCart(t,this.props.loggedInUser);case 6:return e.next=8,this.props.loadCarts();case 8:return this.setState({carts:this.props.carts}),e.next=11,dt.getGamesByCarts(this.props.carts);case 11:n=e.sent,this.setState({games:n});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=(t.carts,t.games),r=t.isCheckout,a=t.frinedsList,s=t.isOpenModal,c=this.props.loggedInUser,i=this.getTotalPrice(n);return Object(b.jsxs)("div",{className:"cart-container container",children:[Object(b.jsxs)("div",{className:"mb-20",children:[Object(b.jsx)(m.b,{to:"/",children:"All Products  "})," ",">",Object(b.jsx)("a",{children:"Your Shopping Cart "})]}),Object(b.jsx)("h2",{className:"mb-20",children:"YOUR SHOPPING CART"}),Object(b.jsx)("div",{className:"cart-status mb-20",children:Object(b.jsxs)("p",{children:[r?"Review + purchase":"YOUR ITEM'S BEEN ADDED!",Object(b.jsx)("span",{className:"triangle-down"})]})}),Object(b.jsxs)("div",{className:"cart-info flex gap-20",children:[Object(b.jsx)("div",{className:"flex column gap-20 ".concat(r&&"width-70"),children:Object(b.jsxs)("div",{className:"flex column ",children:[Object(b.jsxs)("div",{className:"flex space-between column cart-card  ",children:[Object(b.jsx)(ct,{games:n,onRemoveCart:this.onRemoveCart,isCheckout:r}),!r&&Object(b.jsx)(Ot,{toggleModal:this.toggleModal,isOpenModal:s,toggleIsCheckout:this.toggleIsCheckout,totalPrice:i,onFriendSelect:this.onFriendSelect,frinedsList:a,onCheckOut:this.onCheckOut,onUpdateCarts:this.onUpdateCarts}),r&&Object(b.jsx)(yt,{totalPrice:i,loggedInUser:c,onCheckOut:this.onCheckOut})]}),!r&&Object(b.jsx)("a",{onClick:function(){return e.onRemoveCarts()},className:"align-end btn-remove",children:"Remove all items"}),Object(b.jsx)("div",{children:!r&&Object(b.jsx)(m.b,{to:"/",className:"btn-med btn-light",children:"Continue Shopping"})})]})}),!r&&Object(b.jsxs)("div",{className:"card-game flex gap-5 column",children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:"https://res.cloudinary.com/dat4toc2t/image/upload/v1623183655/GameKeys/img/background-5_t0clwl.jpg",alt:""})}),Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:"https://res.cloudinary.com/dat4toc2t/image/upload/v1623183651/GameKeys/img/background-1_mwtzmp.jpg",alt:""})})]})]})]})}}]),n}(r.Component),Nt={addToCart:function(e){return function(){var t=Object(l.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,dt.add({game:e});case 3:(r=t.sent)&&n({type:"ADD_CART",cart:r}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("CartActions: err in addCart",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},loadCarts:function(){return function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dt.query();case 3:n=e.sent,t({type:"SET_CARTS",carts:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("ReviewActions: err in loadReviews",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},removeCart:function(e){return function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,dt.remove(e);case 3:n({type:"REMOVE_CART",gameId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("cartActions: err in remove cart",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},removeCarts:function(){return function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dt.removeAll();case 3:t({type:"REMOVE_CARTS"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("cartActions: err in remove cart",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},saveOrder:function(e,t){return function(){var n=Object(l.a)(o.a.mark((function n(r){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.save(e,t);case 3:return a=n.sent,r({type:"ADD_ORDER",order:a}),n.abrupt("return",a);case 9:n.prev=9,n.t0=n.catch(0),console.log("OrdersActions: err in saveOrder",n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},userMsg:oe},kt=Object(c.b)((function(e){return{loggedInUser:e.userModule.loggedInUser,carts:e.cartModule.carts,msg:e.userModule.msg}}),Nt)(wt);function St(e){var t=e.fullname,n=e.img;return Object(b.jsxs)("header",{children:[Object(b.jsxs)("div",{className:"user-profile-header container",children:[Object(b.jsx)("img",{className:"hero",src:"https://res.cloudinary.com/dat4toc2t/image/upload/v1623183702/GameKeys/img/user-profile-hero_cytz5i.jpg",alt:""}),Object(b.jsx)("div",{children:Object(b.jsx)("img",{className:"avatar",src:n,alt:""})})]}),Object(b.jsxs)("h2",{className:"username-title",children:["Hello ",t]})]})}var It=n(51);function Ct(e){var t=e.orders,n=e.onGameClicked,a=Object(r.useState)(t),s=Object(Pe.a)(a,2),c=s[0],i=s[1];return Object(b.jsx)(It.a,{onDragEnd:function(e){if(e.destination){var t=Array.from(c),n=t.splice(e.source.index,1),r=Object(Pe.a)(n,1)[0];t.splice(e.destination.index,0,r),i(t)}},children:Object(b.jsx)(It.c,{droppableId:"boughtGamess",direction:"horizontal",children:function(e){return Object(b.jsxs)("div",Object(J.a)(Object(J.a)({className:"boughtGamess mb-20"},e.droppableProps),{},{ref:e.innerRef,children:[c.map((function(e,t){var r=e.game;return Object(b.jsx)(It.b,{draggableId:r._id,index:t,children:function(e){return Object(b.jsx)("div",Object(J.a)(Object(J.a)(Object(J.a)({onClick:function(){return n(r.serialKey)},ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:Object(b.jsx)("div",{className:"game-user-preview",children:Object(b.jsxs)("div",{className:"user-game-card",children:[Object(b.jsx)("div",{className:"user-game-card-img",children:Object(b.jsx)("img",{src:r.img,alt:""})}),Object(b.jsx)("div",{className:"user-game-title",children:Object(b.jsx)("h2",{children:r.title})})]})})}))}},r._id)})),e.placeholder]}))}})})}n(82);var Et=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={user:null,serialKey:"",gamesToSell:null},e.componentDidMount=Object(l.a)(o.a.mark((function t(){var n,r,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.loggedInUser){t.next=3;break}return t.abrupt("return",e.props.history.push("/"));case 3:return t.next=5,Z.getById(n._id);case 5:return r=t.sent,e.setState({user:r}),t.next=9,e.props.loadGames();case 9:a=e.props.games,s=a.filter((function(e){return e.seller._id===n._id})),e.setState({gamesToSell:s});case 12:case"end":return t.stop()}}),t)}))),e.onGameClicked=function(t){e.setState({serialKey:t})},e}return Object(d.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.loggedInUser;this.state.user;e.loggedInUser!==n&&(n||this.props.history.push("/"))}},{key:"render",value:function(){var e=this,t=this.props.loggedInUser,n=this.state,r=n.user,a=n.serialKey,s=n.gamesToSell;return t?r&&s?Object(b.jsxs)("section",{className:"main-user-profile",children:[Object(b.jsx)(St,{fullname:r.fullname,img:r.imgUrl}),Object(b.jsxs)("div",{className:"user-bought-list container",children:[Object(b.jsx)("h1",{children:"Games you bought"}),Object(b.jsx)(Ct,{orders:r.orders,onGameClicked:this.onGameClicked})]}),Object(b.jsxs)("div",{className:"user-sell-container container",children:[Object(b.jsx)("h1",{children:"Games you sell"}),Object(b.jsx)("div",{className:"user-sell-list",children:s.map((function(e){return Object(b.jsx)("div",{className:"user-sell-preview",children:Object(b.jsxs)("div",{className:"user-sell-card",children:[Object(b.jsx)("div",{className:"user-sell-img",children:Object(b.jsx)("img",{src:e.imgs.largeImgUrls[0],alt:""})}),Object(b.jsxs)("div",{className:"user-sell-info",children:[Object(b.jsx)("h2",{children:e.title}),Object(b.jsxs)("h2",{children:["Sell price: $",e.price]})]}),Object(b.jsx)(m.b,{to:"/profile/mystore/edit/".concat(e._id),children:"Edit"})]})},e._id)}))})]}),a&&Object(b.jsxs)("div",{className:"game-clicked-info",children:[Object(b.jsxs)("h1",{children:["Your serial-key:",Object(b.jsxs)("span",{children:[" ",a]})]}),Object(b.jsx)("p",{children:"Add your key to your favorite app"}),Object(b.jsx)("p",{children:"We advise to use GameKeys app! but we work with"}),Object(b.jsx)("p",{children:"Steam, Google play and HBO-Games"}),Object(b.jsx)("p",{children:"Enjoy"}),Object(b.jsx)("botton",{className:"game-user-btn",onClick:function(){return e.onGameClicked("")},children:"GG"})]})]}):Object(b.jsx)("h1",{children:"Loading"}):Object(b.jsx)("h1",{children:"No user to show"})}}]),n}(r.Component),_t={loadGames:K},At=Object(c.b)((function(e){return{isLoading:e.systemModule.isLoading,games:e.gameModule.games,loggedInUser:e.userModule.loggedInUser}}),_t)(Et),Mt=[{id:"gary",like:"like",thumb:"/images/gary.png"}],Gt=(r.Component,function(e){var t=e.history,n=e.match,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=Object(r.useState)(e),a=Object(Pe.a)(n,2),s=a[0],c=a[1];return Object(r.useEffect)((function(){t(s)}),[s]),[s,function(e){var t=e.target.name,n="number"===e.target.type?+e.target.value:e.target.value;c((function(e){return Object(J.a)(Object(J.a)({},e),{},Object($.a)({},t,n))}))},c]}(B.getEmptyGame()),s=Object(Pe.a)(a,3),i=s[0],u=s[1],d=s[2],j=Object(c.c)();Object(r.useEffect)((function(){window.scrollTo(0,0),p()}),[]);var p=function(){var e=Object(l.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n.params.gameId)){e.next=7;break}return e.next=4,B.getById(t);case 4:r=e.sent,console.log(r),d(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),console.log(i),j(H(i)),t.push("/");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return void 0===i._id?(console.log(i),Object(b.jsx)("h1",{children:"Loading..."})):Object(b.jsxs)("form",{className:"game-edit container",onSubmit:function(e){return m(e)},children:[0!==i&&Object(b.jsx)("h1",{children:"Game edit"}),Object(b.jsxs)("div",{className:"",children:[Object(b.jsx)("label",{htmlFor:"title",children:"Title:"}),Object(b.jsx)("input",{type:"text",name:"title",placeholder:"title",value:i.title,onChange:u}),Object(b.jsx)("label",{htmlFor:"serialKey",children:"SerialKey:"}),Object(b.jsx)("input",{type:"text",name:"serialKey",placeholder:"serialKey",value:i.serialKey,onChange:u}),Object(b.jsx)("label",{htmlFor:"price",children:"Price:"}),Object(b.jsx)("input",{type:"number",name:"price",placeholder:"price",value:i.price,onChange:u}),Object(b.jsx)("label",{htmlFor:"Discount",children:"Discount:"}),Object(b.jsx)("input",{type:"number",name:"discount",placeholder:"discount",value:i.discount,onChange:u}),Object(b.jsx)("label",{htmlFor:"sDescription",children:"Short description:"}),Object(b.jsx)("textarea",{type:"textarea",name:"sDescription",cols:"40",rows:"5",placeholder:"sDescription",value:i.sDescription,onChange:u}),Object(b.jsx)("label",{htmlFor:"description",children:"Description:"}),Object(b.jsx)("textarea",{type:"textarea",name:"description",placeholder:"description",cols:"40",rows:"10",value:i.description,onChange:u}),Object(b.jsx)("button",{className:"btn-main",children:"Save"})]})]})}),Ut=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={msg:"",isUpdate:null},e.onGameBought=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.userMsg("An order has been made");case 2:e.setState({msg:e.props.msg,isUpdate:!0}),setTimeout((function(){e.props.userMsg("")}),3e3),e.setState({msg:e.props.msg});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onGiftSent=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.userMsg("You got a gift!!!");case 2:e.setState({msg:e.props.msg}),setTimeout((function(){e.props.userMsg("")}),3e3),e.setState({msg:e.props.msg});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={username:"Guest",password:"Guest"},e.next=3,this.props.login(t);case 3:return e.next=5,X.setup();case 5:return e.next=7,X.on("gameBought",this.onGameBought);case 7:return e.next=9,X.on("giftBought",this.onGiftSent);case 9:this.setState({msg:this.props.msg});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){X.terminate()}},{key:"render",value:function(){return Object(b.jsx)("div",{className:"app",children:Object(b.jsxs)(m.a,{children:[Object(b.jsx)(be,{msg:this.props.msg,isUpdate:this.state.isUpdate}),Object(b.jsx)("main",{className:"",children:Object(b.jsxs)(h.c,{children:[Object(b.jsx)(h.a,{path:"/login",component:de}),Object(b.jsx)(h.a,{path:"/profile/mystore/edit/:gameId?",component:Gt}),Object(b.jsx)(h.a,{path:"/profile",component:At}),Object(b.jsx)(h.a,{path:"/game/order/:gameId",component:kt}),Object(b.jsx)(h.a,{path:"/game/:gameId",component:Fe}),Object(b.jsx)(h.a,{path:"/game",component:Ne}),Object(b.jsx)(h.a,{path:"/about",component:Be}),Object(b.jsx)(h.a,{path:"/",component:W})]})}),Object(b.jsx)(at,{})]})})}}]),n}(r.Component),Dt={userMsg:oe,login:ce},Tt=Object(c.b)((function(e){return{msg:e.userModule.msg}}),Dt)(Ut);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(715);var Rt=n(31),Lt=n(256),Ft={reviews:[]};var Pt=null;sessionStorage.loggedinUser&&(Pt=JSON.parse(sessionStorage.loggedinUser));var Bt={msg:"",loggedInUser:Pt,users:[]};var Kt={isLoading:!1};var Ht={games:[]};var Vt={carts:[]};var zt={orders:[]};var Wt=Object(Rt.c)({systemModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOADING_START":return Object(J.a)(Object(J.a)({},e),{},{isLoading:!0});case"LOADING_DONE":return Object(J.a)(Object(J.a)({},e),{},{isLoading:!1});default:return e}},reviewModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_REVIEWS":return Object(J.a)(Object(J.a)({},e),{},{reviews:t.reviews});case"ADD_REVIEW":return Object(J.a)(Object(J.a)({},e),{},{reviews:[].concat(Object(v.a)(e.reviews),[t.review])});case"REMOVE_REVIEW":return Object(J.a)(Object(J.a)({},e),{},{reviews:e.reviews.filter((function(e){return e._id!==t.reviewId}))});case"UPDATE_REVIEW":return Object(J.a)(Object(J.a)({},e),{},{reviews:e.reviews.map((function(e){return e._id===t.review._id?t.review:e}))});default:return e}},userModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USER":return Object(J.a)(Object(J.a)({},e),{},{loggedInUser:t.user});case"REMOVE_USER":return Object(J.a)(Object(J.a)({},e),{},{users:e.users.filter((function(e){return e._id!==t.userId}))});case"SET_USERS":return Object(J.a)(Object(J.a)({},e),{},{users:t.users});case"SET_MSG":return Object(J.a)(Object(J.a)({},e),{},{msg:t.msg});default:return e}},gameModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_GAMES":return Object(J.a)(Object(J.a)({},e),{},{games:t.games});case"ADD_GAME":return Object(J.a)(Object(J.a)({},e),{},{games:[].concat(Object(v.a)(e.games),[t.game])});case"REMOVE_GAME":return Object(J.a)(Object(J.a)({},e),{},{games:e.games.filter((function(e){return e._id!==t.gameId}))});case"UPDATE_GAME":return Object(J.a)(Object(J.a)({},e),{},{games:e.games.map((function(e){return e._id===t.game._id?t.game:e}))});default:return e}},cartModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.carts.filter((function(e){return e.gameId!==t.gameId})),t.type){case"SET_CARTS":return Object(J.a)(Object(J.a)({},e),{},{carts:t.carts});case"ADD_CART":return console.log("action",t.cart),Object(J.a)(Object(J.a)({},e),{},{carts:[].concat(Object(v.a)(e.carts),[t.cart])});case"REMOVE_CART":return Object(J.a)(Object(J.a)({},e),{},{carts:e.carts.filter((function(e){return e.game._id!==t.gameId}))});case"REMOVE_CARTS":return Object(J.a)(Object(J.a)({},e),{},{carts:[]});default:return e}},orderModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_ORDERS":return Object(J.a)(Object(J.a)({},e),{},{orders:t.orders});case"ADD_ORDER":return Object(J.a)(Object(J.a)({},e),{},{orders:[].concat(Object(v.a)(e.orders),[t.order])});default:return e}}}),$t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Rt.d,Jt=Object(Rt.e)(Wt,$t(Object(Rt.a)(Lt.a))),Yt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,722)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};s.a.render(Object(b.jsx)(c.a,{store:Jt,children:Object(b.jsx)(Tt,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),Yt()}},[[716,1,2]]]);
//# sourceMappingURL=main.a2fa7a0d.chunk.js.map