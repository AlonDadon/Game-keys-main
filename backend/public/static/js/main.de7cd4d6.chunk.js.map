{"version":3,"sources":["cmps/UtilCmps/Loader.jsx","assets/img/icons/star.svg","services/util.service.js","cmps/DynamicCmps/SmallGamePreview.jsx","cmps/DynamicCmps/MainGamePreview.jsx","cmps/DynamicCmps/CtgList.jsx","cmps/Video.jsx","cmps/DynamicCmps/VideoGame.jsx","cmps/DynamicCmp.jsx","services/http.service.js","services/game.service.js","store/actions/game.actions.js","pages/Home.jsx","services/socket.service.js","data/user.data.js","services/user.service.js","store/actions/user.actions.js","pages/Login.jsx","cmps/UtilCmps/UserMsg.jsx","cmps/Header.jsx","cmps/GamePreview.jsx","cmps/GameList.jsx","cmps/GameFilter.jsx","cmps/UtilCmps/Item.jsx","pages/GameApp.jsx","cmps/UtilCmps/Rating.jsx","cmps/ReviewCmps/AddReview.jsx","cmps/ReviewCmps/ReviewPreview.jsx","cmps/ReviewCmps/ReviewList.jsx","services/order.service.js","cmps/GameDetailsCmps/DetailsSideBar.jsx","cmps/GameDetailsCmps/DetailsPriceBar.jsx","cmps/InfoBlock.jsx","cmps/GameDetailsCmps/DetailsPanel.jsx","cmps/GameDetailsCmps/DetailsTopNav.jsx","assets/img/icons/twitter.svg","pages/GameDetails.jsx","pages/About.jsx","assets/img/icons/instagram.svg","assets/img/icons/facebook.svg","cmps/Footer.jsx","cmps/cartCmps/CartPreview.jsx","cmps/cartCmps/CartList.jsx","services/async-Storage.service.js","services/cart.service.js","cmps/cartCmps/FriendsList.jsx","cmps/cartCmps/CartInfo.jsx","cmps/cartCmps/CartCheckout.jsx","pages/GameCart.jsx","store/actions/cart.actions.js","store/actions/order.actions.js","cmps/UserCmps/UserHeader.jsx","cmps/UserCmps/DanDUserGameList.jsx","pages/UserProfile.jsx","cmps/UtilCmps/GameSwipe.jsx","pages/GameEdit.jsx","services/customHooks.js","App.jsx","serviceWorkerRegistration.js","store/reducers/review.reducer.js","store/reducers/user.reducer.js","store/reducers/system.reducer.js","store/reducers/game.reducer.js","store/reducers/cart.reducer.js","store/reducers/order.reducer.js","store/reducers/index.js","store/store.js","reportWebVitals.js","index.js"],"names":["Loader","className","_path","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgStar","_ref","svgRef","title","titleId","props","focusable","role","xmlns","viewBox","ref","id","fill","d","ForwardRef","utilService","delay","ms","Promise","resolve","setTimeout","getRandomInt","min","max","Math","ceil","floor","random","makeId","txt","possible","charAt","getDateFormat","date","currDate","Date","year","getFullYear","month","getMonth","day","getDay","dateStr","renderStars","rate","stars","round","push","getDateString","toLocaleDateString","getFinalPrice","price","discount","SmallGamePreview","game","gameImg","imgs","largeImgUrls","finalPrice","to","_id","src","alt","toFixed","MainGamePreview","state","games","gameIdx","imgIdx","classTransition","changeGameByDiff","diff","setState","nextIdx","toggleTransition","changeImg","idx","map","img","mainImg","releasedAt","onClick","onMouseOver","onMouseLeave","changeGameByIdx","Component","CtgList","Video","url","autoPlay","width","height","frameBorder","allow","allowFullScreen","VideoGame","videoUrls","gGames","DynamicCmp","type","countGameToCut","filterGames","splice","BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","data","ajax","a","method","params","res","console","log","dir","response","status","window","location","gameService","getGames","filterBy","tag","sortBy","getById","gameId","remove","save","addReview","review","byUser","getEmptyGame","loadGames","dispatch","saveGame","gameToSave","action","_Home","mapDispatchToProps","Home","connect","isLoading","systemModule","gameModule","socketService","socket","setup","io","reconnection","on","eventName","cb","off","removeAllListeners","emit","terminate","createSocketService","x","userService","login","logout","signup","getUsers","userId","update","getLoggedinUser","JSON","parse","sessionStorage","getItem","user","userCred","_saveLocalUser","clear","setItem","stringify","loadUsers","users","userCreds","userMsg","msg","_Login","loginCred","username","password","signupCred","fullname","isLogIn","loginHandleChange","ev","name","value","prevState","signupHandleChange","doLogin","preventDefault","loggedInUser","history","doSignup","signupCreds","toggleLoginSignup","removeUser","signupSection","onSubmit","onChange","autoComplete","loginSection","Login","userModule","UserMsg","_Header","isHidden","toggleIsHidden","readAll","flexClass","onLogout","prevProps","updateData","now","exact","storageKey","notific_key","notific_value","heading","sortedByKey","showDate","size","color","markAsReadFn","imgUrl","Header","GamePreview","previewImg","rating","seller","reviews","sDescription","tags","slice","GameList","GameFilter","handleChange","field","onSetFilter","placeholder","styled","div","_GameApp","paramsString","search","searchParams","URLSearchParams","get","GameApp","Rating","isPreview","onHandleChange","htmlFor","hidden","AddReview","handleSubmit","onAddReview","textInput","cols","rows","ReviewPreview","createdAt","userImg","ReviewList","orderService","getOrders","orderId","order","buyer","checkIsInLibrary","orders","some","DetailsSideBar","isInLibrary","DetailsPriceBar","InfoBlock","DetailsPanel","description","urlImgs","maxLength","DetailsTopNav","_GameDetails","onRemoveGame","removeGame","loadGame","match","descriptions","split","shortStr","newDescs","forEach","desc","getDesc","GameDetails","About","useState","setImg","intervalId","useRef","imgUrls","useEffect","current","setInterval","clearInterval","SvgTwitter","_path2","_path3","SvgInstagram","SvgFacebook","enableBackground","Footer","CartPreview","onRemoveCart","isCheckout","CartList","storageService","query","entityType","entityId","then","entities","find","entity","post","newEntity","_save","put","updatedEntity","findIndex","removeAll","localStorage","STORAGE_KEY","cartService","add","getGamesByCarts","carts","cart","checkIsDuplicate","serialKey","sellerId","addedCart","reduce","acc","filter","FriendsList","friendId","onChoseFriend","frinedsList","onCheckOut","toggleModal","isOpenModal","friend","CartInfo","totalPrice","toggleIsCheckout","onFriendSelect","CartCheckout","_GameCart","buyToUserId","removeCart","newGames","onRemoveCarts","removeCarts","all","saveOrder","savedOrder","getTotalPrice","friends","scrollTo","addToCart","loadCarts","onUpdateCarts","newCart","orderToSave","GameCart","cartModule","UserHeader","DanDUserGameList","onGameClicked","boughtGamess","updateGames","onDragEnd","result","destination","items","Array","from","index","reorderedItem","droppableId","direction","provided","droppableProps","innerRef","draggableId","draggableProps","dragHandleProps","_UserProfile","gamesToSell","componentDidMount","UserProfile","finalSpaceGames","like","thumb","GameEdit","initialState","fields","setFields","prevFields","useForm","setGame","useDispatch","_game","onAddGame","_App","isUpdate","onGameBought","onGiftSent","path","component","App","Boolean","hostname","localLoggedinUser","loggedinUser","rootReducer","combineReducers","reviewModule","reviewId","orderModule","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.de7cd4d6.chunk.js","sourcesContent":["export function Loader(){\r\n    return(\r\n        <div className=\"flex justify-center\">\r\n        <div className=\"lds-roller\">\r\n            <div></div><div></div><div></div><div></div>\r\n            <div></div><div></div><div></div><div></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgStar(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"star\",\n    className: \"star-svg svg-inline--fa fa-star fa-w-18\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 576 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgStar);\nexport default __webpack_public_path__ + \"static/media/star.70885c40.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as StarSvg } from '../assets/img/icons/star.svg'\r\n\r\nexport const utilService = {\r\n    delay,\r\n    getRandomInt,\r\n    makeId,\r\n    getDateFormat,\r\n    renderStars,\r\n    getDateString,\r\n    getFinalPrice\r\n}\r\n\r\nfunction delay(ms = 1500) {\r\n    return new Promise(resolve => {\r\n        setTimeout(resolve, ms)\r\n    })\r\n}\r\n\r\nfunction getRandomInt(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\r\n}\r\n\r\nfunction makeId(length = 5) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return txt;\r\n}\r\nfunction getDateFormat(date) {\r\n    const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\r\n    const currDate = new Date(date)\r\n    const year = currDate.getFullYear();\r\n    const month = months[currDate.getMonth() - 1]\r\n    let day = currDate.getDay();\r\n    // let day = new Date(year, month, 0).getDate();\r\n    if (day === 0) day = 1\r\n    let dateStr = (day < 10) ? `0${day}` : `${day}`\r\n    dateStr += ` ${month}, ${year}`\r\n    return dateStr\r\n}\r\nfunction getDateString(date) {\r\n    return new Date(date).toLocaleDateString('en-Us', { day: 'numeric', month: 'long', year: 'numeric', })\r\n}\r\nfunction renderStars(rate) {\r\n    let stars = []\r\n    for (let i = 0; i < Math.round(rate); i++) {\r\n        stars.push(<StarSvg key={i} />)\r\n    }\r\n    return stars\r\n}\r\n\r\nfunction getFinalPrice(price, discount) {return price - (price * (discount/100))}","import { Link } from 'react-router-dom'\r\nimport { utilService } from '../../services/util.service'\r\nexport function SmallGamePreview({ game }) {\r\n    const gameImg = game.imgs.largeImgUrls[0]\r\n    const finalPrice = utilService.getFinalPrice(game.price, game.discount)\r\n    return (\r\n        <div className=\"small-game-preview space-between\">\r\n            <div>\r\n                <Link className=\"hidden\" to={`/game/${game._id}`} >\r\n                    <div className=\"flex small-img\">\r\n                        <img src={gameImg} alt=\"\" />\r\n                    </div>\r\n                    <div className=\"preview-price\">\r\n                        <p className=\"discount\">{game.discount ? `${game.discount}%` : ''}</p>\r\n                        <div className=\"flex column\">\r\n                            <p className={(game.discount > 0) ? \"in-sale\" : 'f-price'} >${game.price.toFixed(2)}</p>\r\n                            {game.discount ? <p className=\"f-price\" >${finalPrice.toFixed(2)}</p> : ''}\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import { render } from \"@testing-library/react\";\r\nimport { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Loader } from \"../UtilCmps/Loader\";\r\nimport { utilService } from '../../services/util.service'\r\n\r\n\r\n// export function MainGamePreview({ games }) {\r\nexport class MainGamePreview extends Component {\r\n    state = {\r\n        games: null,\r\n        gameIdx: 0,\r\n        imgIdx: 0,\r\n        classTransition: ''\r\n    }\r\n    componentDidMount() {\r\n        const games = this.props.games\r\n        this.toggleTransition()\r\n        this.setState({ games })\r\n    }\r\n\r\n    changeGameByDiff = (diff) => {\r\n        this.setState({ classTransition: '' })\r\n        const { games, gameIdx } = this.state\r\n        let nextIdx = diff += gameIdx\r\n        if (nextIdx < 0) nextIdx = games.length - 1\r\n        if (nextIdx >= games.length) nextIdx = 0\r\n        setTimeout(() => this.setState({ gameIdx: nextIdx }), 100)\r\n        this.toggleTransition()\r\n    }\r\n    changeGameByIdx(idx) {\r\n        this.setState({ classTransition: '' })\r\n        setTimeout(() => this.setState({ gameIdx: idx }), 100)\r\n        this.toggleTransition()\r\n    }\r\n    toggleTransition() {\r\n        setTimeout(() => this.setState({ classTransition: 'transition' }), 100)\r\n    }\r\n    changeImg = (imgIdx) => {\r\n        this.setState({ imgIdx })\r\n    }\r\n    render() {\r\n        const { games, gameIdx, imgIdx, classTransition } = this.state\r\n        if (!games || !games.length) return (<Loader />)\r\n        const game = games[gameIdx]\r\n        const imgs = game.imgs.largeImgUrls.map(img => img)\r\n        const mainImgUrl = games[gameIdx].imgs.largeImgUrls[imgIdx]\r\n        const mainImg = mainImgUrl\r\n        const releasedAt = this.props.utilService.getDateFormat(game.releasedAt)\r\n        const finalPrice = utilService.getFinalPrice(game.price, game.discount)\r\n        return (\r\n            <>\r\n                <div>\r\n\r\n                    <div className=\"main-game-preview container mb-30\">\r\n                        <button className=\"btn btn-prev\" onClick={() => this.changeGameByDiff(-1)} >&#10094;</button>\r\n                        <Link to={`/game/${game._id}`}>\r\n\r\n                            <div className=\"preview-container flex column\">\r\n                                <div className={`m-img ${classTransition}`} >\r\n                                    <img src={mainImg} alt=\"\" />\r\n                                </div>\r\n\r\n                                <div className=\"imgs-container flex column\">\r\n                                    <img\r\n                                        onMouseOver={() => this.changeImg(1)}\r\n                                        onMouseLeave={() => this.changeImg(0)}\r\n                                        className={classTransition} src={imgs[1]} />\r\n                                    <img onMouseOver={() => this.changeImg(2)}\r\n                                        onMouseLeave={() => this.changeImg(0)}\r\n                                        className={classTransition} src={imgs[2]} />\r\n\r\n                                    <h2>{game.title}</h2>\r\n                                    <p>Release date:{releasedAt}</p>\r\n                                </div>\r\n\r\n                                <div className=\"imgs-container flex column space-between\">\r\n                                    <div>\r\n                                    <img onMouseOver={() => this.changeImg(3)}\r\n                                        onMouseLeave={() => this.changeImg(0)}\r\n                                        className={classTransition} src={imgs[3]} />\r\n                                    <img onMouseOver={() => this.changeImg(4)}\r\n                                        onMouseLeave={() => this.changeImg(0)}\r\n                                        className={classTransition} src={imgs[4]} />\r\n                                        \r\n                                    </div>\r\n\r\n                                    <div className=\"preview-price\">\r\n                                        <p className={`discount ${!game.discount && 'hidden'}`}>{game.discount ? `${game.discount}%` : '1'}</p>\r\n                                        <div className=\"price-container flex column\">\r\n                                            <p className={`in-sale ${!game.discount && 'hidden'}`} >${game.price.toFixed(2)}</p>\r\n                                            <p className={`f-price `} >${finalPrice.toFixed(2)}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    {/* <button className=\"btn-home-buy-now btn-success\">Buy now</button> */}\r\n                                    <button className=\"btn-main txt-cap\">Get it today</button>\r\n                                </div>\r\n                            </div>\r\n                        </Link>\r\n                        <button className=\" btn btn-next\" onClick={() => this.changeGameByDiff(1)}> &#10095;</button>\r\n                    </div>\r\n                    <div className=\"carousel-nav flex justify-center\">\r\n                        {games.map((game, idx) =>\r\n                            <div key={'ball' + idx}\r\n                                onClick={() => this.changeGameByIdx(idx)}\r\n                                className={`item ${gameIdx === idx && 'active'} `}\r\n                            ></div>)}\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import { Link } from 'react-router-dom'\r\nexport function CtgList() {\r\n    return (\r\n        <>\r\n            <h2 className=\"ctg-s-title mb-20 container\">Browse game keys</h2>\r\n            <div className=\"ctg-list  flex container gap-20 mb-30\">\r\n                <Link className=\"btn-big \" to=\"/game?tag=adventure\" >Adventure</Link>\r\n                <Link className=\"btn-big \" to=\"/game?tag=racing\" >Racing</Link>\r\n                <Link className=\"btn-big \" to=\"/game?tag=action\" >Action</Link>\r\n                <Link className=\"btn-big \" to=\"/game?tag=sports\" >Sports</Link>\r\n            </div>\r\n            <div className=\"container flex space-between\" >\r\n                <h2 className=\"mb-20 ctg-s-title \">Best sellers</h2>\r\n                <div>\r\n                <Link className=\"btn btn-view align-end  title cap\" to=\"/game\"> View all</Link>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n","import React from \"react\";\r\n// import PropTypes from \"prop-types\";\r\n\r\nexport function Video({ url }) {\r\n    return (\r\n        <div className=\"video-responsive\">\r\n            <iframe\r\n                autoPlay={true}\r\n                width=\"853\"\r\n                height=\"480\"\r\n                src={url}\r\n                frameBorder=\"0\"\r\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                allowFullScreen\r\n                title=\"Embedded youtube\"\r\n            // sandbox=\"allow-forms allow-scripts allow-pointer-lock allow-same-origin allow-top-navigation\"\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\n// Video.propTypes = {\r\n//     embedId: PropTypes.string.isRequired\r\n// };\r\n\r\n// export default Video;","import { Link } from \"react-router-dom\";\r\nimport { Video } from \"../Video\";\r\n\r\nexport function VideoGame({ games }) {\r\n    return (<>\r\n        <div className=\"video-ctg container flex space-between\" >\r\n            <h2 className=\"mb-20 ctg-s-title \">Popular in Game keys</h2>\r\n            <div>\r\n                <Link className=\"btn btn-view align-end  title cap\" to=\"/game\"> View all</Link>\r\n            </div>\r\n        </div>\r\n\r\n        {/* <h2 className=\"container mb-20 ctg-s-title\">Popular in Game keys</h2> */}\r\n        <div className=\"video-container grid-container container\" >\r\n            {games.map(game => {\r\n                return (\r\n                    <div className=\"game-video-container\" key={`video${game._id}`}>\r\n                        <Video url={game.videoUrls[0]} > </Video>\r\n                        <Link to={`/game/${game._id}`}>{game.title}\r\n                            <div className=\"link\" >\r\n                            </div>\r\n                        </Link>\r\n                    </div>\r\n                )\r\n            })}\r\n        </div>\r\n    </>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// export function VideoGame(src) {\r\n//     return (\r\n//         <div>\r\n//             <div className=\"game-video container \">\r\n//                 <video className=\"container \" controls autoPlay={false}>\r\n//                     <source type=\"video/mp4\" src=\"https://res.cloudinary.com/dfdvfunfj/video/upload/v1579773488/m5hjco0y2owps1svf1c3.mp4?#t=0&#autoplay=1&mute=1\" />\r\n//                 </video>\r\n//             </div>\r\n//         </div>\r\n//     )\r\n// }","import { SmallGamePreview } from './DynamicCmps/SmallGamePreview.jsx'\r\nimport { MainGamePreview } from './DynamicCmps/MainGamePreview.jsx'\r\nimport { CtgList } from './DynamicCmps/CtgList.jsx';\r\nimport { VideoGame } from './DynamicCmps/VideoGame.jsx';\r\n\r\nvar gGames = []\r\nexport function DynamicCmp({ games, type = 'main', src, utilService }) {\r\n\r\n\r\n    let countGameToCut = 0\r\n    if (type === 'main') countGameToCut = 11\r\n    else if (type === 'video') countGameToCut = 2\r\n    else countGameToCut = 4\r\n\r\n    if (gGames.length < countGameToCut) gGames = [...games]\r\n\r\n\r\n    const filterGames = gGames.splice(0, countGameToCut)\r\n    const DynamicCmp = () => {\r\n        switch (type) {\r\n            case 'main':\r\n                return (\r\n                    <MainGamePreview games={filterGames} utilService={utilService} />\r\n                )\r\n            case 'video':\r\n                return (\r\n                    <VideoGame games={filterGames} />\r\n                )\r\n            case 'small':\r\n                return (<>\r\n                    <CtgList />\r\n                    {/* <div className=\"preview-container flex container mb-30 gap-20 \"> */}\r\n                    <div className=\"s-preview-container grid-container container mb-30 gap-20 \">\r\n                        {filterGames.map((game, idx) => {\r\n                            if (idx > 3) return\r\n                            return <SmallGamePreview game={game} key={game._id} />\r\n                        })}\r\n                    </div>\r\n                </>\r\n                )\r\n            default: return <></>\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"home-game-list mb-30\">\r\n            <DynamicCmp />\r\n        </div>\r\n    )\r\n}","import Axios from 'axios'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'get', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`)\r\n        console.dir(err)\r\n        if (err.response && err.response.status === 401) {\r\n            window.location.assign('/#/login')\r\n        }\r\n        throw err\r\n    }\r\n}","// import { localService } from './storage.service'\r\n// import { storageService } from './async-Storage.service'\r\nimport { httpService } from './http.service'\r\n// import { games } from '../data/game.data'\r\n\r\nexport const gameService = {\r\n    getGames,\r\n    getById,\r\n    remove,\r\n    save,\r\n    addReview,\r\n    getEmptyGame\r\n}\r\n\r\nfunction getGames(filterBy = { txt: '', tag: 'all', sortBy: 'title' },) {\r\n    return httpService.get('game', filterBy)\r\n    \r\n}\r\nfunction getEmptyGame(){\r\n    return {title:'', price:0}\r\n}\r\nfunction getById(gameId) {\r\n    return httpService.get(`game/${gameId}`, gameId)\r\n    // if (filterBy.sortBy === 'title') {\r\n    //     games.sort((game1, game2) => {\r\n    //         return game1.title.localeCompare(game2.title)\r\n    //     })\r\n    // }\r\n    // if (filterBy.sortBy === 'topReviews') {\r\n    //     games.sort((game1, game2) => {\r\n    //         return game2.rating - game1.rating\r\n    //     })\r\n    // }\r\n\r\n    // if (filterBy.txt) {\r\n    //     const txtRegex = new RegExp(filterBy.txt, 'i')\r\n    //     games = games.filter(game => txtRegex.test(game.title) || txtRegex.test(game.description))\r\n    // }\r\n    // if (filterBy.tag !== 'all') {\r\n    //     games = games.filter(game => {\r\n    //         const tag = game.tags.findIndex(tag => tag === filterBy.tag)\r\n    //         if (tag > -1) return game\r\n    //     })\r\n    // }\r\n}\r\n\r\nfunction remove(gameId) {\r\n    return httpService.delete(`game/${gameId}`)\r\n}\r\nfunction save(game) {\r\n    if (game._id) {\r\n        return httpService.put(`game/${game._id}`, game)\r\n    } else {\r\n        // var newGame = createGame(game)\r\n        // return httpService.post(`game`, newGame)\r\n    }\r\n}\r\nfunction addReview(review, gameId, byUser){\r\n    return httpService.put('game/review', {review, gameId, byUser})\r\n}\r\n// localService.saveToStorage('game', games)\r\n","import { gameService } from '../../services/game.service'\r\n\r\nexport function loadGames(filterBy) {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type: 'LOADING_START' })\r\n            const games = await gameService.getGames(filterBy)\r\n            dispatch({ type: 'SET_GAMES', games })\r\n        } catch (err) {\r\n            console.log('GameActions: err in loadGames', err)\r\n        } finally {\r\n            dispatch({ type: 'LOADING_DONE' })\r\n        }\r\n    }\r\n}\r\nexport function saveGame(game) {\r\n    return async dispatch => {\r\n        try {\r\n            // const toyToSave = (!toy._id) ? await toyService.add(toy) : await toyService.update(toy)\r\n            let gameToSave\r\n            gameToSave = await gameService.save(game) //after back is runing change to add\r\n            const action = (!game._id) ? { type: 'ADD_GAME', game: gameToSave } : { type: 'UPDATE_GAME', game: gameToSave }\r\n            dispatch(action)\r\n        } catch (err) {\r\n            console.log('GamesActions: err in saveGame', err)\r\n        }\r\n    }\r\n}\r\nexport function addReview(review, gameId, loggedInUser) {\r\n    return async dispatch => {\r\n        try {\r\n            const game = await gameService.addReview(review, gameId, loggedInUser)\r\n            dispatch({ type: 'UPDATE_GAME', game })\r\n        } catch (err) {\r\n            console.log('GamesActions: err in addReview', err)\r\n        }\r\n    }\r\n}\r\nexport function removeGame(gameId) {\r\n    return async dispatch => {\r\n        try {\r\n            await gameService.remove(gameId)\r\n            dispatch({ type: 'REMOVE_GAME', gameId })\r\n        } catch (err) {\r\n            console.log('GameActions: err in removeGame', err)\r\n        }\r\n    }\r\n}","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Loader } from '../cmps/UtilCmps/Loader'\r\nimport { DynamicCmp } from '../cmps/DynamicCmp.jsx'\r\nimport { loadGames } from '../store/actions/game.actions'\r\nimport { utilService } from '../services/util.service'\r\n\r\nclass _Home extends Component {\r\n  state = {\r\n\r\n  }\r\n  componentDidMount() {\r\n    this.props.loadGames()\r\n    // this.props.loadUsers()\r\n    // service.query(filter)\r\n  }\r\n\r\n  render() {\r\n    const poster = \"https://res.cloudinary.com/dat4toc2t/image/upload/v1623183624/GameKeys/img/hero2_chf0rb.jpg\"\r\n    const { games } = this.props // Do we need main here??\r\n    if (!games) return <Loader />\r\n    return (\r\n      <div className=\"home-page \">\r\n        <div className=\"home-poster\">\r\n          <img className=\"poster mb-20 \" src={poster} alt=\"defult\"></img>\r\n        </div>\r\n        <div className=\"home-ctg mb-20\">\r\n        </div>\r\n        <DynamicCmp games={games} utilService={utilService} type={'main'} />\r\n        <DynamicCmp games={games} type={'small'} />\r\n        <DynamicCmp games={games} src={''} type={'video'} />\r\n\r\n        {/* <div className=\"game-video container \">\r\n          <video className=\"container \" controls autoPlay={false}>\r\n            <source type=\"video/mp4\" src=\"https://res.cloudinary.com/dfdvfunfj/video/upload/v1579773488/m5hjco0y2owps1svf1c3.mp4?#t=0&#autoplay=1&mute=1\" />\r\n          </video>\r\n        </div> */}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    isLoading: state.systemModule.isLoading,\r\n    games: state.gameModule.games,\r\n    // loggedInUser: state.userModule.loggedInUser\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  loadGames,\r\n}\r\n\r\nexport const Home = connect(mapStateToProps, mapDispatchToProps)(_Home)\r\n","import io from 'socket.io-client'\r\nimport {httpService} from './http.service'\r\n\r\nexport const SOCKET_EMIT_USER_WATCH = 'user-watch';\r\nexport const SOCKET_EVENT_USER_UPDATED = 'user-updated';\r\nexport const SOCKET_EVENT_REVIEW_ADDED = 'review-added';\r\n\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production')? '' : '//localhost:3030'\r\nexport const socketService = createSocketService()\r\n// export const socketService = createDummySocketService()\r\n\r\nwindow.socketService = socketService\r\n\r\nvar socketIsReady = false;\r\n// socketService.setup()\r\n\r\n\r\nfunction createSocketService() {\r\n  var socket = null;\r\n  const socketService = {\r\n    async setup() {\r\n      if (socket) return\r\n      await httpService.get('setup-session')\r\n      socket = io(baseUrl, { reconnection: false})\r\n      socketIsReady = true;\r\n    },\r\n    async on(eventName, cb) {\r\n      if (!socket) await socketService.setup()\r\n      socket.on(eventName, cb)\r\n    },\r\n    async off(eventName, cb=null) {\r\n      if (!socket) await socketService.setup()\r\n      if (!cb) socket.removeAllListeners(eventName)\r\n      else socket.off(eventName, cb)\r\n    },\r\n    async emit(eventName, data) {\r\n      if (!socket) await socketService.setup()\r\n      socket.emit(eventName, data)\r\n    },\r\n    terminate() {\r\n      socket = null\r\n      socketIsReady = false\r\n    }\r\n  }\r\n  return socketService\r\n}\r\n\r\n// eslint-disable-next-line\r\nfunction createDummySocketService() {\r\n  var listenersMap = {}\r\n  const socketService = {\r\n    listenersMap,\r\n    setup() {\r\n      listenersMap = {}\r\n    },\r\n    terminate() {\r\n      this.setup()\r\n    },\r\n    on(eventName, cb) {\r\n      listenersMap[eventName] = [...(listenersMap[eventName]) || [], cb]\r\n    },\r\n    off(eventName, cb) {\r\n      if (!listenersMap[eventName]) return\r\n      if (!cb) delete listenersMap[eventName]\r\n      else listenersMap[eventName] = listenersMap[eventName].filter(l => l !== cb)\r\n    },\r\n    emit(eventName, data) {\r\n      if (!listenersMap[eventName]) return\r\n      listenersMap[eventName].forEach(listener => {\r\n        listener(data)\r\n      })\r\n    },\r\n    debugMsg() {\r\n      this.emit('chat addMsg', {from: 'Someone', txt: 'Aha it worked!'})\r\n    },\r\n  }\r\n  return socketService\r\n}\r\n\r\n\r\n// Basic Tests\r\nfunction cb(x) {console.log(x)}\r\nsocketService.on('baba', cb)\r\nsocketService.on('mama', cb)\r\nsocketService.on('lala', cb)\r\nsocketService.emit('baba', 'DATA')\r\n// socketService.off('baba', cb)\r\n\r\n\r\n","export const users = [\r\n    {\r\n        \"_id\": \"u101\",\r\n        \"fullname\": \"Dan Danovich\",\r\n        \"imgUrl\": \"user1.jpg\",\r\n        \"isAdmin\": false,\r\n        \"username\": \"dan1\",\r\n        \"password\": \"dandan\",\r\n    },\r\n    {\r\n        \"_id\": \"u102\",\r\n        \"fullname\": \"ban banovich\",\r\n        \"imgUrl\": \"user2.jpg\",\r\n        \"isAdmin\": false,\r\n        \"username\": \"ban1\",\r\n        \"password\": \"banban\",\r\n    },\r\n    {\r\n        \"_id\": \"u103\",\r\n        \"fullname\": \"Ran Ranovich\",\r\n        \"imgUrl\": \"user3.jpg\",\r\n        \"isAdmin\": false,\r\n        \"username\": \"ran1\",\r\n        \"password\": \"ranran\",\r\n    }\r\n]","// import { localService } from './storage.service'\r\n// import { storageService } from './async-Storage.service'\r\nimport { httpService } from './http.service'\r\nimport { users } from '../data/user.data'\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getUsers,\r\n    getById,\r\n    remove,\r\n    update,\r\n    getLoggedinUser,\r\n}\r\n\r\nwindow.userService = userService\r\n// Note: due to async, must run one by one...\r\n// userService.signup({fullname: 'Puki Norma', username: 'user1', password:'123',score: 100, isAdmin: false})\r\n// userService.signup({fullname: 'Master Adminov', username: 'admin', password:'123', score: 100, isAdmin: true})\r\n\r\nfunction getUsers() {\r\n    // return storageService.query('user')\r\n    return httpService.get(`user`)\r\n}\r\n\r\nfunction getById(userId) {\r\n    // return storageService.get('user', userId)\r\n    return httpService.get(`user/${userId}`)\r\n}\r\nfunction remove(userId) {\r\n    // return storageService.remove('user', userId)\r\n    return httpService.delete(`user/${userId}`)\r\n}\r\n\r\nasync function update(user) {\r\n    // return storageService.put('user', user)\r\n    user = await httpService.put(`user/${user._id}`, user)\r\n    // Handle case in which admin updates other user's details\r\n    // if (getLoggedinUser()._id === user._id) _saveLocalUser(user)\r\n}\r\n\r\n\r\nasync function login(userCred) {\r\n    // const users = await storageService.query('user')\r\n    // const user = users.find(user => user.username === userCred.username)\r\n    // if(!user) return Promise.reject('lolo')\r\n    // return _saveLocalUser(user)\r\n\r\n    const user = await httpService.post('auth/login', userCred)\r\n    if (user) return _saveLocalUser(user)\r\n}\r\nasync function signup(userCred) {\r\n    // const user = await storageService.post('user', userCred)\r\n    const user = await httpService.post('auth/signup', userCred)\r\n    return _saveLocalUser(user)\r\n}\r\nasync function logout() {\r\n    sessionStorage.clear()\r\n    return await httpService.post('auth/logout')\r\n}\r\nfunction _saveLocalUser(user) {\r\n    sessionStorage.setItem('loggedinUser', JSON.stringify(user))\r\n    return user\r\n}\r\n\r\nfunction getLoggedinUser() {\r\n    return JSON.parse(sessionStorage.getItem('loggedinUser'))\r\n}\r\n\r\n// localService.saveToStorage('user', users)\r\n\r\n\r\n","import { userService } from '../../services/user.service'\r\n\r\n// THUNK action creators\r\n// Work asynchronously with the service and dispatch actions to the reducers \r\n\r\nexport function loadUsers() {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch({ type: 'LOADING_START' })\r\n      const users = await userService.getUsers()\r\n      dispatch({ type: 'SET_USERS', users })\r\n    } catch (err) {\r\n      console.log('UserActions: err in loadUsers', err)\r\n    } finally {\r\n      dispatch({ type: 'LOADING_DONE' })\r\n    }\r\n  }\r\n}\r\n\r\nexport function removeUser(userId) {\r\n  return async dispatch => {\r\n    try {\r\n      await userService.remove(userId)\r\n      dispatch({ type: 'REMOVE_USER', userId })\r\n    } catch (err) {\r\n      console.log('UserActions: err in removeUser', err)\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport function login(userCreds) {\r\n  return async dispatch => {\r\n    try {\r\n      const user = await userService.login(userCreds)\r\n      dispatch({ type: 'SET_USER', user })\r\n    } catch (err) {\r\n      console.log('UserActions: err in login', err)\r\n      throw err\r\n    }\r\n  }\r\n}\r\nexport function signup(userCreds) {\r\n  return async dispatch => {\r\n    try {\r\n      const user = await userService.signup(userCreds)\r\n      dispatch({ type: 'SET_USER', user })\r\n    } catch (err) {\r\n      console.log('UserActions: err in signup', err)\r\n    }\r\n  }\r\n}\r\nexport function logout() {\r\n  return async dispatch => {\r\n    try {\r\n      await userService.logout()\r\n      dispatch({ type: 'SET_USER', user: null })\r\n    } catch (err) {\r\n      console.log('UserActions: err in logout', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function userMsg(msg) {\r\n  return dispatch =>{\r\n    dispatch({ type: 'SET_MSG', msg})\r\n  }\r\n}\r\n","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { socketService } from '../services/socket.service'\r\n\r\nimport {\r\n  loadUsers,\r\n  removeUser,\r\n  login,\r\n  logout,\r\n  signup\r\n} from '../store/actions/user.actions'\r\n\r\nclass _Login extends Component {\r\n  state = {\r\n    msg: '',\r\n    loginCred: {\r\n      username: '',\r\n      password: ''\r\n    },\r\n    signupCred: {\r\n      username: '',\r\n      password: '',\r\n      fullname: ''\r\n    },\r\n    isLogIn: true\r\n  }\r\n\r\n  componentDidMount() {\r\n    // this.props.loadUsers()\r\n  }\r\n\r\n  loginHandleChange = ev => {\r\n    const { name, value } = ev.target\r\n    this.setState(prevState => ({\r\n      loginCred: {\r\n        ...prevState.loginCred,\r\n        [name]: value\r\n      }\r\n    }))\r\n  }\r\n\r\n  signupHandleChange = ev => {\r\n    const { name, value } = ev.target\r\n    this.setState(prevState => ({\r\n      signupCred: {\r\n        ...prevState.signupCred,\r\n        [name]: value\r\n      }\r\n    }))\r\n  }\r\n\r\n  doLogin = async ev => {\r\n    ev.preventDefault()\r\n    const { username, password } = this.state.loginCred\r\n    if (!username) {\r\n      return this.setState({ msg: 'Please enter user/password' })\r\n    }\r\n    const userCreds = { username, password }\r\n    try {\r\n      await this.props.login(userCreds)\r\n      socketService.emit('login', this.props.loggedInUser)\r\n      this.props.history.push(`/`)\r\n    } catch (err) {\r\n      this.setState({ msg: 'Login failed, try again.' })\r\n    }\r\n  }\r\n\r\n  doSignup = async ev => {\r\n    ev.preventDefault()\r\n    const { username, password, fullname } = this.state.signupCred\r\n    if (!username || !password || !fullname) {\r\n      return this.setState({ msg: 'All inputs are required' })\r\n    }\r\n    try {\r\n      const signupCreds = { username, password, fullname }\r\n      await this.props.signup(signupCreds)\r\n      this.props.history.push(`/`)\r\n    } catch (err) {\r\n      this.setState({ msg: 'signup failed, try again.' })\r\n    }\r\n  }\r\n  toggleLoginSignup = () => {\r\n      const { isLogIn } = this.state\r\n      this.setState({ isLogIn: !isLogIn })\r\n    }\r\n    removeUser = userId => {\r\n      this.props.removeUser(userId)\r\n    }\r\n    render() {\r\n      if (this.props.loggedInUser) return null\r\n      let signupSection = (\r\n        <div className=\"login-container\">\r\n          <form className=\"flex space-around align-center column\" onSubmit={this.doSignup}>\r\n            <h1>Signup</h1>\r\n            <label className=\"flex column\" >Full name\r\n          <input\r\n                type=\"text\"\r\n                name=\"fullname\"\r\n                value={this.state.signupCred.fullname}\r\n                onChange={this.signupHandleChange}\r\n                // placeholder=\"Full name\"\r\n                autoComplete=\"fullname\"\r\n              />\r\n            </label>\r\n\r\n            <label className=\"flex column\" >Username\r\n        <input\r\n                type=\"text\"\r\n                name=\"username\"\r\n                value={this.state.signupCred.username}\r\n                onChange={this.signupHandleChange}\r\n                // placeholder=\"Username\"\r\n                autoComplete=\"username\"\r\n              />\r\n            </label>\r\n            <label className=\"flex column  \" >Password\r\n        <input\r\n                className=\"mb-20\"\r\n                name=\"password\"\r\n                type=\"password\"\r\n                value={this.state.signupCred.password}\r\n                onChange={this.signupHandleChange}\r\n                // placeholder=\"Password\"\r\n                autoComplete=\"current-password\"\r\n              />\r\n              <button className=\"btn-join\">Signup</button>\r\n            </label>\r\n          </form>\r\n        </div>\r\n      )\r\n      let loginSection = (\r\n        <div className=\"login-container\">\r\n          <form className=\"flex space-around align-center column\" onSubmit={this.doLogin}>\r\n            <p className=\"login-title\"> SIGN IN</p>\r\n            <label className=\"flex column\" >Game keys account name\r\n          <input\r\n                type=\"text\"\r\n                name=\"username\"\r\n                value={this.state.loginCred.username}\r\n                onChange={this.loginHandleChange}\r\n              // placeholder=\"Username\"\r\n              />\r\n            </label>\r\n\r\n            <label className=\"flex column\" >Password\r\n          <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                value={this.state.loginCred.password}\r\n                onChange={this.loginHandleChange}\r\n              // placeholder=\"Password\"\r\n              />\r\n            </label>\r\n            <button className=\"btn-login mb-20 \" >Sign in</button>\r\n            <a >Forgot your password?</a>\r\n          </form>\r\n        </div>\r\n      )\r\n\r\n      const { isLogIn } = this.state\r\n      const joinImg = \"https://res.cloudinary.com/dat4toc2t/image/upload/v1623183628/GameKeys/img/join_qtv6hr.png\"\r\n      return (\r\n        <div className=\"login space-around align-center flex container mb-20\">\r\n        <div className=\"flex\">\r\n          {isLogIn && loginSection}\r\n          {!isLogIn && signupSection}\r\n        </div>\r\n        {!isLogIn && <button className=\"btn-join\"\r\n          onClick={this.toggleLoginSignup}\r\n        >Back to login</button>}\r\n\r\n        {isLogIn && <div className=\"join-container flex column align-center justify-center space-around\">\r\n          <div className=\"flex column space-between align-center\">\r\n            <p>Join Game keys and discover thousands of games to play.</p>\r\n            <Link to=\"/about\" >Learn more</Link>\r\n          </div>\r\n          {/* <img src={joinImg} alt=\"\" /> */}\r\n          <div className=\"flex justify-center column\">\r\n            <p>It's <span>free</span> and <span>easy</span>  to use.</p>\r\n            <button className=\"btn-join\"\r\n              onClick={this.toggleLoginSignup}\r\n            >Join Game keys</button>\r\n          </div>\r\n        </div>}\r\n      </div>\r\n\r\n      )\r\n    }\r\n  }\r\n\r\n  const mapStateToProps = state => {\r\n    return {\r\n      users: state.userModule.users,\r\n      loggedInUser: state.userModule.loggedInUser,\r\n      // isLoading: state.systemModule.isLoading\r\n    }\r\n  }\r\n  const mapDispatchToProps = {\r\n    login,\r\n    logout,\r\n    signup,\r\n    removeUser,\r\n    loadUsers\r\n  }\r\n\r\n  export const Login = connect(mapStateToProps, mapDispatchToProps)(_Login)\r\n","import React from 'react'\r\n\r\nexport function UserMsg({msg}) {\r\n    return (\r\n        <div className=\"user-msg\">\r\n                <p>{msg}</p>\r\n                </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Link, NavLink } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { logout } from \"../store/actions/user.actions\"\r\nimport { Screen } from \"./UtilCmps/Screen\"\r\nimport NotifyMe from 'react-notification-timeline';\r\nimport { UserMsg } from './UtilCmps/UserMsg'\r\nclass _Header extends Component {\r\n    state = {\r\n        isHidden: true,\r\n        data: []\r\n    }\r\n    // componentDidMount() {\r\n    //     if (this.props.msg) {\r\n    //         this.updateData(this.props.msg)\r\n    //     }\r\n    // }\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.msg){\r\n            if(prevProps.msg === \"You got a gift!!!\")\r\n            this.updateData(prevProps.msg);\r\n        }\r\n    }\r\n    \r\n    updateData(msg) {\r\n        const data =\r\n        {\r\n            \"update\": msg,\r\n            \"timestamp\": Date.now()\r\n        }\r\n        this.setState({ data: [...this.state.data, data] })\r\n        \r\n    }\r\n    \r\n    toggleIsHidden = () => {\r\n        const { isHidden } = this.state\r\n        this.setState({ isHidden: !isHidden })\r\n    }\r\n    \r\n    readAll = () => {\r\n        this.setState({data:[]});\r\n    }\r\n    \r\n    flexClass = 'flex space-around space-between align-center'\r\n    \r\n    onLogout = async () => {\r\n        try {\r\n            await this.props.logout()\r\n        } catch (err) {\r\n            console.log('err', err);\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        const {data} = this.state\r\n        const logo = \"https://res.cloudinary.com/dat4toc2t/image/upload/v1623183631/GameKeys/img/logo/GameKeys-BIG_k1kusx.png\"\r\n        const { loggedInUser } = this.props;\r\n        return <header className={`main-header`}>\r\n            {this.props.msg && <UserMsg msg={this.props.msg} />}\r\n            <div className={`container ${this.flexClass}`}>\r\n                {/* {this.props.msg && <div className=\"user-msg\"></div>} */}\r\n                <Link to=\"/\"><img src={logo} className=\"logo-img\" alt=\"\"></img></Link>\r\n\r\n                <nav className={`${this.flexClass} ${!this.state.isHidden && 'show'}`}>\r\n                    <div className=\"link-container\" >\r\n                        <NavLink exact to=\"/\">Home</NavLink>\r\n                        <NavLink to=\"/game\">Explore</NavLink>\r\n                        <NavLink exact to=\"/about\">About us</NavLink>\r\n                        {!loggedInUser && <Link className=\"btn-login\" to=\"/login\">Login</Link>}\r\n                    </div>\r\n\r\n                    {loggedInUser && <div className=\"user-header\">\r\n                        {/* </details> */}\r\n                    </div>}\r\n                    {/* <Screen isHidden={this.state.isHidden} toggleIsHidden={this.toggleIsHidden} /> */}\r\n                    {loggedInUser && <div className=\"user-menu-container flex \" >\r\n                        <div className=\"flex  align-center\" >\r\n                            <NotifyMe\r\n                                data={data}\r\n                                storageKey='notific_key'\r\n                                notific_key='timestamp'\r\n                                notific_value='update'\r\n                                heading='Notification Alerts'\r\n                                sortedByKey={false}\r\n                                showDate={true}\r\n                                size={18}\r\n                                color=\"#b9e4fd\"\r\n                                markAsReadFn={() => this.readAll()}\r\n                            />\r\n                            <img onClick={() => this.toggleIsHidden()} src={loggedInUser.imgUrl} alt=\"\" />\r\n                        </div>\r\n\r\n                        <div onClick={() => this.toggleIsHidden()} className={`user-menu ${this.state.isHidden && 'hidden-menu'}`}>\r\n                            <div className=\"drop-down\">\r\n                                <Link to=\"/profile\">Profile</Link>\r\n                                {loggedInUser && <a onClick={this.props.logout}>Logout:\r\n                             <span className=\"light-txt txt-cap\"> {loggedInUser.username}</span></a>}\r\n                                <a>Wishlist</a>\r\n                                <a>My store</a>\r\n                            </div>\r\n                        </div>\r\n                    </div>}\r\n                </nav>\r\n\r\n                <div onClick={() => this.toggleIsHidden()}\r\n                    className={`screen ${this.state.isHidden && 'hidden-screen'}`} >\r\n                </div>\r\n                <button className=\"btn-menu \" onClick={() => this.toggleIsHidden()}>☰</button>\r\n            </div>\r\n        </header>\r\n    }\r\n\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    logout,\r\n}\r\n\r\n\r\nexport const Header = connect(mapStateToProps, mapDispatchToProps)(_Header)","import { Link } from 'react-router-dom'\r\nimport { utilService } from '../services/util.service'\r\n\r\nexport function GamePreview({ game }) {\r\n    const previewImg = game.imgs.largeImgUrls[0]\r\n    const finalPrice = game.price - (game.price * (game.discount/100))\r\n    const rating = utilService.renderStars(game.rating)\r\n    \r\n    return (\r\n            <Link to={`/game/${game._id}`}>\r\n                <div className=\"game-card \">\r\n                    <div className=\"card-img-preview\">\r\n                        <img src={previewImg} alt=\"game-preview-img\" className=\"img-preview\"></img>\r\n                    </div>\r\n                    <div className=\"game-info\">\r\n                        <div className=\"game-top-info\">\r\n                            <h4 className=\"preview-tag\">Seller: {game.seller.fullname}</h4>\r\n                            <div className=\"rating flex space-between\">\r\n                                {game.rating>0? <p>{rating} {`(${game.reviews.length})`}</p>: 'Not rated'}\r\n                                <p>{rating.length > 4 ? `Top-Rated` : ''}</p>\r\n                            </div>\r\n                            <h2>{game.title}</h2>\r\n                            <p className=\"small-description\">{game.sDescription}</p>\r\n                        </div>\r\n\r\n                        <div className=\"game-btm-info\">\r\n                            <h4>{game.tags.map((tag, idx) => <span className=\"preview-tag\" key={idx}>{tag}  </span>).slice(0, 3)}</h4>\r\n                            <p className=\"discount\">{game.discount? `${game.discount}%` : ''}</p>\r\n                            <div className=\"flex column\">\r\n                                <p className={(game.discount>0)? \"in-sale\":'f-price'} >${game.price.toFixed(2)}</p>\r\n                                {game.discount ? <p className=\"f-price\" >${finalPrice.toFixed(2)}</p> : ''}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n    )\r\n}","import React from 'react'\r\nimport { GamePreview } from './GamePreview'\r\n\r\nexport function GameList({ games }) {\r\n    return (\r\n        // <div className=\"game-list gap-10 container\">\r\n        <div className=\"grid-container container game-list\">\r\n            {games.map(game => <GamePreview key={game._id} game={game}/> )}\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nexport class GameFilter extends Component {\r\n    state = {\r\n        filterBy: {\r\n            txt: '',\r\n            tag: 'all',\r\n            sortBy: 'title'\r\n        },\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        let { value, name: field } = target\r\n        const { filterBy } = this.state\r\n        this.setState({ filterBy: { ...filterBy, [field]: value } }, () => {\r\n            this.props.onSetFilter(this.state.filterBy)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { txt } = this.state.filterBy\r\n        return (\r\n            <section className=\"game-filter mb-20\">\r\n                <div className=\"filter-container container flex\">\r\n                    <input className=\"game-search\" autoComplete=\"off\"\r\n                        type=\"text\" name=\"txt\" value={txt}\r\n                        placeholder=\"Search a game\" onChange={this.handleChange} />\r\n                    <select className=\"game-select tag\" name=\"tag\" onChange={this.handleChange}>\r\n                        <option value=\"all\">Tag</option>\r\n                        <option value=\"action\">Action</option>\r\n                        <option value=\"rpg\">Rpg</option>\r\n                        <option value=\"strategy\">Strategy</option>\r\n                        <option value=\"fighting\">Fighting</option>\r\n                        <option value=\"racing\">Racing</option>\r\n                        <option value=\"simulation\">Simulation</option>\r\n                        <option value=\"shooter\">Shooter</option>\r\n                        <option value=\"classic\">Classic</option>\r\n                        <option value=\"multiplayer\">Multiplayer</option>\r\n                        <option value=\"adventure\">Adventure</option>\r\n                    </select>\r\n                    <select className=\"game-select sort\" name=\"sortBy\" onChange={this.handleChange}>\r\n                        <option value=\"title\">Title</option>\r\n                        <option value=\"rating\">Top-Reviews</option>\r\n                        <option value=\"rating\">Min-Price</option>\r\n                        <option value=\"rating\">Max-Price</option>\r\n                    </select>\r\n                    {/* {this.props.children} */}\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}","import styled from \"styled-components\";\r\n\r\nexport default styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 250px;\r\n  width: 100%;\r\n  background-color: #00008B;\r\n  color: #fff;\r\n  margin: 0 15px;\r\n  font-size: 4em;\r\n`;\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { gameService } from '../services/game.service'\r\nimport { loadGames } from '../store/actions/game.actions'\r\nimport { GameList } from '../cmps/GameList'\r\nimport { GameFilter } from '../cmps/GameFilter'\r\nimport { GameCarousel } from '../cmps/UtilCmps/GameCarousel'\r\n\r\nclass _GameApp extends Component {\r\n\r\n    componentDidMount() {\r\n        const paramsString = this.props.location.search\r\n        const searchParams = new URLSearchParams(paramsString).get('tag');\r\n        if (searchParams) {\r\n            const filterBy = { tag: searchParams }\r\n            this.props.loadGames(filterBy)\r\n        } else {\r\n            this.props.loadGames()\r\n        }\r\n    }\r\n    onSetFilter = (filterBy) => {\r\n        this.props.loadGames(filterBy)\r\n    }\r\n\r\n    render() {\r\n        const { games } = this.props\r\n        const backgroundImg = \"https://res.cloudinary.com/dat4toc2t/image/upload/v1623183628/GameKeys/img/hero3_ensfhg.jpg\"\r\n        return (\r\n            <section className=\"main-explorer\">\r\n                <img className=\"poster mb-20\" src={backgroundImg} alt=\"\" />\r\n                {/* <button>Save up to 70%</button> */}\r\n                <GameFilter onSetFilter={this.onSetFilter} />\r\n                <GameList games={games} />\r\n            </section>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        isLoading: state.systemModule.isLoading,\r\n        games: state.gameModule.games,\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadGames,\r\n}\r\n\r\nexport const GameApp = connect(mapStateToProps, mapDispatchToProps)(_GameApp)","import { ReactComponent as StarSvg } from '../../assets/img/icons/star.svg'\r\n\r\nexport function Rating({ rate, handleChange, isPreview }) {\r\n  function onHandleChange(ev) {\r\n    if (!isPreview) handleChange(ev)\r\n  }\r\n  return (\r\n    <div className=\"review-rating-stars\">\r\n      <label htmlFor=\"rate-1\" className={rate >= 1 ? 'star-active' : ''}>\r\n        <StarSvg />\r\n      </label>\r\n      <input type=\"radio\" name=\"rate\" id=\"rate-1\" value={1} onChange={onHandleChange} hidden/>\r\n      <label htmlFor=\"rate-2\" className={rate >= 2 ? 'star-active' : ''}>\r\n        <StarSvg />\r\n      </label>\r\n      <input type=\"radio\" name=\"rate\" id=\"rate-2\" value={2} onChange={onHandleChange} hidden />\r\n      <label htmlFor=\"rate-3\" className={rate >= 3 ? 'star-active' : ''} >\r\n        <StarSvg />\r\n      </label>\r\n      <input type=\"radio\" name=\"rate\" id=\"rate-3\" value={3} onChange={onHandleChange} hidden />\r\n      <label htmlFor=\"rate-4\" className={rate >= 4 ? 'star-active' : ''} >\r\n        <StarSvg />\r\n      </label>\r\n      <input type=\"radio\" name=\"rate\" id=\"rate-4\" value={4} onChange={onHandleChange} hidden />\r\n      <label htmlFor=\"rate-5\" className={rate === 5 ? 'star-active' : ''}>\r\n        <StarSvg />\r\n      </label>\r\n      <input type=\"radio\" name=\"rate\" id=\"rate-5\" value={5} onChange={onHandleChange} hidden />\r\n    </div>\r\n  )\r\n}\r\n","import { Component } from 'react'\r\nimport { utilService } from '../../services/util.service'\r\nimport { Rating } from '../UtilCmps/Rating'\r\n\r\nimport { Link } from 'react-router-dom'\r\nimport { Modal } from '../UtilCmps/Modal'\r\n\r\nexport class AddReview extends Component {\r\n    state = {\r\n        review: {\r\n            rate: null,\r\n            txt: '',\r\n        }\r\n    }\r\n\r\n    handleSubmit = (ev) => {\r\n        ev.preventDefault()\r\n    }\r\n    handleChange = ({ target }) => {\r\n        const field = target.name\r\n        const value = target.type === 'radio' ? +target.value : target.value\r\n        this.setState(prevState => ({\r\n            review: {\r\n                ...prevState.review,\r\n                [field]: value\r\n            }\r\n        }))\r\n    }\r\n    onSubmit = async (ev) => {\r\n        ev.preventDefault()\r\n        const { review } = this.state\r\n        if (review.rate < 1) {\r\n            this.props.userMsg('GIVE US SOME STARS')\r\n            setTimeout(() => {\r\n                this.props.userMsg('')\r\n              }, 2000);\r\n            return\r\n        }\r\n        await this.props.onAddReview(review)\r\n        this.setState({review: {\r\n            rate: null,\r\n            txt: '',\r\n\r\n        }})\r\n    }\r\n    render() {\r\n        const { rate, txt } = this.state.review;\r\n        const { loggedInUser } = this.props\r\n        return (\r\n            <div className=\"add-review-form\">\r\n                <form onSubmit={!loggedInUser ? null : this.onSubmit}>\r\n                    <h2>Write A Review </h2>\r\n                    <h3>{loggedInUser && loggedInUser.fullname}</h3>\r\n                    <Rating rate={rate} handleChange={this.handleChange} />\r\n                    <div className=\"review-box-txt\">\r\n                    <textarea ref={this.textInput} name=\"txt\" value={txt} id=\"\" cols=\"40\" rows=\"10\" onChange={this.handleChange}></textarea>\r\n                    </div>\r\n                    <div className=\"review-btn\">\r\n                        {loggedInUser && < button className=\"btn-add-review\">Send</button>}\r\n                        {!loggedInUser && < button className=\"btn-login-review\"><Link to=\"/login\">Sign in</Link></button>}\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n\r\n    }\r\n}","import { utilService } from '../../services/util.service'\r\n\r\nexport function ReviewPreview({ review }) {\r\n    const user = review.byUser\r\n    const createdAt = new Date(review.createdAt).toLocaleDateString('en-Us', { year: 'numeric', month: 'long', day: 'numeric' })\r\n    const userImg = user.imgUrl\r\n    return (\r\n        <div className=\"review-preview\">\r\n            <div className=\"review-user-preview\">\r\n                <img src={userImg} alt=\"user-img\"></img>\r\n                <h2>{user.fullname}</h2>\r\n            </div>\r\n            <div className=\"review-game-preview\">\r\n                {utilService.renderStars(review.rate)}\r\n                <p>Posted: {createdAt}</p>\r\n                <p className=\"review-txt\">{review.txt}</p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import { ReviewPreview } from './ReviewPreview'\r\n\r\nexport function ReviewList({ reviews, }) {\r\n    return (\r\n        <div className=\"review-list\">\r\n            {reviews.map(review => <ReviewPreview review={review} key={review.id + Math.random()} />)}\r\n        </div>\r\n    )\r\n}\r\n","import { httpService } from './http.service'\r\nimport { userService } from './user.service'\r\n\r\nexport const orderService = {\r\n    getOrders,\r\n    getById,\r\n    // remove,\r\n    save,\r\n    checkIsInLibrary\r\n    // addReview\r\n}\r\n\r\nfunction getOrders(filterBy = {},) {\r\n    return httpService.get('order', filterBy)\r\n\r\n}\r\n\r\nfunction getById(orderId) {\r\n    return httpService.get(`order/${orderId}`, orderId)\r\n}\r\n\r\nfunction save(order, buyer) {\r\n    // if (order._id) {\r\n    //     return httpService.put(`order/${order._id}`, order)\r\n    // } else {\r\n    const newOrder = {\r\n        order,\r\n        buyer\r\n    }\r\n    return httpService.post(`order`, newOrder)\r\n    // }\r\n}\r\n\r\nasync function checkIsInLibrary(gameId, userId) {\r\n\r\n    const user = await userService.getById(userId)\r\n    return user.orders.some(order => order.game._id === gameId)\r\n}","import { Link } from 'react-router-dom'\r\nexport function DetailsSideBar({ loggedInUser, isInLibrary }) {\r\n    return (\r\n        <div className=\"sign-in\" >\r\n            <h2>{(loggedInUser && isInLibrary) ? 'Did you like the game' : ' Is this game relevant to you?'}</h2>\r\n            <p>{(loggedInUser && isInLibrary) ? 'Feel free to share a review and tell everyone what you think' :\r\n                `Sign in to see reasons why you may or may not\r\n                   like this based on your games, friends, \r\n                   and curators you follow.`}</p>\r\n            <div>\r\n                {!loggedInUser && <Link to=\"/login\">Sign in</Link>}\r\n                {loggedInUser && <a className=\"btn-add-review\" >Add a review</a>}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { Link } from 'react-router-dom'\r\n\r\nexport function DetailsPriceBar({ isInLibrary, game, finalPrice }) {\r\n    const { _id, discount, title, price } = game\r\n\r\n    return (\r\n        <div className=\"price-container container\">\r\n            <div>\r\n                <h2>{!isInLibrary && <span>Buy</span>} {title}</h2>\r\n                {discount > 50 && <p>WEEKEND DEAL! Offer ends in <span> 29:06:12</span></p>}\r\n            </div>\r\n\r\n            <div className=\"details-price\">\r\n                <div className=\"price-info flex \">\r\n                    {!isInLibrary && <div hidden={!discount ? true : false}>\r\n                        <p className=\"discount \">{discount ? `${discount}%` : ''}</p>\r\n                    </div>}\r\n\r\n                    {!isInLibrary && <div className=\"flex column space-evenly align-center justify-center mr-1\">\r\n                        <p className={(discount > 0) ? \"in-sale\" : 'f-price'} >${price.toFixed(2)}</p>\r\n                        {discount ? <p className=\"f-price\" >${finalPrice.toFixed(2)}</p> : ''}\r\n                    </div>}\r\n\r\n                    {isInLibrary && <Link className=\"btn btn-primary\" to=\"/profile\"> In Library</Link>}\r\n                    {!isInLibrary && <Link to={`/game/order/${_id}`} >\r\n                        <button className=\"btn-main\">Add to cart</button>\r\n                    </Link>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport function InfoBlock({ title, value }) {\r\n    return (\r\n        <div className=\"flex\">\r\n            <p className=\"dark-txt\">{title}: </p>\r\n            <p className=\"light-txt\">{value}</p>\r\n        </div>\r\n    )\r\n}\r\n","import { Link } from 'react-router-dom'\r\nimport { Video } from '../Video.jsx'\r\nimport { InfoBlock } from '../InfoBlock'\r\nexport function DetailsPanel({ game, getDateString }) {\r\n    const { imgs, videoUrls, description, releasedAt, seller, tags } = game\r\n    // const sDescription = description.slice(0, 250)\r\n    const urlImgs = imgs.largeImgUrls\r\n    return (\r\n        <div className=\"details-container container flex gap-5 mb-20\">\r\n            <div className=\"video-container\">\r\n                <div className=\"video flex column justify-center gap-5\">\r\n                    <Video url={videoUrls[0]} />\r\n                    {/* <div className=\"flex img-container gap-10\"> */}\r\n                    <div className=\"grid-container\">\r\n                        {urlImgs.map((img, idx) => {\r\n                            if (idx >= 5) return\r\n                            return <div key={'i' + idx} > <img src={urlImgs[idx+1]} alt=\"\" /></div>\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"details-info flex  \">\r\n                <div>\r\n                    <img className=\"mb-10\" src={urlImgs[0]} alt=\"\" />\r\n                    <p maxLength=\"10\" className=\"s-desc\">{description}</p>\r\n                </div>\r\n                <div>\r\n                    <InfoBlock title=\"RELEASE DATE\" value={getDateString(releasedAt)} />\r\n                    <InfoBlock title=\"Seller\" value={seller.fullname} />\r\n\r\n\r\n                    <div className=\"tag-info flex column\" >\r\n                        <p className=\"dark-txt  mb-10\"> Popular user-defined tags for this product:</p>\r\n                        <div className=\"tag-container flex justify-center gap-5 \">\r\n                            {tags.map((tag, idx) => <Link className=\"btn txt-cap\" to={`/game?tag=${tag}`} key={idx}>{tag} </Link>).slice(0, 3)}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { Link } from 'react-router-dom'\r\nexport function DetailsTopNav({ game }) {\r\n    const { tags, title } = game\r\n    return (\r\n        <div className=\"top-nav mb-2 container\">\r\n            <Link to={`/game`} >All Games  </Link> {'>'}\r\n            <Link className=\"txt-cap\" to={`/game/${tags[0]}`} >{tags[0] + '> '}  </Link>\r\n            <Link to={`/game/${title}`} >{title}</Link>\r\n        </div>\r\n    )\r\n}","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTwitter(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"512pt\",\n    viewBox: \"0 0 512 512\",\n    width: \"512pt\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m256 0c-141.363281 0-256 114.636719-256 256s114.636719 256 256 256 256-114.636719 256-256-114.636719-256-256-256zm116.886719 199.601562c.113281 2.519532.167969 5.050782.167969 7.59375 0 77.644532-59.101563 167.179688-167.183594 167.183594h.003906-.003906c-33.183594 0-64.0625-9.726562-90.066406-26.394531 4.597656.542969 9.277343.8125 14.015624.8125 27.53125 0 52.867188-9.390625 72.980469-25.152344-25.722656-.476562-47.410156-17.464843-54.894531-40.8125 3.582031.6875 7.265625 1.0625 11.042969 1.0625 5.363281 0 10.558593-.722656 15.496093-2.070312-26.886718-5.382813-47.140624-29.144531-47.140624-57.597657 0-.265624 0-.503906.007812-.75 7.917969 4.402344 16.972656 7.050782 26.613281 7.347657-15.777343-10.527344-26.148437-28.523438-26.148437-48.910157 0-10.765624 2.910156-20.851562 7.957031-29.535156 28.976563 35.554688 72.28125 58.9375 121.117187 61.394532-1.007812-4.304688-1.527343-8.789063-1.527343-13.398438 0-32.4375 26.316406-58.753906 58.765625-58.753906 16.902344 0 32.167968 7.144531 42.890625 18.566406 13.386719-2.640625 25.957031-7.53125 37.3125-14.261719-4.394531 13.714844-13.707031 25.222657-25.839844 32.5 11.886719-1.421875 23.214844-4.574219 33.742187-9.253906-7.863281 11.785156-17.835937 22.136719-29.308593 30.429687zm0 0\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTwitter);\nexport default __webpack_public_path__ + \"static/media/twitter.665d9096.svg\";\nexport { ForwardRef as ReactComponent };","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport { gameService } from '../services/game.service'\r\nimport { removeGame, saveGame, addReview } from '../store/actions/game.actions'\r\nimport { loadUsers, userMsg } from '../store/actions/user.actions'\r\nimport { Loader } from '../cmps/UtilCmps/Loader'\r\nimport { AddReview } from '../cmps/ReviewCmps/AddReview'\r\nimport { Link } from 'react-router-dom'\r\nimport { ReviewList } from '../cmps/ReviewCmps/ReviewList'\r\nimport { utilService } from '../services/util.service'\r\nimport { orderService } from '../services/order.service'\r\nimport { DetailsSideBar } from '../cmps/GameDetailsCmps/DetailsSideBar'\r\nimport { DetailsPriceBar } from '../cmps/GameDetailsCmps/DetailsPriceBar'\r\nimport { DetailsPanel } from '../cmps/GameDetailsCmps/DetailsPanel'\r\nimport { DetailsTopNav } from '../cmps/GameDetailsCmps/DetailsTopNav'\r\n\r\n\r\nclass _GameDetails extends Component {\r\n    state = {\r\n        game: null,\r\n        isInLibrary: false\r\n    }\r\n    async componentDidMount() {\r\n        this.props.loadUsers()\r\n        this.loadGame()\r\n        // if (this.props.loggedInUser) this.checkIsInLibrary()\r\n    }\r\n    async loadGame() {\r\n        const game = await gameService.getById(this.props.match.params.gameId)\r\n        this.setState({ game })\r\n        if (this.props.loggedInUser) this.checkIsInLibrary()\r\n    }\r\n    async checkIsInLibrary() {\r\n        if (!this.state.game) return\r\n        const gameId = this.state.game._id\r\n        const userId = this.props.loggedInUser._id\r\n    \r\n        const isInLibrary = await orderService.checkIsInLibrary(gameId, userId)\r\n        this.setState({ isInLibrary })\r\n    }\r\n\r\n    onRemoveGame = async (gameId) => {\r\n        await this.props.removeGame(gameId)\r\n        this.props.history.push('/Game/')\r\n    }\r\n    onAddReview = async (review) => {\r\n        let { game } = this.state\r\n        await this.props.addReview(review, game._id, this.props.loggedInUser)\r\n        this.loadGame()\r\n        this.setState({ game })\r\n    }\r\n\r\n    getDesc() {\r\n        if (this.state.game) {\r\n            const { description } = this.state.game\r\n            const descriptions = description.split('.');\r\n            let shortStr = ''\r\n            let length = 3\r\n            let newDescs = []\r\n            descriptions.forEach((desc, idx) => {\r\n                shortStr += desc + '. '\r\n                if (idx === length) {\r\n                    length += 3\r\n                    newDescs.push(shortStr)\r\n                    shortStr = ''\r\n                }\r\n            })\r\n            return newDescs\r\n        }\r\n    }\r\n    render() {\r\n        const { users, loggedInUser } = this.props\r\n        const { game, isInLibrary } = this.state\r\n        if (!game) return <Loader />\r\n        const finalPrice = utilService.getFinalPrice(game.price, game.discount)\r\n        const descriptions = this.getDesc()\r\n        return (\r\n            <section className=\"main-details \">\r\n                <DetailsTopNav game={game} />\r\n                <h1 className=\"container\" >{game.title}</h1>\r\n                <DetailsPanel game={game} getDateString={utilService.getDateString} />\r\n\r\n                <div className=\"wishlist-link container \">\r\n                    {loggedInUser && !isInLibrary && <button className=\"btn btn-light btn-outline-secondary\" >Add to wishList</button>}\r\n                    {!loggedInUser && <p><Link to={'/login'}>Sign in</Link> to add this item to your wishlist, follow it, or mark it as ignored</p>}\r\n                </div>\r\n\r\n                <div className=\"buy-container flex column gap-10 container\">\r\n                    <DetailsPriceBar isInLibrary={isInLibrary} game={game} finalPrice={finalPrice} />\r\n                    <DetailsSideBar loggedInUser={loggedInUser} isInLibrary={isInLibrary} />\r\n                </div>\r\n\r\n                <div className=\"flex mb-20 container\">\r\n\r\n                    <div className=\"desc\" >\r\n                        <p className=\"title\" >ABOUT THIS GAME</p>\r\n                        {/* {descriptions.map(desc => <p className=\"desc\" >{(desc)}</p>)} */}\r\n                        {descriptions.map((desc,idx) => {\r\n                            return (\r\n                                <div key={'desc'+idx}>\r\n                                    <p>{desc}</p>\r\n                                    <br />\r\n\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n\r\n                </div>\r\n                <div className=\"add-review container\">\r\n                    <AddReview loggedInUser={loggedInUser} onAddReview={this.onAddReview} userMsg={this.props.userMsg} />\r\n                </div>\r\n                <div className=\"reviews-container container \">\r\n                    <ReviewList reviews={game.reviews} users={users} loggedInUser={loggedInUser} />\r\n                </div>\r\n            </section >\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        users: state.userModule.users,\r\n        loggedInUser: state.userModule.loggedInUser\r\n\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadUsers,\r\n    removeGame,\r\n    saveGame,\r\n    addReview,\r\n    userMsg,\r\n}\r\nexport const GameDetails = connect(mapStateToProps, mapDispatchToProps)(_GameDetails)\r\n","import { useEffect, useRef, useState } from \"react\"\r\n\r\nexport const About = () => {\r\n    const [imgIdx, setImg] = useState(0)\r\n    const intervalId = useRef()\r\n    const imgUrls = ['https://res.cloudinary.com/dat4toc2t/image/upload/v1627133999/GameKeys/img/about/about-img5_e0mzaj.jpg',\r\n        'https://res.cloudinary.com/dat4toc2t/image/upload/v1627135561/GameKeys/img/about/about-img6_vsbf2h.jpg',]\r\n    useEffect(() => {\r\n        intervalId.current = setInterval(() => {\r\n\r\n            setImg(imgIdx => {\r\n                if (imgIdx === imgUrls.length-1) {\r\n                  return  imgIdx = 0\r\n                } else {\r\n                   return imgIdx + 1\r\n                }\r\n            })\r\n        }, 3000)\r\n\r\n        return () => {\r\n            clearInterval(intervalId.current)\r\n        }\r\n    }, [imgIdx])\r\n\r\n    return (\r\n        <section className=\"about \">\r\n            <div className=\"about-info flex justify-center\">\r\n                <div className=\"info-title\">\r\n                    <h1>This is GameKeys</h1>\r\n                </div>\r\n                <div className=\"info-txt\">\r\n                    <p>We believe that games should be easy to: access, share, buy & sell and to be affordable, this is why we came with GameKeys.\r\n                        A market place for games, where you can share your thoughts, buy/sell games, get updateed with the newest trands in the gaming industry, and be a part of a community.</p>\r\n                    <p>We work with our own game-app! but we also work with all the major platforms, such as: Steam, Google play and HBO-Games and more.</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"slogen\">\r\n                <img className=\"slogen-img\" src={imgUrls[imgIdx]}>\r\n                </img>\r\n                <div className=\"test\"></div>\r\n                <h2 className=\"slogen-txt\">We are keys, for games!</h2>\r\n            </div>\r\n        </section>\r\n    )\r\n}","var _path, _path2, _path3;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgInstagram(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"512pt\",\n    viewBox: \"0 0 512 512\",\n    width: \"512pt\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m305 256c0 27.0625-21.9375 49-49 49s-49-21.9375-49-49 21.9375-49 49-49 49 21.9375 49 49zm0 0\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m370.59375 169.304688c-2.355469-6.382813-6.113281-12.160157-10.996094-16.902344-4.742187-4.882813-10.515625-8.640625-16.902344-10.996094-5.179687-2.011719-12.960937-4.40625-27.292968-5.058594-15.503906-.707031-20.152344-.859375-59.402344-.859375-39.253906 0-43.902344.148438-59.402344.855469-14.332031.65625-22.117187 3.050781-27.292968 5.0625-6.386719 2.355469-12.164063 6.113281-16.902344 10.996094-4.882813 4.742187-8.640625 10.515625-11 16.902344-2.011719 5.179687-4.40625 12.964843-5.058594 27.296874-.707031 15.5-.859375 20.148438-.859375 59.402344 0 39.25.152344 43.898438.859375 59.402344.652344 14.332031 3.046875 22.113281 5.058594 27.292969 2.359375 6.386719 6.113281 12.160156 10.996094 16.902343 4.742187 4.882813 10.515624 8.640626 16.902343 10.996094 5.179688 2.015625 12.964844 4.410156 27.296875 5.0625 15.5.707032 20.144532.855469 59.398438.855469 39.257812 0 43.90625-.148437 59.402344-.855469 14.332031-.652344 22.117187-3.046875 27.296874-5.0625 12.820313-4.945312 22.953126-15.078125 27.898438-27.898437 2.011719-5.179688 4.40625-12.960938 5.0625-27.292969.707031-15.503906.855469-20.152344.855469-59.402344 0-39.253906-.148438-43.902344-.855469-59.402344-.652344-14.332031-3.046875-22.117187-5.0625-27.296874zm-114.59375 162.179687c-41.691406 0-75.488281-33.792969-75.488281-75.484375s33.796875-75.484375 75.488281-75.484375c41.6875 0 75.484375 33.792969 75.484375 75.484375s-33.796875 75.484375-75.484375 75.484375zm78.46875-136.3125c-9.742188 0-17.640625-7.898437-17.640625-17.640625s7.898437-17.640625 17.640625-17.640625 17.640625 7.898437 17.640625 17.640625c-.003906 9.742188-7.898437 17.640625-17.640625 17.640625zm0 0\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m256 0c-141.363281 0-256 114.636719-256 256s114.636719 256 256 256 256-114.636719 256-256-114.636719-256-256-256zm146.113281 316.605469c-.710937 15.648437-3.199219 26.332031-6.832031 35.683593-7.636719 19.746094-23.246094 35.355469-42.992188 42.992188-9.347656 3.632812-20.035156 6.117188-35.679687 6.832031-15.675781.714844-20.683594.886719-60.605469.886719-39.925781 0-44.929687-.171875-60.609375-.886719-15.644531-.714843-26.332031-3.199219-35.679687-6.832031-9.8125-3.691406-18.695313-9.476562-26.039063-16.957031-7.476562-7.339844-13.261719-16.226563-16.953125-26.035157-3.632812-9.347656-6.121094-20.035156-6.832031-35.679687-.722656-15.679687-.890625-20.6875-.890625-60.609375s.167969-44.929688.886719-60.605469c.710937-15.648437 3.195312-26.332031 6.828125-35.683593 3.691406-9.808594 9.480468-18.695313 16.960937-26.035157 7.339844-7.480469 16.226563-13.265625 26.035157-16.957031 9.351562-3.632812 20.035156-6.117188 35.683593-6.832031 15.675781-.714844 20.683594-.886719 60.605469-.886719s44.929688.171875 60.605469.890625c15.648437.710937 26.332031 3.195313 35.683593 6.824219 9.808594 3.691406 18.695313 9.480468 26.039063 16.960937 7.476563 7.34375 13.265625 16.226563 16.953125 26.035157 3.636719 9.351562 6.121094 20.035156 6.835938 35.683593.714843 15.675781.882812 20.683594.882812 60.605469s-.167969 44.929688-.886719 60.605469zm0 0\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgInstagram);\nexport default __webpack_public_path__ + \"static/media/instagram.a31b2bcd.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgFacebook(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    enableBackground: \"new 0 0 512 512\",\n    height: 512,\n    viewBox: \"0 0 512 512\",\n    width: 512,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m512 256c0-141.4-114.6-256-256-256s-256 114.6-256 256 114.6 256 256 256c1.5 0 3 0 4.5-.1v-199.2h-55v-64.1h55v-47.2c0-54.7 33.4-84.5 82.2-84.5 23.4 0 43.5 1.7 49.3 2.5v57.2h-33.6c-26.5 0-31.7 12.6-31.7 31.1v40.8h63.5l-8.3 64.1h-55.2v189.5c107-30.7 185.3-129.2 185.3-246.1z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFacebook);\nexport default __webpack_public_path__ + \"static/media/facebook.1e46937b.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as TwitchIcon } from '../assets/img/icons/twitter.svg'\r\nimport  {ReactComponent as Instagram} from '../assets/img/icons/instagram.svg'\r\nimport {ReactComponent as Facebook} from '../assets/img/icons/facebook.svg'\r\n\r\nconst logo = \"https://res.cloudinary.com/dat4toc2t/image/upload/v1623183631/GameKeys/img/logo/GameKeys-BIG_k1kusx.png\"\r\nexport function Footer() {\r\n  return (\r\n    <footer className=\"flex column align-center\">\r\n      <div className=\"icon-container flex mb-20  justify-center gap-10\">\r\n        <div className=\"flex align-center\">\r\n          <TwitchIcon className=\"icon\" />\r\n          <div className=\"flex column\">\r\n            <p className=\"icon-title\" >11.9k</p>\r\n            <span>Followers</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex align-center\">\r\n          <Instagram className=\"icon\" />\r\n          <div className=\"flex column\">\r\n            <p className=\"icon-title\" >48k</p>\r\n            <span>Followers</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex align-center\">\r\n          <Facebook className=\"icon\"/>\r\n          <div className=\"flex column\">\r\n            <p className=\"icon-title\" >883k</p>\r\n            <span>LIKES</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <img className=\"logo-footer\" src={logo} alt=\"\"></img>\r\n      <small>Copyrights Gamekeys.com 2021. all rights reserved &copy;2021</small>\r\n    </footer>\r\n  )\r\n}","\r\nexport function CartPreview({ game, onRemoveCart, isCheckout }) {\r\n\r\n    const gameImg = game.imgs.largeImgUrls[0]\r\n    const finalPrice = game.price - (game.price * (game.discount/100))\r\n    return (\r\n        <div className=\"flex space-between cart-card mb-10\">\r\n            <div className=\"flex gap-10\" >\r\n                <img src={gameImg} alt=\"\" />\r\n                <p className=\"card-title\" >{game.title}</p>\r\n            </div>\r\n\r\n            <div className=\"flex column space-evenly align-center justify-center mr-5\">\r\n                {!isCheckout && <p className={game.discount? \"in-sale\" :\"f-price\" } >${game.price.toFixed(2)}</p>}\r\n                <p className=\"f-price\" >${finalPrice.toFixed(2)}</p>\r\n                {!isCheckout && <a className=\"btn-remove\" onClick={() => onRemoveCart(game._id)} >remove</a>}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { Link } from \"react-router-dom\";\r\nimport { CartPreview } from \"./CartPreview\";\r\nexport function CartList({ games, onRemoveCart, isCheckout }) {\r\n    return (\r\n        <>\r\n            {games && games.map(game => <CartPreview\r\n                key={game._id}\r\n                game={game}\r\n                onRemoveCart={onRemoveCart}\r\n                isCheckout={isCheckout}\r\n            />)}\r\n\r\n        </>\r\n    )\r\n}","import {utilService} from './util.service'\r\n\r\nexport const storageService = {\r\n    query,\r\n    get,\r\n    post,\r\n    put,\r\n    remove,\r\n    removeAll\r\n}\r\n\r\nfunction query(entityType) {\r\n    var entities = JSON.parse(localStorage.getItem(entityType)) || []\r\n    return Promise.resolve(entities)\r\n}\r\n\r\n\r\nfunction get(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => entities.find(entity => entity._id === entityId))\r\n}\r\nfunction post(entityType, newEntity) {\r\n    newEntity._id = utilService.makeId()\r\n    return query(entityType)\r\n        .then(entities => {\r\n            entities.push(newEntity)\r\n            _save(entityType, entities)\r\n            return newEntity\r\n        })\r\n}\r\n\r\nfunction put(entityType, updatedEntity) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === updatedEntity._id)\r\n            entities.splice(idx, 1, updatedEntity)\r\n            _save(entityType, entities)\r\n            return updatedEntity\r\n        })\r\n}\r\n\r\nfunction remove(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === entityId)\r\n            entities.splice(idx, 1)\r\n            _save(entityType, entities)\r\n        })\r\n}\r\nfunction removeAll(entityType) {\r\n    console.log('work');\r\n    _save(entityType, [])\r\n}\r\n\r\n\r\nfunction _save(entityType, entities) {\r\n    localStorage.setItem(entityType, JSON.stringify(entities))\r\n}\r\n","\r\nimport { storageService } from './async-Storage.service'\r\nimport { utilService } from './util.service'\r\nimport { gameService } from './game.service'\r\nimport { userService } from './user.service'\r\nconst STORAGE_KEY = 'cart'\r\n\r\nexport const cartService = {\r\n    add,\r\n    query,\r\n    remove,\r\n    getGamesByCarts,\r\n    removeAll\r\n}\r\n\r\n\r\n\r\nasync function query(filterBy) {\r\n\r\n    const carts = await storageService.query(STORAGE_KEY)\r\n    return carts\r\n}\r\nasync function remove(gameId) {\r\n    const carts = await query()\r\n    const cart = carts.find(cart => cart.game._id === gameId)\r\n\r\n    return storageService.remove(STORAGE_KEY, cart._id)\r\n}\r\nasync function removeAll(gameId) {\r\n\r\n    return storageService.removeAll(STORAGE_KEY)\r\n}\r\n\r\n    async function checkIsDuplicate(gameId) {\r\n        const carts = await query()\r\n        return carts.some(cart => cart.game._id === gameId)\r\n    }\r\n\r\n    async function add({ game, }) {\r\n        const { price, discount, title, seller, _id, serialKey } = game\r\n        const isDuplicate = await checkIsDuplicate(_id)\r\n        if (isDuplicate) return null\r\n\r\n        const img = game.imgs.largeImgUrls[0]\r\n        const cart = {\r\n            game: {\r\n                _id: game._id,\r\n                price,\r\n                discount,\r\n                title,\r\n                sellerId: seller._id,\r\n                img,\r\n                serialKey\r\n            },\r\n        }\r\n        const addedCart = storageService.post(STORAGE_KEY, cart)\r\n        return addedCart\r\n    }\r\n    async function getGamesByCarts() {\r\n        const games = await gameService.getGames()\r\n        const carts = await query()\r\n        const filterGames = carts.reduce((acc, cart) => {\r\n            const game = games.filter(game => game._id === cart.game._id)\r\n            return [...acc, ...game]\r\n        }, [])\r\n        return filterGames\r\n    }","import { Component } from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport class FriendsList extends Component {\r\n    state = {\r\n        friendId: null\r\n    }\r\n\r\n    onChoseFriend = (friendId) => {\r\n        this.setState({ friendId })\r\n    }\r\n\r\n    render() {\r\n        const { friendId } = this.state\r\n        const { frinedsList, onCheckOut, toggleModal, isOpenModal } = this.props\r\n        return (\r\n            <div className=\"friends-modal flex column space-between\">\r\n                <div>\r\n                    <h4>Chose from your friends list</h4>\r\n                    {frinedsList.map(friend => {\r\n                        return (\r\n                            <div key={`friend${friend.friendId}`}>\r\n                                <p className={`txt-cap ${(friendId === friend.friendId) && 'active'}`} onClick={() => this.onChoseFriend(friend.friendId)}>{friend.fullname}</p>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n                <div className=\"friends-btn flex justify-center gap-20 align-center\" >\r\n                    <button className=\"btn-main\" onClick={() => onCheckOut(this.state.friendId)}>Purchase</button>\r\n                    <a className=\"\" onClick={() => toggleModal(isOpenModal)}>Back</a>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import { FriendsList } from \"./FriendsList\";\r\n\r\n\r\nexport function CartInfo({ totalPrice, toggleIsCheckout, onFriendSelect, frinedsList, onCheckOut, isOpenModal, toggleModal }) {\r\n    return (\r\n        <>\r\n            <div className=\"flex space-between align-center pad-15\">\r\n                <p >Estimated total</p>\r\n                <div>\r\n                    <p className=\"f-price\" >${totalPrice}</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"flex column  space-evenly align-center justify-center mr-1 pad-15\">\r\n                <p className=\"p-3\">Is this a purchase for yourself or is it a gift? Select one to continue to checkout.</p>\r\n                <div className=\"btn-container flex gap-10  \">\r\n                    <button onClick={() => toggleIsCheckout()}\r\n                        className=\"btn-main\" >Purchase for myself</button>\r\n                    <button className=\"btn-main\" onClick={() => toggleModal(isOpenModal)}>Purchase as a gift</button>\r\n                    {/* <button className=\"gift-btn btn btn-success btn-med\" }>Purchase as a gift</button> */}\r\n                </div>\r\n            </div>\r\n            <div className=\"pad-15\">\r\n                {isOpenModal && <FriendsList\r\n                    isOpenModal={isOpenModal}\r\n                    FriendsList={FriendsList}\r\n                    onCheckOut={onCheckOut}\r\n                    frinedsList={frinedsList}\r\n                    toggleModal={toggleModal} />}\r\n                <p>All prices include VAT where applicable</p>\r\n            </div>\r\n\r\n        </>\r\n\r\n    )\r\n}\r\n","\r\nexport function CartCheckout({ totalPrice, loggedInUser, onCheckOut }) {\r\n    return (\r\n        <>\r\n            <div className=\"flex column\">\r\n                {/* <div className=\"flex space-between align-center pad-15\"> */}\r\n                <div className=\"total-price flex column align-end pad-15\">\r\n                    <div className=\"flex\" >\r\n                        <p className=\"dark-txt\" >Subtotal:</p>\r\n                        <p className=\"\" >${totalPrice}</p>\r\n                    </div>\r\n                    <div className=\"tax flex\" >\r\n                        <p className=\"dark-txt\" >Tax:</p>\r\n                        <p>0</p>\r\n                    </div>\r\n                    <div className=\"flex\" >\r\n                        <p className=\"dark-txt\" >Total:</p>\r\n                        <p className=\"f-price\" >${totalPrice}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex gap-10 pad-5\">\r\n                    <p className=\"dark-txt\">Payment method:</p>\r\n                    <p className=\"visa\" >Visa ending in 4758</p>\r\n                </div>\r\n                <div className=\"flex gap-10 pad-5 \">\r\n                    <p className=\"dark-txt\" >Gift options:</p>\r\n                    <p >This purchase is for your own account.</p>\r\n                </div>\r\n                <div className=\"flex gap-10 pad-5\">\r\n                    <p className=\"dark-txt\" >Game keys account:</p>\r\n                    <p className=\"txt-cap\" >{loggedInUser.username}</p>\r\n                </div>\r\n                <div className=\"align-end pad-15\">\r\n                    <button className=\"btn-med btn btn-success\" onClick={() => onCheckOut(loggedInUser._id)}>Purchase</button>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import { Component } from \"react\"\r\nimport { connect } from 'react-redux'\r\nimport { CartList } from \"../cmps/cartCmps/CartList\";\r\nimport { addToCart, loadCarts, removeCart, removeCarts } from \"../store/actions/cart.actions\";\r\nimport { saveOrder, } from \"../store/actions/order.actions\";\r\nimport { userMsg } from \"../store/actions/user.actions\";\r\nimport { cartService } from \"../services/cart.service\";\r\nimport { gameService } from \"../services/game.service\";\r\nimport { Modal } from \"../cmps/UtilCmps/Modal\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CartInfo } from \"../cmps/cartCmps/CartInfo\";\r\nimport { CartCheckout } from \"../cmps/cartCmps/CartCheckout\";\r\nimport { socketService } from \"../services/socket.service\";\r\n\r\nclass _GameCart extends Component {\r\n    state = {\r\n        carts: [],\r\n        games: [],\r\n        isCheckout: false,\r\n        buyToUserId: null,\r\n        frinedsList: null,\r\n        isOpenModal: false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n        const game = await gameService.getById(this.props.match.params.gameId)\r\n        await this.props.addToCart(game, this.props.loggedInUser)\r\n        await this.props.loadCarts()\r\n        this.setState({ carts: this.props.carts })\r\n        const games = await cartService.getGamesByCarts(this.props.carts)\r\n        this.setState({ games })\r\n    }\r\n\r\n    onRemoveCart = async (gameId) => {\r\n        await this.props.removeCart(gameId)\r\n        const newGames = this.state.games.filter(game => game._id !== gameId)\r\n        this.setState({ games: newGames })\r\n        this.setState({ carts: this.props.carts })\r\n    }\r\n\r\n    onRemoveCarts = async () => {\r\n        await this.props.removeCarts()\r\n        this.setState({ games: [] })\r\n        this.setState({ carts: [] })\r\n    }\r\n\r\n    onCheckOut = async (buyToUserId) => {\r\n        if (!buyToUserId) return\r\n        const { carts } = this.state\r\n        const { loggedInUser } = this.props\r\n        let buyer;\r\n        if (buyToUserId !== loggedInUser._id) {\r\n            buyer = { _id: buyToUserId }\r\n            this.toggleModal(this.state.isOpenModal)\r\n        } else buyer = loggedInUser\r\n\r\n        await Promise.all(carts.map(async cart => {\r\n            const savedOrder = await this.props.saveOrder(cart, buyer)\r\n            await buyToUserId !== loggedInUser._id ? socketService.emit('giftSent', buyToUserId) : socketService.emit('orderSent', savedOrder)\r\n            // socketService.emit('orderSent',savedOrder)\r\n            // await socketService.emit('orderSent', savedOrder)\r\n            this.props.userMsg('Your purchase has been made')\r\n            setTimeout(() => {\r\n                this.props.userMsg('')\r\n                // this.props.history.push('/profile')\r\n            }, 2000);\r\n            return savedOrder\r\n        }))\r\n        localStorage.clear('cart')\r\n        return console.log('thnx for buying');\r\n    }\r\n\r\n    getTotalPrice = (games) => {\r\n        if (games) {\r\n            return games.reduce((acc, game) => {\r\n                if (!game.discount) return acc += game.price\r\n                const finalPrice = game.price - (game.price * (game.discount / 100))\r\n                return acc += finalPrice\r\n            }, 0).toFixed(2)\r\n        }\r\n        return 0\r\n    }\r\n    toggleIsCheckout = () => {\r\n        if (!this.props.loggedInUser) {\r\n            // Modal('👍', 'Log in to continue the purchase', 1500)\r\n            this.props.userMsg('Log in to continue the purchase')\r\n\r\n            return setTimeout(() => {\r\n                this.props.history.push('/login')\r\n                this.props.userMsg('')\r\n            }, 1500)\r\n        }\r\n        const { carts } = this.state\r\n        if (!carts.length) {\r\n            this.props.userMsg('Added to the cart')\r\n            // return Modal('🛒', 'Added to the cart', 2000)\r\n        }\r\n        this.setState({ isCheckout: true })\r\n    }\r\n    // onPlaceOrder \r\n    onFriendSelect = (friends) => {\r\n        this.setState({ frinedsList: friends })\r\n    }\r\n    toggleModal = (isOpenModal) => {\r\n        const {friends} = this.props.loggedInUser\r\n        if(!friends) return\r\n        this.onFriendSelect(friends)\r\n        this.setState({ isOpenModal:!isOpenModal})\r\n    }\r\n    render() {\r\n        const { carts, games, isCheckout, frinedsList,isOpenModal } = this.state\r\n        const { loggedInUser } = this.props\r\n        const img1 = \"https://res.cloudinary.com/dat4toc2t/image/upload/v1623183655/GameKeys/img/background-5_t0clwl.jpg\"\r\n        const img2 = \"https://res.cloudinary.com/dat4toc2t/image/upload/v1623183651/GameKeys/img/background-1_mwtzmp.jpg\"\r\n        const totalPrice = this.getTotalPrice(games)\r\n        return (\r\n            <div className=\"cart-container container\" >\r\n\r\n                <div className=\"mb-20\">\r\n                    <Link to={`/`} >All Products  </Link> {'>'}\r\n                    <a  >Your Shopping Cart </a>\r\n                </div>\r\n\r\n                <h2 className=\"mb-20\" >YOUR SHOPPING CART</h2>\r\n\r\n                <div className=\"cart-status mb-20\">\r\n                    <p>{(!isCheckout) ? 'YOUR ITEM\\'S BEEN ADDED!' : 'Review + purchase'}\r\n                        <span className=\"triangle-down\" ></span>\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"cart-info flex gap-20\">\r\n                    <div className={`flex column gap-20 ${isCheckout && 'width-70'}`} >\r\n                        <div className=\"flex column \">\r\n                            <div className=\"flex space-between column cart-card  \">\r\n                                <CartList games={games}\r\n                                    onRemoveCart={this.onRemoveCart}\r\n                                    isCheckout={isCheckout}\r\n                                />\r\n\r\n                                {!isCheckout && <CartInfo\r\n                                    toggleModal={this.toggleModal}\r\n                                    isOpenModal={isOpenModal}\r\n                                    toggleIsCheckout={this.toggleIsCheckout}\r\n                                    totalPrice={totalPrice}\r\n                                    onFriendSelect={this.onFriendSelect}\r\n                                    frinedsList={frinedsList}\r\n                                    onCheckOut={this.onCheckOut}\r\n                                    onUpdateCarts={this.onUpdateCarts} />}\r\n\r\n                                {isCheckout && < CartCheckout\r\n                                    totalPrice={totalPrice}\r\n                                    loggedInUser={loggedInUser}\r\n                                    onCheckOut={this.onCheckOut}\r\n                                />}\r\n\r\n                            </div>\r\n\r\n                            {!isCheckout && <a onClick={() => this.onRemoveCarts()}\r\n                                className=\"align-end btn-remove\">Remove all items</a>}\r\n\r\n                            <div>\r\n                                {!isCheckout && <Link to=\"/\" className=\"btn-med btn-light\" >Continue Shopping</Link>}\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                    {!isCheckout && <div className=\"card-game flex gap-5 column\">\r\n                        <div>\r\n                            <img src={img1} alt=\"\" />\r\n                        </div>\r\n                        <div>\r\n                            <img src={img2} alt=\"\" />\r\n                        </div>\r\n                    </div>}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedInUser: state.userModule.loggedInUser,\r\n        carts: state.cartModule.carts,\r\n        msg: state.userModule.msg\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    addToCart,\r\n    loadCarts,\r\n    removeCart,\r\n    removeCarts,\r\n    saveOrder,\r\n    userMsg,\r\n}\r\n\r\nexport const GameCart = connect(mapStateToProps, mapDispatchToProps)(_GameCart)","// import { reviewService } from '../../services/review.service'\r\nimport { cartService } from '../../services/cart.service'\r\n// import { socketService, SOCKET_EVENT_REVIEW_ADDED } from '../../services/socket.service'\r\n\r\n\r\nexport function loadCarts() {\r\n    return async dispatch => {\r\n        try {\r\n            const carts = await cartService.query()\r\n            dispatch({ type: 'SET_CARTS', carts })\r\n        } catch (err) {\r\n            console.log('ReviewActions: err in loadReviews', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function addToCart(game) {\r\n    return async dispatch => {\r\n        try {\r\n            const newCart = await cartService.add({ game })\r\n            if (newCart) dispatch({ type: 'ADD_CART', cart: newCart })\r\n        } catch (err) {\r\n            console.log('CartActions: err in addCart', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function removeCart(gameId) {\r\n    return async dispatch => {\r\n        try {\r\n            await cartService.remove(gameId)\r\n            dispatch({ type: 'REMOVE_CART', gameId })\r\n        } catch (err) {\r\n            console.log('cartActions: err in remove cart', err)\r\n        }\r\n    }\r\n}\r\nexport function removeCarts() {\r\n    return async dispatch => {\r\n        try {\r\n            await cartService.removeAll()\r\n            dispatch({ type: 'REMOVE_CARTS' })\r\n        } catch (err) {\r\n            console.log('cartActions: err in remove cart', err)\r\n        }\r\n    }\r\n}\r\n","import { orderService } from '../../services/order.service'\r\n\r\nexport function loadOrders(filterBy) {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type: 'LOADING_START' })\r\n            const orders = await orderService.getOrders(filterBy)\r\n            dispatch({ type: 'SET_ORDERS', orders })\r\n        } catch (err) {\r\n            console.log('OrderActions: err in loadOrders', err)\r\n        } finally {\r\n            dispatch({ type: 'LOADING_DONE' })\r\n        }\r\n    }\r\n}\r\nexport function saveOrder(order, buyer) {\r\n    return async dispatch => {\r\n        try {\r\n            \r\n            const orderToSave = await orderService.save(order, buyer) //after back is runing change to add\r\n            const action ={ type: 'ADD_ORDER', order: orderToSave }\r\n            dispatch(action)\r\n            return orderToSave\r\n        } catch (err) {\r\n            console.log('OrdersActions: err in saveOrder', err)\r\n        }\r\n    }\r\n}\r\n","\r\nexport function UserHeader({fullname, img}) {\r\n    const backgroundImg = \"https://res.cloudinary.com/dat4toc2t/image/upload/v1623183702/GameKeys/img/user-profile-hero_cytz5i.jpg\"\r\n    const userImg = img\r\n    return (\r\n        <header>\r\n            <div className=\"user-profile-header container\">\r\n                <img className=\"hero\" src={backgroundImg} alt=\"\" />\r\n                <div>\r\n                    <img className=\"avatar\" src={userImg} alt=\"\"></img>\r\n                </div>\r\n            </div>\r\n            <h2 className=\"username-title\" >Hello {fullname}</h2>\r\n        </header>\r\n    )\r\n\r\n\r\n}","import React, { useState } from 'react';\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\nimport { Link } from 'react-router-dom'\r\n\r\n// const finalSpaceCharacters = [\r\n//   {\r\n//     id: 'gary',\r\n//     name: 'Gary Goodspeed',\r\n//     thumb: '/images/gary.png'\r\n//   },\r\n//   {\r\n//     id: 'cato',\r\n//     name: 'Little Cato',\r\n//     thumb: '/images/cato.png'\r\n//   },\r\n//   {\r\n//     id: 'kvn',\r\n//     name: 'KVN',\r\n//     thumb: '/images/kvn.png'\r\n//   },\r\n//   {\r\n//     id: 'mooncake',\r\n//     name: 'Mooncake',\r\n//     thumb: '/images/mooncake.png'\r\n//   },\r\n//   {\r\n//     id: 'quinn',\r\n//     name: 'Quinn Ergon',\r\n//     thumb: '/images/quinn.png'\r\n//   }\r\n// ]\r\n\r\nexport function DanDUserGameList({ orders, onGameClicked }) {\r\n  const [boughtGamess, updateGames] = useState(orders);\r\n\r\n  function handleOnDragEnd(result) {\r\n    if (!result.destination) return;\r\n\r\n    const items = Array.from(boughtGamess);\r\n    const [reorderedItem] = items.splice(result.source.index, 1);\r\n    items.splice(result.destination.index, 0, reorderedItem);\r\n\r\n    updateGames(items);\r\n  }\r\n  // if\r\n  return (\r\n    <DragDropContext onDragEnd={handleOnDragEnd}>\r\n      <Droppable droppableId=\"boughtGamess\" direction=\"horizontal\">\r\n        {(provided) => (\r\n          <div className=\"boughtGamess mb-20\" {...provided.droppableProps} ref={provided.innerRef}>\r\n            {boughtGamess.map(({ game }, index) => {\r\n              return (\r\n                <Draggable key={game._id} draggableId={game._id} index={index}>\r\n                  {(provided) => (\r\n                    <div onClick={() => onGameClicked(game.serialKey)} ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\r\n                      <div className=\"game-user-preview\">\r\n                        <div className=\"user-game-card\">\r\n                          <div className=\"user-game-card-img\">\r\n                            <img src={game.img} alt=\"\"></img>\r\n                          </div>\r\n                          <div className=\"user-game-title\">\r\n                            <h2>{game.title}</h2>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )\r\n                  }\r\n                </Draggable>\r\n              );\r\n            })}\r\n            {provided.placeholder}\r\n          </div>\r\n        )}\r\n      </Droppable>\r\n    </DragDropContext >\r\n  );\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport { connect } from 'react-redux'\r\nimport { loadGames } from '../store/actions/game.actions'\r\nimport { UserHeader } from '../cmps/UserCmps/UserHeader'\r\nimport { UserGameList } from '../cmps/UserCmps/UserGameList'\r\nimport { DanDUserGameList } from '../cmps/UserCmps/DanDUserGameList'\r\nimport { userService } from '../services/user.service'\r\nimport { Chart } from '../cmps/UtilCmps/Chart'\r\nimport { Link } from 'react-router-dom'\r\n\r\nclass _UserProfile extends Component {\r\n    state = {\r\n        user: null,\r\n        serialKey: '',\r\n        gamesToSell: null\r\n    }\r\n    componentDidMount = async () => {\r\n        const { loggedInUser } = this.props\r\n        if (!loggedInUser) return this.props.history.push(`/`)\r\n        const user = await userService.getById(loggedInUser._id)\r\n        this.setState({ user })\r\n        await this.props.loadGames()\r\n        const games = this.props.games\r\n        const gamesToSell = games.filter(game => game.seller._id === loggedInUser._id)\r\n        this.setState({ gamesToSell })\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const { loggedInUser } = this.props\r\n        const { user } = this.state\r\n        if (prevProps.loggedInUser !== loggedInUser) {\r\n            if (!loggedInUser) this.props.history.push(`/`)\r\n            // if (!user) this.props.history.push(`/`)\r\n        }\r\n    }\r\n    onGameClicked = (serialKey) => {\r\n        this.setState({ serialKey: serialKey })\r\n    }\r\n    render() {\r\n        const { loggedInUser } = this.props\r\n        const { user, serialKey, gamesToSell } = this.state\r\n        if (!loggedInUser) return <h1>No user to show</h1>\r\n        if (!user) return <h1>Loading</h1>\r\n        if (!gamesToSell) return <h1>Loading</h1>\r\n        return (\r\n            <section className=\"main-user-profile\">\r\n                <UserHeader fullname={user.fullname} img={user.imgUrl} />\r\n                <div className=\"user-bought-list container\">\r\n                    <h1>Games you bought</h1>\r\n                    {/* <UserGameList orders={user.orders} /> */}\r\n                    <DanDUserGameList orders={user.orders} onGameClicked={this.onGameClicked} />\r\n                </div>\r\n                <div className=\"user-sell-container container\">\r\n                    <h1>Games you sell</h1>\r\n                    <div className=\"user-sell-list\">\r\n                        {gamesToSell.map(game => <div className=\"user-sell-preview\" key={game._id}>\r\n                            <div className=\"user-sell-card\">\r\n                                <div className=\"user-sell-img\">\r\n                                    <img src={game.imgs.largeImgUrls[0]} alt=\"\"></img>\r\n                                </div>\r\n                                <div className=\"user-sell-info\">\r\n                                    <h2>{game.title}</h2>\r\n                                    <h2>Sell price: ${game.price}</h2>\r\n                                </div>\r\n                                <Link to={`/profile/mystore/edit/${game._id}`}>Edit</Link>\r\n                            </div>\r\n                        </div>)}\r\n                    </div>\r\n                </div>\r\n                {/* <div className=\"main-chart container\">\r\n                    <h1>Statistics</h1>\r\n                    <div className=\"chart-preview\">\r\n                        <Chart type=\"bar\" \r\n                        labels={['January','February','March','April','May','June']}\r\n                            label='Amout made in $'\r\n                            datas={[280.00,450.00,387.97,258.95,370.00,35.00]}\r\n                        />\r\n                        <Chart type=\"bar\" \r\n                        labels={['January','February','March','April','May','June']}\r\n                            label='Play time: in hours-monthly'\r\n                            datas={[72,35,112,28,56,10]}\r\n                        />\r\n                    </div>\r\n                </div> */}\r\n                {serialKey && <div className=\"game-clicked-info\">\r\n                    <h1>Your serial-key:<span> {serialKey}</span></h1>\r\n                    <p>Add your key to your favorite app</p>\r\n                    <p>We advise to use GameKeys app! but we work with</p>\r\n                    <p>Steam, Google play and HBO-Games</p>\r\n                    <p>Enjoy</p>\r\n                    <botton className=\"game-user-btn\" onClick={() => this.onGameClicked('')}>GG</botton>\r\n                </div>}\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        isLoading: state.systemModule.isLoading,\r\n        games: state.gameModule.games,\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadGames,\r\n}\r\nexport const UserProfile = connect(mapStateToProps, mapDispatchToProps)(_UserProfile)","import React, { useState } from 'react';\r\nimport { Component } from 'react';\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\n// import './App.css';\r\n\r\n\r\nconst finalSpaceGames = [\r\n  {\r\n    id: 'gary',\r\n    like: 'like',\r\n    thumb: '/images/gary.png'\r\n  },\r\n  // {\r\n  //   id: 'cato',\r\n  //   like: 'unLike',\r\n  //   thumb: '/images/cato.png'\r\n  // },\r\n  // {\r\n  //   id: 'kvn',\r\n  //   name: 'KVN',\r\n  //   thumb: '/images/kvn.png'\r\n  // },\r\n  // {\r\n  //   id: 'mooncake',\r\n  //   name: 'Mooncake',\r\n  //   thumb: '/images/mooncake.png'\r\n  // },\r\n  // {\r\n  //   id: 'quinn',\r\n  //   name: 'Quinn Ergon',\r\n  //   thumb: '/images/quinn.png'\r\n  // }\r\n]\r\n\r\nexport class GameSwipe extends Component {\r\n  state = {\r\n    games: []\r\n  }\r\n  componentDidMount() {\r\n    this.setState({ games: finalSpaceGames })\r\n  }\r\n\r\n  // const [characters, updateCharacters] = useState(finalSpaceCharacters);\r\n  // const [characters, updateCharacters] = useState(finalSpaceCharacters);\r\n  // const { characters } = this.state\r\n  handleOnDragEnd = (result) => {\r\n    if (!result.destination) return;\r\n    const { games } = this.state\r\n    const items = Array.from(games);\r\n    const [reorderedItem] = items.splice(result.source.index, 1);\r\n    items.splice(result.destination.index, 0, reorderedItem);\r\n\r\n\r\n  }\r\n  moveTo(ev) {\r\n    console.log(ev.clientX);\r\n  }\r\n  render() {\r\n    const { games } = this.state\r\n    return (\r\n      <div className=\"App\" >\r\n        <header className=\"App-header\">\r\n          <h1>Final Space games</h1>\r\n          <DragDropContext onDragEnd={this.handleOnDragEnd}>\r\n            <Droppable droppableId=\"games\">\r\n              {(provided) => (\r\n                // <ul className=\"characters\" {...provided.droppableProps} ref={provided.innerRef}>\r\n                <div className=\"swipe-game games flex justify-center align-center\" {...provided.droppableProps} ref={provided.innerRef}>\r\n                  {games.map(({ id }, idx) => {\r\n                    return (\r\n                      <Draggable key={id} draggableId={id} index={idx}>\r\n                        {(provided) => (\r\n                          <div className=\"card-swipe\"\r\n                            onMouseDown={this.moveTo}\r\n                            onMouseMove={this.moveTo}\r\n                           \r\n                            onClick={this.moveTo}\r\n                            ref={provided.innerRef}\r\n                            {...provided.draggableProps}\r\n                            {...provided.dragHandleProps} ></div>\r\n                        )}\r\n                      </Draggable>\r\n                    );\r\n                  })}\r\n                  {provided.placeholder}\r\n                </div>\r\n                // </ul>\r\n\r\n              )}\r\n            </Droppable>\r\n          </DragDropContext>\r\n        </header>\r\n        <p>\r\n          Images from <a href=\"https://final-space.fandom.com/wiki/Final_Space_Wiki\">Final Space Wiki</a>\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useForm } from '../services/customHooks.js'\r\nimport { useDispatch } from 'react-redux'\r\nimport { saveGame } from '../store/actions/game.actions.js'\r\nimport { gameService } from '../services/game.service'\r\n\r\nexport const GameEdit = ({ history, match })=>{\r\n    const [game, handleChange, setGame] = useForm(gameService.getEmptyGame())\r\n\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        loadGame()\r\n    }, [])\r\n\r\n    const loadGame = async () => {\r\n        const { gameId } = match.params\r\n        if (gameId) {\r\n            const _game = await gameService.getById(gameId)\r\n            setGame(_game)\r\n        }\r\n    }\r\n\r\n    const onAddGame = async (ev) => {\r\n        ev.preventDefault()\r\n        console.log(game);\r\n        dispatch(saveGame(game))\r\n        history.push('/')\r\n    }\r\n    \r\n    return(\r\n        <form className=\"game-edit container\" onSubmit={(ev) => onAddGame(ev)}>\r\n            <h1>Game edit</h1>\r\n            <div className=\"\">\r\n                <label htmlFor=\"Title\">Title:</label>\r\n                <input type=\"text\" name=\"title\" placeholder=\"title\" value={game.title} onChange={handleChange} />\r\n                <label htmlFor=\"serialKey\">SerialKey:</label>\r\n                <input type=\"text\" name=\"serialKey\" placeholder=\"serialKey\" value={game.serialKey} onChange={handleChange} />\r\n                <label htmlFor=\"Price\">Price:</label>\r\n                <input type=\"number\" name=\"price\" placeholder=\"price\" value={game.price} onChange={handleChange} />\r\n                <label htmlFor=\"Discount\">Discount:</label>\r\n                <input type=\"number\" name=\"discount\" placeholder=\"discount\" value={game.discount} onChange={handleChange} />\r\n                <label htmlFor=\"sDescription\">Short description:</label>\r\n                <textarea type=\"textarea\" name=\"sDescription\" cols=\"40\" rows=\"5\" placeholder=\"sDescription\" value={game.sDescription} onChange={handleChange} />\r\n                <label htmlFor=\"Description\">Description:</label>\r\n                <textarea type=\"textarea\" name=\"description\" placeholder=\"description\" cols=\"40\" rows=\"10\" value={game.description} onChange={handleChange} />\r\n                <button className='btn-main'>Save</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}","import { useEffect, useState } from 'react'\r\n\r\nexport const useForm = (initialState, cb = () => { }) => {\r\n  const [fields, setFields] = useState(initialState)\r\n\r\n  useEffect(() => {\r\n    cb(fields)\r\n  }, [fields])\r\n\r\n  return [\r\n    fields,\r\n    function (ev) {\r\n      const field = ev.target.name\r\n      const value = (ev.target.type === 'number') ? +ev.target.value : ev.target.value\r\n      setFields(prevFields => ({ ...prevFields, [field]: value }))\r\n    },\r\n    setFields\r\n  ]\r\n}","import { Component } from 'react'\r\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\n\r\nimport { Home } from './pages/Home'\r\nimport { Login } from './pages/Login'\r\n// import { UserDetails } from './src/pages/UserDetails'\r\n\r\nimport { Header } from './cmps/Header'\r\nimport { GameApp } from './pages/GameApp'\r\nimport { GameDetails } from './pages/GameDetails'\r\nimport { About } from './pages/About'\r\nimport { userMsg } from './store/actions/user.actions'\r\n\r\nimport { Footer } from './cmps/Footer'\r\nimport { GameCart } from './pages/GameCart'\r\nimport { UserProfile } from './pages/UserProfile'\r\nimport { socketService } from './services/socket.service'\r\nimport { GameSwipe } from './cmps/UtilCmps/GameSwipe'\r\nimport { login } from './store/actions/user.actions'\r\nimport { GameEdit } from './pages/GameEdit'\r\n\r\nclass _App extends Component {\r\n  state = {\r\n    msg: '',\r\n    isUpdate: null\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const userCreds = { username:'Admin', password:'Admin'}\r\n    await this.props.login(userCreds)\r\n    await socketService.setup()\r\n    await socketService.on('gameBought', this.onGameBought)\r\n    await socketService.on('giftBought', this.onGiftSent)\r\n    this.setState({ msg: this.props.msg })\r\n  }\r\n  componentWillUnmount() {\r\n    socketService.terminate()\r\n  }\r\n\r\n  onGameBought = async (order) => {\r\n    await this.props.userMsg('An order has been made')\r\n    this.setState({ msg: this.props.msg, isUpdate: true })\r\n    setTimeout(() => {\r\n      this.props.userMsg('')\r\n    }, 3000);\r\n    this.setState({ msg: this.props.msg })\r\n    // this.onSetMsg(\"An order has been made\" )\r\n  }\r\n\r\n  onGiftSent = async (order) => {\r\n    await this.props.userMsg('You got a gift!!!')\r\n    this.setState({ msg: this.props.msg })\r\n    setTimeout(() => {\r\n      this.props.userMsg('')\r\n    }, 3000);\r\n    this.setState({ msg: this.props.msg })\r\n    // this.onSetMsg(\"An order has been made\" )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"app\">\r\n        <Router>\r\n          <Header msg={this.props.msg} isUpdate={this.state.isUpdate}></Header>\r\n          <main className=\"\">\r\n            <Switch>\r\n              <Route path=\"/login\" component={Login} />\r\n              <Route path=\"/profile/mystore/edit/:gameId?\" component={GameEdit} />\r\n              <Route path=\"/profile\" component={UserProfile} />\r\n              <Route path=\"/game/order/:gameId\" component={GameCart} />\r\n              <Route path=\"/game/:gameId\" component={GameDetails} />\r\n              <Route path=\"/game\" component={GameApp} />\r\n              <Route path=\"/about\" component={About} />\r\n              <Route path=\"/\" component={Home} />\r\n            </Switch>\r\n          </main>\r\n          <Footer />\r\n        </Router>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    msg: state.userModule.msg\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  userMsg,\r\n  login\r\n}\r\n\r\nexport const App = connect(mapStateToProps, mapDispatchToProps)(_App)\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const initialState = {\r\n  reviews: [],\r\n}\r\n\r\nexport function reviewReducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_REVIEWS':\r\n      return { ...state, reviews: action.reviews }\r\n    case 'ADD_REVIEW':\r\n      return { ...state, reviews: [...state.reviews, action.review] }\r\n    case 'REMOVE_REVIEW':\r\n      return { ...state, reviews: state.reviews.filter(review => review._id !== action.reviewId) }\r\n    case 'UPDATE_REVIEW':\r\n      return {\r\n        ...state,\r\n        reviews: state.reviews.map(review =>\r\n          review._id === action.review._id ? action.review : review\r\n        )}\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","let localLoggedinUser = null\r\nif (sessionStorage.loggedinUser) localLoggedinUser = JSON.parse(sessionStorage.loggedinUser)\r\n\r\nconst initialState = {\r\n  msg: '',\r\n  loggedInUser: localLoggedinUser,\r\n  users: []\r\n}\r\n\r\nexport function userReducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_USER':\r\n      return { ...state, loggedInUser: action.user }\r\n    case 'REMOVE_USER':\r\n      return {\r\n        ...state,\r\n        users: state.users.filter(user => user._id !== action.userId)\r\n      }\r\n    case 'SET_USERS':\r\n      return { ...state, users: action.users }\r\n    case 'SET_MSG':\r\n      return { ...state, msg: action.msg }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","const initialState = {\r\n  isLoading: false\r\n};\r\n\r\nexport function systemReducer (state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'LOADING_START':\r\n      return { ...state, isLoading: true }\r\n    case 'LOADING_DONE':\r\n      return { ...state, isLoading: false }\r\n    default: return state\r\n  }\r\n}\r\n","const initialState = {\r\n    games: [],\r\n}\r\n\r\nexport function gameReducer(state = initialState, action = {}) {\r\n    switch (action.type) {\r\n        case 'SET_GAMES':\r\n            return { ...state, games: action.games }\r\n        case 'ADD_GAME':\r\n            return { ...state, games: [...state.games, action.game] }\r\n        case 'REMOVE_GAME':\r\n            return { ...state, games: state.games.filter(game => game._id !== action.gameId) }\r\n        case 'UPDATE_GAME':\r\n            return {\r\n                ...state,\r\n                games: state.games.map(game =>\r\n                    game._id === action.game._id ? action.game : game\r\n                )\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}","\r\n\r\nconst initialState = {\r\n    carts: [],\r\n}\r\n\r\nexport function cartReducer(state = initialState, action = {}) {\r\n    const newCarts = state.carts.filter(cart => cart.gameId !== action.gameId)\r\n    switch (action.type) {\r\n        case 'SET_CARTS':\r\n            return { ...state, carts: action.carts }\r\n        case 'ADD_CART':\r\n            console.log('action', action.cart);\r\n            return { ...state, carts: [...state.carts, action.cart] }\r\n        case 'REMOVE_CART':\r\n            return { ...state, carts: state.carts.filter(cart => cart.game._id !== action.gameId) }\r\n        case 'REMOVE_CARTS':\r\n            return { ...state, carts: [] }\r\n        //   case 'REMOVE_ORDERS':\r\n        //     return { ...state, orders: []}\r\n        //   case 'UPDATE_ORDER':\r\n        //     return {\r\n        //       ...state,\r\n        //       reviews: state.reviews.map(review =>\r\n        //         review._id === action.review._id ? action.review : review\r\n        //       )}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","const initialState = {\r\n    orders: [],\r\n}\r\n\r\nexport function orderReducer(state = initialState, action = {}) {\r\n    switch (action.type) {\r\n        case 'SET_ORDERS':\r\n            return { ...state, orders: action.orders }\r\n        case 'ADD_ORDER':\r\n            return { ...state, orders: [...state.orders, action.order] }\r\n        default:\r\n            return state\r\n    }\r\n}","import { combineReducers } from 'redux'\r\nimport { reviewReducer } from './review.reducer'\r\nimport { userReducer } from './user.reducer'\r\nimport { systemReducer } from './system.reducer'\r\nimport { gameReducer } from './game.reducer'\r\nimport { cartReducer } from './cart.reducer'\r\nimport { orderReducer } from './order.reducer'\r\n\r\nexport const rootReducer = combineReducers({\r\n  systemModule: systemReducer,\r\n  reviewModule: reviewReducer,\r\n  userModule: userReducer,\r\n  gameModule: gameReducer,\r\n  cartModule:cartReducer,\r\n  orderModule:orderReducer,\r\n})\r\n","import { createStore, applyMiddleware, compose } from 'redux'\r\n\r\nimport thunk from 'redux-thunk'\r\nimport { rootReducer } from './reducers'\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n)\r\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport { App } from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport './assets/styles/main.scss'\nimport { store } from './store/store'\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n\nserviceWorkerRegistration.unregister();\n\nreportWebVitals();\n"],"sourceRoot":""}